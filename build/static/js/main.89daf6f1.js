/*! For license information please see main.89daf6f1.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},45:(e,t,n)=>{var r=n(738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,n)=>{var r=n(79);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},132:(e,t,n)=>{var r=n(901),a=n(291),i=n(122),s=n(869);e.exports=function(e){return r(e)||a(e)||i(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},153:(e,t,n)=>{"use strict";var r=n(43),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:l,props:i,_owner:o.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},156:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,m(k,g.prototype),k.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,a)&&!j.hasOwnProperty(a)&&(i[a]=t[a]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(a in c=e.defaultProps)void 0===i[a]&&(i[a]=c[a]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:N.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c=!1;if(null===e)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return s=s(c=e),e=""===i?"."+C(c,0):i,x(s)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),T(s,t,a,"",function(e){return e})):null!=s&&(_(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(c=0,i=""===i?".":i+":",x(e))for(var u=0;u<e.length;u++){var l=i+C(o=e[u],u);c+=T(o,t,a,l,s)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(o=e.next()).done;)c+=T(o=o.value,t,a,l=i+C(o,u++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function I(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:N};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)w.call(t,u)&&!j.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}return{$$typeof:n,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,c=e[o],u=o+1,l=e[u];if(0>i(c,n))u<a&&0>i(l,c)?(e[r]=l,e[u]=n,r=u):(e[r]=c,e[o]=n,r=o);else{if(!(u<a&&0>i(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],l=[],d=1,f=null,h=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)a(l);else{if(!(t.startTime<=e))break;a(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function x(e){if(v=!1,k(e),!m)if(null!==r(u))m=!0,P(w);else{var t=r(l);null!==t&&R(x,t.startTime-e)}}function w(e,n){m=!1,v&&(v=!1,y(_),_=-1),p=!0;var i=h;try{for(k(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!T());){var s=f.callback;if("function"===typeof s){f.callback=null,h=f.priorityLevel;var o=s(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?f.callback=o:f===r(u)&&a(u),k(n)}else a(u);f=r(u)}if(null!==f)var c=!0;else{var d=r(l);null!==d&&R(x,d.startTime-n),c=!1}return c}finally{f=null,h=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,j=!1,S=null,_=-1,E=5,C=-1;function T(){return!(t.unstable_now()-C<E)}function I(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?N():(j=!1,S=null)}}else j=!1}if("function"===typeof b)N=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=I,N=function(){D.postMessage(null)}}else N=function(){g(I,0)};function P(e){S=e,j||(j=!0,N())}function R(e,n){_=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(l,e),null===r(u)&&e===r(l)&&(v?(y(_),_=-1):v=!0,R(x,i-s))):(e.sortIndex=o,n(u,e),m||p||(m=!0,P(w))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},291:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{"use strict";e.exports=n(153)},693:(e,t,n)=>{var r=n(736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,n)=>{var r=n(987),a=n(156),i=n(122),s=n(752);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},730:(e,t,n)=>{"use strict";var r=n(43),a=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var c="\n"+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=o);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return le(e,t)})}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,je=null;function Se(e){if(e=ba(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=xa(t),we(e.stateNode,e.type,t))}}function _e(e){Ne?je?je.push(e):je=[e]:Ne=e}function Ee(){if(Ne){var e=Ne,t=je;if(je=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ce(e,t,n)}finally{Ie=!1,(null!==Ne||null!==je)&&(Te(),Ee())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Oe(e,t,n,r,a,i,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,Ve=null,Ue={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,a,i,s,o,c){Le=!1,Me=null,Oe.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return He(a),e;if(s===r)return He(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=s;break}if(c===r){o=!0,r=a,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=a;break}if(c===r){o=!0,r=s,n=a;break}c=c.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Je=a.unstable_now,$e=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/ct|0)|0},ot=Math.log,ct=Math.LN2;var ut=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~a;0!==o?r=dt(o):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~a)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,Nt,jt,St,_t=!1,Et=[],Ct=null,Tt=null,It=null,At=new Map,Dt=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=ya(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){_t=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),At.forEach(Vt),Dt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Et.length){zt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Tt&&zt(Tt,e),null!==It&&zt(It,e),At.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=k.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var a=bt,i=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=a,qt.transition=i}}function Gt(e,t,n,r){var a=bt,i=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=a,qt.transition=i}}function Kt(e,t,n,r){if(Ht){var a=Xt(e,t,n,r);if(null===a)Hr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,a),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,a),!0;case"mouseover":return It=Lt(It,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return At.set(i,Lt(At.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Dt.set(i,Lt(Dt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&xt(i),null===(i=Xt(e,t,n,r))&&Hr(e,t,r,Qt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=ya(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(un),dn=M({},un,{view:0,detail:0}),fn=an(dn),hn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,on=e.screenY-cn.screenY):on=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(hn),mn=an(M({},hn,{dataTransfer:0})),vn=an(M({},dn,{relatedTarget:0})),gn=an(M({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(M({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Sn(){return jn}var _n=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(_n),Cn=an(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),In=an(M({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(An),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Ln=l&&"TextEvent"in window&&!On,Mn=l&&(!Rn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){_e(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fr(e,0)}function Xn(e){if(K(ka(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var $n;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Wn(t,Kn,e,xe(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function ir(e,t){if("click"===e)return Xn(t)}function sr(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=lr(n,i);var s=lr(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=l&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==Q(r)||("selectionStart"in(r=vr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Nr={},jr={};function Sr(e){if(Nr[e])return Nr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in jr)return Nr[e]=n[t];return e}l&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var _r=Sr("animationend"),Er=Sr("animationiteration"),Cr=Sr("animationstart"),Tr=Sr("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ir.set(e,t),c(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Rr=Ar[Pr];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(_r,"onAnimationEnd"),Dr(Er,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Tr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,o,c,u){if(ze.apply(this,arguments),Le){if(!Le)throw Error(i(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Mr(a,o,u),i=c}else for(s=0;s<r.length;s++){if(c=(o=r[s]).instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Mr(a,o,u),i=c}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var a=Wt;break;case 4:a=Gt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===a||8===c.nodeType&&c.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ya(o)))return;if(5===(c=s.tag)||6===c){r=i=s;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=i,a=xe(n),s=[];e:{var o=Ir.get(e);if(void 0!==o){var c=ln,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=En;break;case"focusin":u="focus",c=vn;break;case"focusout":u="blur",c=vn;break;case"beforeblur":case"afterblur":c=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Tn;break;case _r:case Er:case Cr:c=gn;break;case Tr:c=In;break;case"scroll":c=fn;break;case"wheel":c=Dn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Cn}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==o?o+"Capture":null:o;l=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=De(p,f))&&l.push(Wr(p,m,h)))),d)break;p=p.return}0<l.length&&(o=new c(o,u,null,n,a),s.push({event:o,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ke||!(u=n.relatedTarget||n.fromElement)||!ya(u)&&!u[pa])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ya(u):null)&&(u!==(d=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==c?o:ka(c),h=null==u?o:ka(u),(o=new l(m,p+"leave",c,n,a)).target=d,o.relatedTarget=h,m=null,ya(a)===r&&((l=new l(f,p+"enter",u,n,a)).target=h,l.relatedTarget=d,m=l),d=m,c&&u)e:{for(f=u,p=0,h=l=c;h;h=Kr(h))p++;for(h=0,m=f;m;m=Kr(m))h++;for(;0<p-h;)l=Kr(l),p--;for(;0<h-p;)f=Kr(f),h--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Kr(l),f=Kr(f)}l=null}else l=null;null!==c&&Qr(s,o,c,l,!1),null!==u&&null!==d&&Qr(s,d,u,l,!0)}if("select"===(c=(o=r?ka(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Yn;else if(Hn(o))if(Jn)v=sr;else{v=ar;var g=rr}else(c=o.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=ir);switch(v&&(v=v(e,r))?Wn(s,v,n,a):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?ka(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(s,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":kr(s,n,a)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):($t="value"in(Jt=a)?Jt.value:Jt.textContent,Bn=!0)),0<(g=Gr(r,b)).length&&(b=new kn(b,e,null,n,a),s.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Zt=$t=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new kn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=y))}Fr(s,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=De(e,n))&&r.unshift(Wr(e,i,a)),null!=(i=De(e,t))&&r.push(Wr(e,i,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(null!==c&&c===r)break;5===o.tag&&null!==u&&(o=u,a?null!=(c=De(n,i))&&s.unshift(Wr(n,c,o)):a||null!=(c=De(n,i))&&s.push(Wr(n,c,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function ca(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function la(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,ha="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,va="__reactListeners$"+da,ga="__reactHandles$"+da;function ya(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=la(e);null!==e;){if(n=e[fa])return n;e=la(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[fa]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ka(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xa(e){return e[ha]||null}var wa=[],Na=-1;function ja(e){return{current:e}}function Sa(e){0>Na||(e.current=wa[Na],wa[Na]=null,Na--)}function _a(e,t){Na++,wa[Na]=e.current,e.current=t}var Ea={},Ca=ja(Ea),Ta=ja(!1),Ia=Ea;function Aa(e,t){var n=e.type.contextTypes;if(!n)return Ea;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Da(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pa(){Sa(Ta),Sa(Ca)}function Ra(e,t,n){if(Ca.current!==Ea)throw Error(i(168));_a(Ca,t),_a(Ta,n)}function Oa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,q(e)||"Unknown",a));return M({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Ia=Ca.current,_a(Ca,e),_a(Ta,Ta.current),!0}function Ma(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Oa(e,t,Ia),r.__reactInternalMemoizedMergedChildContext=e,Sa(Ta),Sa(Ca),_a(Ca,e)):Sa(Ta),_a(Ta,n)}var Fa=null,Va=!1,Ua=!1;function za(e){null===Fa?Fa=[e]:Fa.push(e)}function Ba(){if(!Ua&&null!==Fa){Ua=!0;var e=0,t=bt;try{var n=Fa;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,Va=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ke(Ze,Ba),a}finally{bt=t,Ua=!1}}return null}var qa=[],Ha=0,Wa=null,Ga=0,Ka=[],Qa=0,Xa=null,Ya=1,Ja="";function $a(e,t){qa[Ha++]=Ga,qa[Ha++]=Wa,Wa=e,Ga=t}function Za(e,t,n){Ka[Qa++]=Ya,Ka[Qa++]=Ja,Ka[Qa++]=Xa,Xa=e;var r=Ya;e=Ja;var a=32-st(r)-1;r&=~(1<<a),n+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Ya=1<<32-st(t)+a|n<<a|r,Ja=i+e}else Ya=1<<i|n<<a|r,Ja=e}function ei(e){null!==e.return&&($a(e,1),Za(e,1,0))}function ti(e){for(;e===Wa;)Wa=qa[--Ha],qa[Ha]=null,Ga=qa[--Ha],qa[Ha]=null;for(;e===Xa;)Xa=Ka[--Qa],Ka[Qa]=null,Ja=Ka[--Qa],Ka[Qa]=null,Ya=Ka[--Qa],Ka[Qa]=null}var ni=null,ri=null,ai=!1,ii=null;function si(e,t){var n=Au(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xa?{id:Ya,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Au(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ai){var t=ri;if(t){var n=t;if(!oi(e,t)){if(ci(e))throw Error(i(418));t=ua(n.nextSibling);var r=ni;t&&oi(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function li(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return li(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(ci(e))throw fi(),Error(i(418));for(;t;)si(e,t),t=ua(t.nextSibling)}if(li(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ua(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=ri;e;)e=ua(e.nextSibling)}function hi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=k.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Mu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===D&&yi(i)===t.type)?((r=a(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ou(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case w:return(t=Fu(t,e.mode,n)).return=e,t;case D:return f(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Ou(t,e.mode,n,null)).return=e,t;gi(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?u(e,t,n,r):null;case w:return n.key===a?l(e,t,n,r):null;case D:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||O(n))return null!==a?null:d(e,t,n,r,null);gi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case D:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,a,null);gi(t,r)}return null}function m(a,i,o,c){for(var u=null,l=null,d=i,m=i=0,v=null;null!==d&&m<o.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=h(a,d,o[m],c);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(a,d),i=s(g,i,m),null===l?u=g:l.sibling=g,l=g,d=v}if(m===o.length)return n(a,d),ai&&$a(a,m),u;if(null===d){for(;m<o.length;m++)null!==(d=f(a,o[m],c))&&(i=s(d,i,m),null===l?u=d:l.sibling=d,l=d);return ai&&$a(a,m),u}for(d=r(a,d);m<o.length;m++)null!==(v=p(d,a,m,o[m],c))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),i=s(v,i,m),null===l?u=v:l.sibling=v,l=v);return e&&d.forEach(function(e){return t(a,e)}),ai&&$a(a,m),u}function v(a,o,c,u){var l=O(c);if("function"!==typeof l)throw Error(i(150));if(null==(c=l.call(c)))throw Error(i(151));for(var d=l=null,m=o,v=o=0,g=null,y=c.next();null!==m&&!y.done;v++,y=c.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=h(a,m,y.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(a,m),o=s(b,o,v),null===d?l=b:d.sibling=b,d=b,m=g}if(y.done)return n(a,m),ai&&$a(a,v),l;if(null===m){for(;!y.done;v++,y=c.next())null!==(y=f(a,y.value,u))&&(o=s(y,o,v),null===d?l=y:d.sibling=y,d=y);return ai&&$a(a,v),l}for(m=r(a,m);!y.done;v++,y=c.next())null!==(y=p(m,a,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),o=s(y,o,v),null===d?l=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),ai&&$a(a,v),l}return function e(r,i,s,c){if("object"===typeof s&&null!==s&&s.type===N&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var u=s.key,l=i;null!==l;){if(l.key===u){if((u=s.type)===N){if(7===l.tag){n(r,l.sibling),(i=a(l,s.props.children)).return=r,r=i;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===D&&yi(u)===l.type){n(r,l.sibling),(i=a(l,s.props)).ref=vi(r,l,s),i.return=r,r=i;break e}n(r,l);break}t(r,l),l=l.sibling}s.type===N?((i=Ou(s.props.children,r.mode,c,s.key)).return=r,r=i):((c=Ru(s.type,s.key,s.props,null,r.mode,c)).ref=vi(r,i,s),c.return=r,r=c)}return o(r);case w:e:{for(l=s.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=a(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fu(s,r.mode,c)).return=r,r=i}return o(r);case D:return e(r,i,(l=s._init)(s._payload),c)}if(te(s))return m(r,i,s,c);if(O(s))return v(r,i,s,c);gi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,s)).return=r,r=i):(n(r,i),(i=Mu(s,r.mode,c)).return=r,r=i),o(r)):n(r,i)}}var ki=bi(!0),xi=bi(!1),wi=ja(null),Ni=null,ji=null,Si=null;function _i(){Si=ji=Ni=null}function Ei(e){var t=wi.current;Sa(wi),e._currentValue=t}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){Ni=e,Si=ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ii(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},null===ji){if(null===Ni)throw Error(i(308));ji=e,Ni.dependencies={lanes:0,firstContext:e}}else ji=ji.next=e;return t}var Ai=null;function Di(e){null===Ai?Ai=[e]:Ai.push(e)}function Pi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Di(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ri(e,r)}function Ri(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ri(e,n)}return null===(a=r.interleaved)?(t.next=t,Di(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ri(e,n)}function Ui(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var a=e.updateQueue;Oi=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var c=o,u=c.next;c.next=null,null===s?i=u:s.next=u,s=c;var l=e.alternate;null!==l&&((o=(l=l.updateQueue).lastBaseUpdate)!==s&&(null===o?l.firstBaseUpdate=u:o.next=u,l.lastBaseUpdate=c))}if(null!==i){var d=a.baseState;for(s=0,l=u=c=null,o=i;;){var f=o.lane,h=o.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=M({},d,f);break e;case 2:Oi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===l?(u=l=h,c=d):l=l.next=h,s|=f;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(f=o).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===l&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=l,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Lc|=s,e.lanes=s,e.memoizedState=d}}function qi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Hi={},Wi=ja(Hi),Gi=ja(Hi),Ki=ja(Hi);function Qi(e){if(e===Hi)throw Error(i(174));return e}function Xi(e,t){switch(_a(Ki,t),_a(Gi,e),_a(Wi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Wi),_a(Wi,t)}function Yi(){Sa(Wi),Sa(Gi),Sa(Ki)}function Ji(e){Qi(Ki.current);var t=Qi(Wi.current),n=ce(t,e.type);t!==n&&(_a(Gi,e),_a(Wi,n))}function $i(e){Gi.current===e&&(Sa(Wi),Sa(Gi))}var Zi=ja(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=k.ReactCurrentDispatcher,as=k.ReactCurrentBatchConfig,is=0,ss=null,os=null,cs=null,us=!1,ls=!1,ds=0,fs=0;function hs(){throw Error(i(321))}function ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,a,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?$s:Zs,e=n(r,a),ls){s=0;do{if(ls=!1,ds=0,25<=s)throw Error(i(301));s+=1,cs=os=null,t.updateQueue=null,rs.current=eo,e=n(r,a)}while(ls)}if(rs.current=Js,t=null!==os&&null!==os.next,is=0,cs=os=ss=null,us=!1,t)throw Error(i(300));return e}function vs(){var e=0!==ds;return ds=0,e}function gs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?ss.memoizedState=cs=e:cs=cs.next=e,cs}function ys(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===cs?ss.memoizedState:cs.next;if(null!==t)cs=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===cs?ss.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function ks(e){var t=ys(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=os,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var c=o=null,u=null,l=s;do{var d=l.lane;if((is&d)===d)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=f,o=r):u=u.next=f,ss.lanes|=d,Lc|=d}l=l.next}while(null!==l&&l!==s);null===u?o=r:u.next=c,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ss.lanes|=s,Lc|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=ys(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);or(s,t.memoizedState)||(bo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ws(){}function Ns(e,t){var n=ss,r=ys(),a=t(),s=!or(r.memoizedState,a);if(s&&(r.memoizedState=a,bo=!0),r=r.queue,Os(_s.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Is(9,Ss.bind(null,n,r,a,t),void 0,null),null===Tc)throw Error(i(349));0!==(30&is)||js(n,t,a)}return a}function js(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ss(e,t,n,r){t.value=n,t.getSnapshot=r,Es(t)&&Cs(e)}function _s(e,t,n){return n(function(){Es(t)&&Cs(e)})}function Es(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Cs(e){var t=Ri(e,1);null!==t&&nu(t,e,1,-1)}function Ts(e){var t=gs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,ss,e),[t.memoizedState,e]}function Is(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function As(){return ys().memoizedState}function Ds(e,t,n,r){var a=gs();ss.flags|=e,a.memoizedState=Is(1|t,n,void 0,void 0===r?null:r)}function Ps(e,t,n,r){var a=ys();r=void 0===r?null:r;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==r&&ps(r,s.deps))return void(a.memoizedState=Is(t,n,i,r))}ss.flags|=e,a.memoizedState=Is(1|t,n,i,r)}function Rs(e,t){return Ds(8390656,8,e,t)}function Os(e,t){return Ps(2048,8,e,t)}function Ls(e,t){return Ps(4,2,e,t)}function Ms(e,t){return Ps(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4,4,Fs.bind(null,t,e),n)}function Us(){}function zs(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bs(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qs(e,t,n){return 0===(21&is)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ss.lanes|=n,Lc|=n,e.baseState=!0),t)}function Hs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{bt=n,as.transition=r}}function Ws(){return ys().memoizedState}function Gs(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qs(e))Xs(t,n);else if(null!==(n=Pi(e,t,n,r))){nu(n,e,r,eu()),Ys(n,t,r)}}function Ks(e,t,n){var r=tu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qs(e))Xs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,s)){var c=t.interleaved;return null===c?(a.next=a,Di(t)):(a.next=c.next,c.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Pi(e,t,a,r))&&(nu(n,e,r,a=eu()),Ys(n,t,r))}}function Qs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Xs(e,t){ls=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Ii,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},$s={readContext:Ii,useCallback:function(e,t){return gs().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:Rs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=gs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gs().memoizedState=e},useState:Ts,useDebugValue:Us,useDeferredValue:function(e){return gs().memoizedState=e},useTransition:function(){var e=Ts(!1),t=e[0];return e=Hs.bind(null,e[1]),gs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,a=gs();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tc)throw Error(i(349));0!==(30&is)||js(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Rs(_s.bind(null,r,s,e),[e]),r.flags|=2048,Is(9,Ss.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=gs(),t=Tc.identifierPrefix;if(ai){var n=Ja;t=":"+t+"R"+(n=(Ya&~(1<<32-st(Ya)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zs={readContext:Ii,useCallback:zs,useContext:Ii,useEffect:Os,useImperativeHandle:Vs,useInsertionEffect:Ls,useLayoutEffect:Ms,useMemo:Bs,useReducer:ks,useRef:As,useState:function(){return ks(bs)},useDebugValue:Us,useDeferredValue:function(e){return qs(ys(),os.memoizedState,e)},useTransition:function(){return[ks(bs)[0],ys().memoizedState]},useMutableSource:ws,useSyncExternalStore:Ns,useId:Ws,unstable_isNewReconciler:!1},eo={readContext:Ii,useCallback:zs,useContext:Ii,useEffect:Os,useImperativeHandle:Vs,useInsertionEffect:Ls,useLayoutEffect:Ms,useMemo:Bs,useReducer:xs,useRef:As,useState:function(){return xs(bs)},useDebugValue:Us,useDeferredValue:function(e){var t=ys();return null===os?t.memoizedState=e:qs(t,os.memoizedState,e)},useTransition:function(){return[xs(bs)[0],ys().memoizedState]},useMutableSource:ws,useSyncExternalStore:Ns,useId:Ws,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),i=Fi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,a))&&(nu(t,e,a,r),Ui(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),i=Fi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,a))&&(nu(t,e,a,r),Ui(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),a=Fi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Vi(e,a,r))&&(nu(t,e,r,n),Ui(t,e,r))}};function ao(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(a,i))}function io(e,t,n){var r=!1,a=Ea,i=t.contextType;return"object"===typeof i&&null!==i?i=Ii(i):(a=Da(t)?Ia:Ca.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Aa(e,a):Ea),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ii(i):(i=Da(t)?Ia:Ca.current,a.context=Aa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Bi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function lo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hc||(Hc=!0,Wc=r),lo(0,t)},n}function po(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){lo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){lo(0,t),"function"!==typeof r&&(null===Gc?Gc=new Set([this]):Gc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,Vi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yo=k.ReactCurrentOwner,bo=!1;function ko(e,t,n,r){t.child=null===e?xi(t,null,n,r):ki(t,e.child,n,r)}function xo(e,t,n,r,a){n=n.render;var i=t.ref;return Ti(t,a),r=ms(e,t,n,r,i,a),n=vs(),null===e||bo?(ai&&n&&ei(t),t.flags|=1,ko(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function wo(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Du(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,No(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(s,r)&&e.ref===t.ref)return Ho(e,t,a)}return t.flags|=1,(e=Pu(i,r)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(cr(i,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Ho(e,t,a);0!==(131072&e.flags)&&(bo=!0)}}return _o(e,t,n,r,a)}function jo(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_a(Pc,Dc),Dc|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_a(Pc,Dc),Dc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,_a(Pc,Dc),Dc|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,_a(Pc,Dc),Dc|=r;return ko(e,t,a,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,r,a){var i=Da(n)?Ia:Ca.current;return i=Aa(t,i),Ti(t,a),n=ms(e,t,n,r,i,a),r=vs(),null===e||bo?(ai&&r&&ei(t),t.flags|=1,ko(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function Eo(e,t,n,r,a){if(Da(n)){var i=!0;La(t)}else i=!1;if(Ti(t,a),null===t.stateNode)qo(e,t),io(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ii(u):u=Aa(t,u=Da(n)?Ia:Ca.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||c!==u)&&so(t,s,r,u),Oi=!1;var f=t.memoizedState;s.state=f,Bi(t,r,s,a),c=t.memoizedState,o!==r||f!==c||Ta.current||Oi?("function"===typeof l&&(no(t,n,l,r),c=t.memoizedState),(o=Oi||ao(t,n,o,r,f,c,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Mi(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:to(t.type,o),s.props=u,d=t.pendingProps,f=s.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ii(c):c=Aa(t,c=Da(n)?Ia:Ca.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||f!==c)&&so(t,s,r,c),Oi=!1,f=t.memoizedState,s.state=f,Bi(t,r,s,a);var p=t.memoizedState;o!==d||f!==p||Ta.current||Oi?("function"===typeof h&&(no(t,n,h,r),p=t.memoizedState),(u=Oi||ao(t,n,u,r,f,p,c)||!1)?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,i,a)}function Co(e,t,n,r,a,i){So(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&Ma(t,n,!1),Ho(e,t,i);r=t.stateNode,yo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,o,i)):ko(e,t,o,i),t.memoizedState=r.state,a&&Ma(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Ra(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(0,t.context,!1),Xi(e,t.containerInfo)}function Io(e,t,n,r,a){return hi(),pi(a),t.flags|=256,ko(e,t,n,r),t.child}var Ao,Do,Po,Ro,Oo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,a=t.pendingProps,s=Zi.current,o=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),_a(Zi,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=a.children,e=a.fallback,o?(a=t.mode,o=t.child,c={mode:"hidden",children:c},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=c):o=Lu(c,a,0,null),e=Ou(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Oo,e):Fo(t,c));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=uo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Lu({mode:"visible",children:r.children},a,0,null),(s=Ou(s,a,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&ki(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Oo,s);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var c=r.dgst;return r=c,Vo(e,t,o,r=uo(s=Error(i(419)),r,void 0))}if(c=0!==(o&e.childLanes),bo||c){if(null!==(r=Tc)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Ri(e,a),nu(r,e,a,-1))}return mu(),Vo(e,t,o,r=uo(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Eu.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ri=ua(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ka[Qa++]=Ya,Ka[Qa++]=Ja,Ka[Qa++]=Xa,Ya=e.id,Ja=e.overflow,Xa=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,c,a,r,s,n);if(o){o=a.fallback,c=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&c)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Pu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Pu(r,o):(o=Ou(o,c,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,c=null===(c=e.child.memoizedState)?Lo(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,a}return e=(o=e.child).sibling,a=Pu(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fo(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&pi(r),ki(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function zo(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Bo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ko(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_a(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),zo(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===es(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}zo(t,!0,n,null,i);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Da(t.type)&&Pa(),Go(t),null;case 3:return r=t.stateNode,Yi(),Sa(Ta),Sa(Ca),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(su(ii),ii=null))),Do(e,t),Go(t),null;case 5:$i(t);var a=Qi(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Po(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Go(t),null}if(e=Qi(Wi.current),di(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fa]=t,r[ha]=s,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(a=0;a<Or.length;a++)Vr(Or[a],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,s),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vr("invalid",r);break;case"textarea":ae(r,s),Vr("invalid",r)}for(var c in ye(n,s),a=null,s)if(s.hasOwnProperty(c)){var u=s[c];"children"===c?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&$r(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&$r(r.textContent,u,e),a=["children",""+u]):o.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[fa]=t,e[ha]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),a=r;break;case"iframe":case"object":case"embed":Vr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Or.length;a++)Vr(Or[a],e);a=r;break;case"source":Vr("error",e),a=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),a=r;break;case"details":Vr("toggle",e),a=r;break;case"input":Y(e,r),a=X(e,r),Vr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Vr("invalid",e)}for(s in ye(n,a),u=a)if(u.hasOwnProperty(s)){var l=u[s];"style"===s?ve(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===s?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Vr("scroll",e):null!=l&&b(e,s,l,c))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Qi(Ki.current),Qi(Wi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(s=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return Go(t),null;case 13:if(Sa(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))fi(),hi(),t.flags|=98560,s=!1;else if(s=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[fa]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),s=!1}else null!==ii&&(su(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Rc&&(Rc=3):mu())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Yi(),Do(e,t),null===e&&Br(t.stateNode.containerInfo),Go(t),null;case 10:return Ei(t.type._context),Go(t),null;case 19:if(Sa(Zi),null===(s=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(c=s.rendering))if(r)Wo(s,!1);else{if(0!==Rc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=es(e))){for(t.flags|=128,Wo(s,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _a(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Bc&&(t.flags|=128,r=!0,Wo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!ai)return Go(t),null}else 2*Je()-s.renderingStartTime>Bc&&1073741824!==n&&(t.flags|=128,r=!0,Wo(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=s.last)?n.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=Zi.current,_a(Zi,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dc)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qo(e,t){switch(ti(t),t.tag){case 1:return Da(t.type)&&Pa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yi(),Sa(Ta),Sa(Ca),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $i(t),null;case 13:if(Sa(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Zi),null;case 4:return Yi(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Po=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Qi(Wi.current);var i,s=null;switch(n){case"input":a=X(e,a),r=X(e,r),s=[];break;case"select":a=M({},a,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,a)if(!r.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if("style"===l){var c=a[l];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(o.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=a?a[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(i in c)!c.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&c[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(o.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Vr("scroll",e),s||c===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}},Ro=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xo=!1,Yo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){ju(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){ju(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&ec(t,n,i)}a=a.next}while(a!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ac(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ic(e){var t=e.alternate;null!==t&&(e.alternate=null,ic(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ha],delete t[ma],delete t[va],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function oc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var lc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)hc(e,t,n),n=n.sibling}function hc(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var r=lc,a=dc;lc=null,fc(e,t,n),dc=a,null!==(lc=r)&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lc.removeChild(n.stateNode));break;case 18:null!==lc&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?ca(e.parentNode,n):1===e.nodeType&&ca(e,n),Bt(e)):ca(lc,n.stateNode));break;case 4:r=lc,a=dc,lc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),lc=r,dc=a;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&ec(n,t,s),a=a.next}while(a!==r)}fc(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ju(n,t,o)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,fc(e,t,n),Yo=r):fc(e,t,n);break;default:fc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach(function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,c=o;e:for(;null!==c;){switch(c.tag){case 5:lc=c.stateNode,dc=!1;break e;case 3:case 4:lc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===lc)throw Error(i(160));hc(s,o,a),lc=null,dc=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(l){ju(a,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),gc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(v){ju(e,e.return,v)}try{nc(5,e,e.return)}catch(v){ju(e,e.return,v)}}break;case 1:mc(t,e),gc(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(mc(t,e),gc(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(v){ju(e,e.return,v)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===s.type&&null!=s.name&&J(a,s),be(c,o);var l=be(c,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];"style"===d?ve(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):b(a,d,f,l)}switch(c){case"input":$(a,s);break;case"textarea":ie(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(a,!!s.multiple,p,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[ha]=s}catch(v){ju(e,e.return,v)}}break;case 6:if(mc(t,e),gc(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){ju(e,e.return,v)}}break;case 3:if(mc(t,e),gc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){ju(e,e.return,v)}break;case 4:default:mc(t,e),gc(e);break;case 13:mc(t,e),gc(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(zc=Je())),4&r&&pc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(l=Yo)||d,mc(t,e),Yo=l):mc(t,e),gc(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for($o=e,d=e.child;null!==d;){for(f=$o=d;null!==$o;){switch(p=(h=$o).child,h.tag){case 0:case 11:case 14:case 15:nc(4,h,h.return);break;case 1:Zo(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){ju(r,n,v)}}break;case 5:Zo(h,h.return);break;case 22:if(null!==h.memoizedState){xc(f);continue}}null!==p?(p.return=h,$o=p):xc(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,l?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=f.stateNode,o=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=me("display",o))}catch(v){ju(e,e.return,v)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(v){ju(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mc(t,e),gc(e),4&r&&pc(e);case 21:}}function gc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),uc(e,oc(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;cc(e,oc(e),s);break;default:throw Error(i(161))}}catch(o){ju(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){$o=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var a=$o,i=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Xo;if(!s){var o=a.alternate,c=null!==o&&null!==o.memoizedState||Yo;o=Xo;var u=Yo;if(Xo=s,(Yo=c)&&!u)for($o=a;null!==$o;)c=(s=$o).child,22===s.tag&&null!==s.memoizedState?wc(a):null!==c?(c.return=s,$o=c):wc(a);for(;null!==i;)$o=i,bc(i,t,n),i=i.sibling;$o=a,Xo=o,Yo=u}kc(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,$o=i):kc(e)}}function kc(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&qi(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qi(t,o,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(i(163))}Yo||512&t.flags&&ac(t)}catch(h){ju(t,t.return,h)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function xc(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function wc(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){ju(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(c){ju(t,a,c)}}var i=t.return;try{ac(t)}catch(c){ju(t,i,c)}break;case 5:var s=t.return;try{ac(t)}catch(c){ju(t,s,c)}}}catch(c){ju(t,t.return,c)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Nc,jc=Math.ceil,Sc=k.ReactCurrentDispatcher,_c=k.ReactCurrentOwner,Ec=k.ReactCurrentBatchConfig,Cc=0,Tc=null,Ic=null,Ac=0,Dc=0,Pc=ja(0),Rc=0,Oc=null,Lc=0,Mc=0,Fc=0,Vc=null,Uc=null,zc=0,Bc=1/0,qc=null,Hc=!1,Wc=null,Gc=null,Kc=!1,Qc=null,Xc=0,Yc=0,Jc=null,$c=-1,Zc=0;function eu(){return 0!==(6&Cc)?Je():-1!==$c?$c:$c=Je()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Cc)&&0!==Ac?Ac&-Ac:null!==mi.transition?(0===Zc&&(Zc=mt()),Zc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yc)throw Yc=0,Jc=null,Error(i(185));gt(e,n,r),0!==(2&Cc)&&e===Tc||(e===Tc&&(0===(2&Cc)&&(Mc|=n),4===Rc&&ou(e,Ac)),ru(e,r),1===n&&0===Cc&&0===(1&t.mode)&&(Bc=Je()+500,Va&&Ba()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,c=a[s];-1===c?0!==(o&n)&&0===(o&r)||(a[s]=ht(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ft(e,e===Tc?Ac:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Va=!0,za(e)}(cu.bind(null,e)):za(cu.bind(null,e)),sa(function(){0===(6&Cc)&&Ba()}),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if($c=-1,Zc=0,0!==(6&Cc))throw Error(i(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=ft(e,e===Tc?Ac:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var a=Cc;Cc|=2;var s=pu();for(Tc===e&&Ac===t||(qc=null,Bc=Je()+500,fu(e,t));;)try{yu();break}catch(c){hu(e,c)}_i(),Sc.current=s,Cc=a,null!==Ic?t=0:(Tc=null,Ac=0,t=Rc)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=iu(e,a))),1===t)throw n=Oc,fu(e,0),ou(e,r),ru(e,Je()),n;if(6===t)ou(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!or(i(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vu(e,r))&&(0!==(s=pt(e))&&(r=s,t=iu(e,s))),1===t))throw n=Oc,fu(e,0),ou(e,r),ru(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xu(e,Uc,qc);break;case 3:if(ou(e,r),(130023424&r)===r&&10<(t=zc+500-Je())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xu.bind(null,e,Uc,qc),t);break}xu(e,Uc,qc);break;case 4:if(ou(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jc(r/1960))-r)){e.timeoutHandle=ra(xu.bind(null,e,Uc,qc),r);break}xu(e,Uc,qc);break;default:throw Error(i(329))}}}return ru(e,Je()),e.callbackNode===n?au.bind(null,e):null}function iu(e,t){var n=Vc;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Uc,Uc=n,null!==t&&su(t)),e}function su(e){null===Uc?Uc=e:Uc.push.apply(Uc,e)}function ou(e,t){for(t&=~Fc,t&=~Mc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cu(e){if(0!==(6&Cc))throw Error(i(327));wu();var t=ft(e,0);if(0===(1&t))return ru(e,Je()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Oc,fu(e,0),ou(e,t),ru(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Uc,qc),ru(e,Je()),null}function uu(e,t){var n=Cc;Cc|=1;try{return e(t)}finally{0===(Cc=n)&&(Bc=Je()+500,Va&&Ba())}}function lu(e){null!==Qc&&0===Qc.tag&&0===(6&Cc)&&wu();var t=Cc;Cc|=1;var n=Ec.transition,r=bt;try{if(Ec.transition=null,bt=1,e)return e()}finally{bt=r,Ec.transition=n,0===(6&(Cc=t))&&Ba()}}function du(){Dc=Pc.current,Sa(Pc)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Ic)for(n=Ic.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pa();break;case 3:Yi(),Sa(Ta),Sa(Ca),ns();break;case 5:$i(r);break;case 4:Yi();break;case 13:case 19:Sa(Zi);break;case 10:Ei(r.type._context);break;case 22:case 23:du()}n=n.return}if(Tc=e,Ic=e=Pu(e.current,null),Ac=Dc=t,Rc=0,Oc=null,Fc=Mc=Lc=0,Uc=Vc=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(r=(n=Ai[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=a,r.next=s}n.pending=r}Ai=null}return e}function hu(e,t){for(;;){var n=Ic;try{if(_i(),rs.current=Js,us){for(var r=ss.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}us=!1}if(is=0,cs=os=ss=null,ls=!1,ds=0,_c.current=null,null===n||null===n.return){Rc=1,Oc=t,Ic=null;break}e:{var s=e,o=n.return,c=n,u=t;if(t=Ac,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,d=c,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,go(p,o,c,0,t),1&p.mode&&mo(s,l,t),u=l;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}if(0===(1&t)){mo(s,l,t),mu();break e}u=Error(i(426))}else if(ai&&1&c.mode){var g=vo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),go(g,o,c,0,t),pi(co(u,c));break e}}s=u=co(u,c),4!==Rc&&(Rc=2),null===Vc?Vc=[s]:Vc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zi(s,ho(0,u,t));break e;case 1:c=u;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gc||!Gc.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,zi(s,po(s,c,t));break e}}s=s.return}while(null!==s)}ku(n)}catch(k){t=k,Ic===n&&null!==n&&(Ic=n=n.return);continue}break}}function pu(){var e=Sc.current;return Sc.current=Js,null===e?Js:e}function mu(){0!==Rc&&3!==Rc&&2!==Rc||(Rc=4),null===Tc||0===(268435455&Lc)&&0===(268435455&Mc)||ou(Tc,Ac)}function vu(e,t){var n=Cc;Cc|=2;var r=pu();for(Tc===e&&Ac===t||(qc=null,fu(e,t));;)try{gu();break}catch(a){hu(e,a)}if(_i(),Cc=n,Sc.current=r,null!==Ic)throw Error(i(261));return Tc=null,Ac=0,Rc}function gu(){for(;null!==Ic;)bu(Ic)}function yu(){for(;null!==Ic&&!Xe();)bu(Ic)}function bu(e){var t=Nc(e.alternate,e,Dc);e.memoizedProps=e.pendingProps,null===t?ku(e):Ic=t,_c.current=null}function ku(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Dc)))return void(Ic=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Ic=n);if(null===e)return Rc=6,void(Ic=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ic=t);Ic=t=e}while(null!==t);0===Rc&&(Rc=5)}function xu(e,t,n){var r=bt,a=Ec.transition;try{Ec.transition=null,bt=1,function(e,t,n,r){do{wu()}while(null!==Qc);if(0!==(6&Cc))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,s),e===Tc&&(Ic=Tc=null,Ac=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kc||(Kc=!0,Tu(tt,function(){return wu(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Ec.transition,Ec.transition=null;var o=bt;bt=1;var c=Cc;Cc|=4,_c.current=null,function(e,t){if(ea=Ht,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var o=0,c=-1,u=-1,l=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(c=o+a),f!==s||0!==r&&3!==f.nodeType||(u=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++l===a&&(c=o),h===s&&++d===r&&(u=o),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:to(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(i(163))}}catch(x){ju(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}m=tc,tc=!1}(e,n),vc(n,e),pr(ta),Ht=!!ea,ta=ea=null,e.current=n,yc(n,e,a),Ye(),Cc=c,bt=o,Ec.transition=s}else e.current=n;if(Kc&&(Kc=!1,Qc=e,Xc=a),s=e.pendingLanes,0===s&&(Gc=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hc)throw Hc=!1,e=Wc,Wc=null,e;0!==(1&Xc)&&0!==e.tag&&wu(),s=e.pendingLanes,0!==(1&s)?e===Jc?Yc++:(Yc=0,Jc=e):Yc=0,Ba()}(e,t,n,r)}finally{Ec.transition=a,bt=r}return null}function wu(){if(null!==Qc){var e=kt(Xc),t=Ec.transition,n=bt;try{if(Ec.transition=null,bt=16>e?16:e,null===Qc)var r=!1;else{if(e=Qc,Qc=null,Xc=0,0!==(6&Cc))throw Error(i(331));var a=Cc;for(Cc|=4,$o=e.current;null!==$o;){var s=$o,o=s.child;if(0!==(16&$o.flags)){var c=s.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for($o=l;null!==$o;){var d=$o;switch(d.tag){case 0:case 11:case 15:nc(8,d,s)}var f=d.child;if(null!==f)f.return=d,$o=f;else for(;null!==$o;){var h=(d=$o).sibling,p=d.return;if(ic(d),d===l){$o=null;break}if(null!==h){h.return=p,$o=h;break}$o=p}}}var m=s.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}$o=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,$o=o;else e:for(;null!==$o;){if(0!==(2048&(s=$o).flags))switch(s.tag){case 0:case 11:case 15:nc(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,$o=y;break e}$o=s.return}}var b=e.current;for($o=b;null!==$o;){var k=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==k)k.return=o,$o=k;else e:for(o=b;null!==$o;){if(0!==(2048&(c=$o).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(w){ju(c,c.return,w)}if(c===o){$o=null;break e}var x=c.sibling;if(null!==x){x.return=c.return,$o=x;break e}$o=c.return}}if(Cc=a,Ba(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{bt=n,Ec.transition=t}}return!1}function Nu(e,t,n){e=Vi(e,t=ho(0,t=co(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),ru(e,t))}function ju(e,t,n){if(3===e.tag)Nu(e,e,n);else for(;null!==t;){if(3===t.tag){Nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gc||!Gc.has(r))){t=Vi(t,e=po(t,e=co(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),ru(t,e));break}}t=t.return}}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Tc===e&&(Ac&n)===n&&(4===Rc||3===Rc&&(130023424&Ac)===Ac&&500>Je()-zc?fu(e,0):Fc|=n),ru(e,t)}function _u(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=eu();null!==(e=Ri(e,t))&&(gt(e,t,n),ru(e,n))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_u(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),_u(e,n)}function Tu(e,t){return Ke(e,t)}function Iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Au(e,t,n,r){return new Iu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=Au(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,a,s){var o=2;if(r=e,"function"===typeof e)Du(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Ou(n.children,a,s,t);case j:o=8,a|=8;break;case S:return(e=Au(12,n,t,2|a)).elementType=S,e.lanes=s,e;case T:return(e=Au(13,n,t,a)).elementType=T,e.lanes=s,e;case I:return(e=Au(19,n,t,a)).elementType=I,e.lanes=s,e;case P:return Lu(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case E:o=9;break e;case C:o=11;break e;case A:o=14;break e;case D:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Au(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Ou(e,t,n,r){return(e=Au(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Au(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Mu(e,t,n){return(e=Au(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Au(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,a,i,s,o,c){return e=new Vu(e,t,n,o,c),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Au(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function zu(e){if(!e)return Ea;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Da(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Da(n))return Oa(e,n,t)}return t}function Bu(e,t,n,r,a,i,s,o,c){return(e=Uu(n,r,!0,e,0,i,0,o,c)).context=zu(null),n=e.current,(i=Fi(r=eu(),a=tu(n))).callback=void 0!==t&&null!==t?t:null,Vi(n,i,a),e.current.lanes=a,gt(e,a,r),ru(e,r),e}function qu(e,t,n,r){var a=t.current,i=eu(),s=tu(a);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vi(a,t,s))&&(nu(e,a,s,i),Ui(e,a,s)),s}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}Nc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:To(t),hi();break;case 5:Ji(t);break;case 1:Da(t.type)&&La(t);break;case 4:Xi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;_a(wi,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_a(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(_a(Zi,1&Zi.current),null!==(e=Ho(e,t,n))?e.sibling:null);_a(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),_a(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,jo(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ai&&0!==(1048576&t.flags)&&Za(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var a=Aa(t,Ca.current);Ti(t,n),a=ms(null,t,r,e,a,n);var s=vs();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Da(r)?(s=!0,La(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Li(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=Co(null,t,r,!0,s,n)):(t.tag=0,ai&&s&&ei(t),ko(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),a){case 0:t=_o(null,t,r,e,n);break e;case 1:t=Eo(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=wo(null,t,r,to(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,_o(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,Eo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(To(t),null===e)throw Error(i(387));r=t.pendingProps,a=(s=t.memoizedState).element,Mi(e,t),Bi(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Io(e,t,r,n,a=co(Error(i(423)),t));break e}if(r!==a){t=Io(e,t,r,n,a=co(Error(i(424)),t));break e}for(ri=ua(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===a){t=Ho(e,t,n);break e}ko(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ui(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==s&&na(r,s)&&(t.flags|=32),So(e,t),ko(e,t,o,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Mo(e,t,n);case 4:return Xi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ki(t,null,r,n):ko(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return ko(e,t,t.pendingProps,n),t.child;case 8:case 12:return ko(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,_a(wi,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===a.children&&!Ta.current){t=Ho(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){o=s.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Fi(-1,n&-n)).tag=2;var l=s.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ci(s.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ci(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}ko(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ti(t,n),r=r(a=Ii(a)),t.flags|=1,ko(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),wo(e,t,r,a=to(r.type,a),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),qo(e,t),t.tag=1,Da(r)?(e=!0,La(t)):e=!1,Ti(t,n),io(t,r,a),oo(t,r,a,n),Co(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return jo(e,t,n)}throw Error(i(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(){}function Zu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Hu(s);o.call(e)}}qu(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Hu(s);i.call(e)}}var s=Bu(t,r,e,0,null,!1,0,"",$u);return e._reactRootContainer=s,e[pa]=s.current,Br(8===e.nodeType?e.parentNode:e),lu(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Hu(c);o.call(e)}}var c=Uu(e,0,!1,null,0,!1,0,"",$u);return e._reactRootContainer=c,e[pa]=c.current,Br(8===e.nodeType?e.parentNode:e),lu(function(){qu(t,c,n,r)}),c}(n,t,e,a,r);return Hu(s)}Xu.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));qu(e,t,null,null)},Xu.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lu(function(){qu(null,e,null,null)}),t[pa]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Je()),0===(6&Cc)&&(Bc=Je()+500,Ba()))}break;case 13:lu(function(){var t=Ri(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),Gu(e,1)}},wt=function(e){if(13===e.tag){var t=Ri(e,134217728);if(null!==t)nu(t,e,134217728,eu());Gu(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tu(e),n=Ri(e,t);if(null!==n)nu(n,e,t,eu());Gu(e,t)}},jt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(i(90));K(r),$(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uu,Te=lu;var el={usingClientEntryPoint:!1,Events:[ba,ka,xa,_e,Ee,uu]},tl={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{at=rl.inject(nl),it=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(i(299));var n=!1,r="",a=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(i(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",o=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bu(t,null,e,1,null!=n?n:null,a,0,s,o),e[pa]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Xu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(i(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(i(40));return!!e._reactRootContainer&&(lu(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},736:(e,t,n)=>{var r=n(738).default,a=n(45);e.exports=function(e){var t=a(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},818:(e,t,n)=>{var r=n(132).default,a=n(693).default,i=n(715).default;var s=n(43);function o(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c=o(s);!function(e){if(e&&"undefined"!==typeof window){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t)}}('.rfm-marquee-container {\n  overflow-x: hidden;\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  width: var(--width);\n  transform: var(--transform);\n}\n.rfm-marquee-container:hover div {\n  animation-play-state: var(--pause-on-hover);\n}\n.rfm-marquee-container:active div {\n  animation-play-state: var(--pause-on-click);\n}\n\n.rfm-overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.rfm-overlay::before, .rfm-overlay::after {\n  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));\n  content: "";\n  height: 100%;\n  position: absolute;\n  width: var(--gradient-width);\n  z-index: 2;\n  pointer-events: none;\n  touch-action: none;\n}\n.rfm-overlay::after {\n  right: 0;\n  top: 0;\n  transform: rotateZ(180deg);\n}\n.rfm-overlay::before {\n  left: 0;\n  top: 0;\n}\n\n.rfm-marquee {\n  flex: 0 0 auto;\n  min-width: var(--min-width);\n  z-index: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);\n  animation-play-state: var(--play);\n  animation-delay: var(--delay);\n  animation-direction: var(--direction);\n}\n@keyframes scroll {\n  0% {\n    transform: translateX(0%);\n  }\n  100% {\n    transform: translateX(-100%);\n  }\n}\n\n.rfm-initial-child-container {\n  flex: 0 0 auto;\n  display: flex;\n  min-width: auto;\n  flex-direction: row;\n  align-items: center;\n}\n\n.rfm-child {\n  transform: var(--transform);\n}');var u=s.forwardRef(function(e,t){var n=e.style,o=void 0===n?{}:n,u=e.className,l=void 0===u?"":u,d=e.autoFill,f=void 0!==d&&d,h=e.play,p=void 0===h||h,m=e.pauseOnHover,v=void 0!==m&&m,g=e.pauseOnClick,y=void 0!==g&&g,b=e.direction,k=void 0===b?"left":b,x=e.speed,w=void 0===x?50:x,N=e.delay,j=void 0===N?0:N,S=e.loop,_=void 0===S?0:S,E=e.gradient,C=void 0!==E&&E,T=e.gradientColor,I=void 0===T?"white":T,A=e.gradientWidth,D=void 0===A?200:A,P=e.onFinish,R=e.onCycleComplete,O=e.onMount,L=e.children,M=s.useState(0),F=i(M,2),V=F[0],U=F[1],z=s.useState(0),B=i(z,2),q=B[0],H=B[1],W=s.useState(1),G=i(W,2),K=G[0],Q=G[1],X=s.useState(!1),Y=i(X,2),J=Y[0],$=Y[1],Z=s.useRef(null),ee=t||Z,te=s.useRef(null),ne=s.useCallback(function(){if(te.current&&ee.current){var e=ee.current.getBoundingClientRect(),t=te.current.getBoundingClientRect(),n=e.width,r=t.width;"up"!==k&&"down"!==k||(n=e.height,r=t.height),Q(f&&n&&r&&r<n?Math.ceil(n/r):1),U(n),H(r)}},[f,ee,k]);s.useEffect(function(){if(J&&(ne(),te.current&&ee.current)){var e=new ResizeObserver(function(){return ne()});return e.observe(ee.current),e.observe(te.current),function(){e&&e.disconnect()}}},[ne,ee,J]),s.useEffect(function(){ne()},[ne,L]),s.useEffect(function(){$(!0)},[]),s.useEffect(function(){"function"===typeof O&&O()},[]);var re=s.useMemo(function(){return f?q*K/w:q<V?V/w:q/w},[f,V,q,K,w]),ae=s.useMemo(function(){return Object.assign(Object.assign({},o),a(a(a(a({},"--pause-on-hover",!p||v?"paused":"running"),"--pause-on-click",!p||v&&!y||y?"paused":"running"),"--width","up"===k||"down"===k?"100vh":"100%"),"--transform","up"===k?"rotate(-90deg)":"down"===k?"rotate(90deg)":"none"))},[o,p,v,y,k]),ie=s.useMemo(function(){return a(a({},"--gradient-color",I),"--gradient-width","number"===typeof D?"".concat(D,"px"):D)},[I,D]),se=s.useMemo(function(){return a(a(a(a(a(a({},"--play",p?"running":"paused"),"--direction","left"===k?"normal":"reverse"),"--duration","".concat(re,"s")),"--delay","".concat(j,"s")),"--iteration-count",_?"".concat(_):"infinite"),"--min-width",f?"auto":"100%")},[p,k,re,j,_,f]),oe=s.useMemo(function(){return a({},"--transform","up"===k?"rotate(90deg)":"down"===k?"rotate(-90deg)":"none")},[k]),ce=s.useCallback(function(e){return r(Array(Number.isFinite(e)&&e>=0?e:0)).map(function(e,t){return c.default.createElement(s.Fragment,{key:t},s.Children.map(L,function(e){return c.default.createElement("div",{style:oe,className:"rfm-child"},e)}))})},[oe,L]);return J?c.default.createElement("div",{ref:ee,style:ae,className:"rfm-marquee-container "+l},C&&c.default.createElement("div",{style:ie,className:"rfm-overlay"}),c.default.createElement("div",{className:"rfm-marquee",style:se,onAnimationIteration:R,onAnimationEnd:P},c.default.createElement("div",{className:"rfm-initial-child-container",ref:te},s.Children.map(L,function(e){return c.default.createElement("div",{style:oe,className:"rfm-child"},e)})),ce(K-1)),c.default.createElement("div",{className:"rfm-marquee",style:se},ce(K))):null});t.A=u},853:(e,t,n)=>{"use strict";e.exports=n(234)},869:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},901:(e,t,n)=>{var r=n(79);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(43),t=n.t(e,2),r=n(391);function a(e){if(Array.isArray(e))return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}(e,t)||s(e,t)||o()}var u,l=n(950),d=n.t(l,2);function f(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return i(e)}(e)||f(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function y(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(k=function(){return!!e})()}function x(e,t){if(t&&("object"==m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e,t,n){return t=b(t),x(e,k()?Reflect.construct(t,n||[],b(e).constructor):t.apply(e,n))}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}function S(e,t,n){if(k())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var a=new(e.bind.apply(e,r));return n&&N(a,n.prototype),a}function _(e){var t="function"==typeof Map?new Map:void 0;return _=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(dt){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,b(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),N(n,e)},_(e)}function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(u||(u={}));var T,I="popstate";function A(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function D(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(ot){}}}function P(e,t){return{usr:e.state,key:e.key,idx:t}}function R(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function O(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,i=e.hash,s=void 0===i?"":i;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),s&&"#"!==s&&(n+="#"===s.charAt(0)?s:"#"+s),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e,t,n,r){void 0===r&&(r={});var a=r,i=a.window,s=void 0===i?document.defaultView:i,o=a.v5Compat,c=void 0!==o&&o,l=s.history,d=u.Pop,f=null,h=p();function p(){return(l.state||{idx:null}).idx}function m(){d=u.Pop;var e=p(),t=null==e?null:e-h;h=e,f&&f({action:d,location:g.location,delta:t})}function v(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:O(e);return A(t,"No window.location.(origin|href) available to create URL for href: "+(n=n.replace(/ $/,"%20"))),new URL(n,t)}null==h&&(h=0,l.replaceState(C({},l.state,{idx:h}),""));var g={get action(){return d},get location(){return e(s,l)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(I,m),f=e,function(){s.removeEventListener(I,m),f=null}},createHref:function(e){return t(s,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d=u.Push;var r=R(g.location,e,t);n&&n(r,e);var a=P(r,h=p()+1),i=g.createHref(r);try{l.pushState(a,"",i)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;s.location.assign(i)}c&&f&&f({action:d,location:g.location,delta:1})},replace:function(e,t){d=u.Replace;var r=R(g.location,e,t);n&&n(r,e);var a=P(r,h=p()),i=g.createHref(r);l.replaceState(a,"",i),c&&f&&f({action:d,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(T||(T={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){return void 0===n&&(n="/"),V(e,t,n,!1)}function V(e,t,n,r){var a=Z(("string"===typeof t?L(t):t).pathname||"/",n);if(null==a)return null;var i=U(e);!function(e){e.sort(function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every(function(e,n){return e===t[n]});return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(function(e){return e.childrenIndex}),t.routesMeta.map(function(e){return e.childrenIndex}))})}(i);for(var s=null,o=0;null==s&&o<i.length;++o){var c=$(a);s=Y(i[o],c,r)}return s}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var a=function(e,a,i){var s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(A(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));var o=ae([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(A(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),U(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:X(o,e.index),routesMeta:c})};return e.forEach(function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,i=E(z(e.path));try{for(i.s();!(r=i.n()).done;){var s=r.value;a(e,t,s)}}catch(o){i.e(o)}finally{i.f()}}else a(e,t)}),t}function z(e){var t=e.split("/");if(0===t.length)return[];var n=function(e){return a(e)||f(e)||s(e)||o()}(t),r=n[0],c=i(n).slice(1),u=r.endsWith("?"),l=r.replace(/\?$/,"");if(0===c.length)return u?[l,""]:[l];var d=z(c.join("/")),p=[];return p.push.apply(p,h(d.map(function(e){return""===e?l:[l,e].join("/")}))),u&&p.push.apply(p,h(d)),p.map(function(t){return e.startsWith("/")&&""===t?"/":t})}var B=/^:[\w-]+$/,q=3,H=2,W=1,G=10,K=-2,Q=function(e){return"*"===e};function X(e,t){var n=e.split("/"),r=n.length;return n.some(Q)&&(r+=K),t&&(r+=H),n.filter(function(e){return!Q(e)}).reduce(function(e,t){return e+(B.test(t)?q:""===t?W:G)},r)}function Y(e,t,n){void 0===n&&(n=!1);for(var r=e.routesMeta,a={},i="/",s=[],o=0;o<r.length;++o){var c=r[o],u=o===r.length-1,l="/"===i?t:t.slice(i.length)||"/",d=J({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},l),f=c.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=J({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},l)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:ae([i,d.pathname]),pathnameBase:ie(ae([i,d.pathnameBase])),route:f}),"/"!==d.pathnameBase&&(i=ae([i,d.pathnameBase]))}return s}function J(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);D("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,function(e,t,n){return r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"});e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");var i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),a=r[0],i=r[1],s=t.match(a);if(!s)return null;var o=s[0],u=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce(function(e,t,n){var r=t.paramName,a=t.isOptional;if("*"===r){var i=l[n]||"";u=o.slice(0,o.length-i.length).replace(/(.)\/+$/,"$1")}var s=l[n];return e[r]=a&&!s?void 0:(s||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:u,pattern:e}}function $(e){try{return e.split("/").map(function(e){return decodeURIComponent(e).replace(/\//g,"%2F")}).join("/")}catch(t){return D(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ee(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function te(e){return e.filter(function(e,t){return 0===t||e.route.path&&e.route.path.length>0})}function ne(e,t){var n=te(e);return t?n.map(function(e,t){return t===n.length-1?e.pathname:e.pathnameBase}):n.map(function(e){return e.pathnameBase})}function re(e,t,n,r){var a;void 0===r&&(r=!1),"string"===typeof e?a=L(e):(A(!(a=C({},e)).pathname||!a.pathname.includes("?"),ee("?","pathname","search",a)),A(!a.pathname||!a.pathname.includes("#"),ee("#","pathname","hash",a)),A(!a.search||!a.search.includes("#"),ee("#","search","hash",a)));var i,s=""===e||""===a.pathname,o=s?"/":a.pathname;if(null==o)i=n;else{var c=t.length-1;if(!r&&o.startsWith("..")){for(var u=o.split("/");".."===u[0];)u.shift(),c-=1;a.pathname=u.join("/")}i=c>=0?t[c]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,a=n.search,i=void 0===a?"":a,s=n.hash,o=void 0===s?"":s,c=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:c,search:se(i),hash:oe(o)}}(a,i),d=o&&"/"!==o&&o.endsWith("/"),f=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!d&&!f||(l.pathname+="/"),l}var ae=function(e){return e.join("/").replace(/\/\/+/g,"/")},ie=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},se=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},oe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};var ce=function(e){function t(){return p(this,t),w(this,t,arguments)}return j(t,e),y(t)}(_(Error));function ue(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var le=["post","put","patch","delete"],de=(new Set(le),["get"].concat(le));new Set(de),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}var he=e.createContext(null);var pe=e.createContext(null);var me=e.createContext(null);var ve=e.createContext(null);var ge=e.createContext(null);var ye=e.createContext({outlet:null,matches:[],isDataRoute:!1});var be=e.createContext(null);function ke(){return null!=e.useContext(ge)}function xe(){return ke()||A(!1),e.useContext(ge).location}function we(t){e.useContext(ve).static||e.useLayoutEffect(t)}function Ne(){return e.useContext(ye).isDataRoute?function(){var t=Pe(Ae.UseNavigateStable).router,n=Oe(De.UseNavigateStable),r=e.useRef(!1);return we(function(){r.current=!0}),e.useCallback(function(e,a){void 0===a&&(a={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,fe({fromRouteId:n},a)))},[t,n])}():function(){ke()||A(!1);var t=e.useContext(he),n=e.useContext(ve),r=n.basename,a=n.future,i=n.navigator,s=e.useContext(ye).matches,o=xe().pathname,c=JSON.stringify(ne(s,a.v7_relativeSplatPath)),u=e.useRef(!1);return we(function(){u.current=!0}),e.useCallback(function(e,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof e){var a=re(e,JSON.parse(c),o,"path"===n.relative);null==t&&"/"!==r&&(a.pathname="/"===a.pathname?r:ae([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(e)},[r,i,c,o,t])}()}function je(t,n){var r=(void 0===n?{}:n).relative,a=e.useContext(ve).future,i=e.useContext(ye).matches,s=xe().pathname,o=JSON.stringify(ne(i,a.v7_relativeSplatPath));return e.useMemo(function(){return re(t,JSON.parse(o),s,"path"===r)},[t,o,s,r])}function Se(t,n,r,a){ke()||A(!1);var i,s=e.useContext(ve).navigator,o=e.useContext(ye).matches,c=o[o.length-1],l=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/"),f=(c&&c.route,xe());if(n){var h,p="string"===typeof n?L(n):n;"/"===d||(null==(h=p.pathname)?void 0:h.startsWith(d))||A(!1),i=p}else i=f;var m=i.pathname||"/",v=m;if("/"!==d){var g=d.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}var y=F(t,{pathname:v});var b=Ie(y&&y.map(function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ae([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:ae([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})}),o,r,a);return n&&b?e.createElement(ge.Provider,{value:{location:fe({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:u.Pop}},b):b}function _e(){var t=function(){var t,n=e.useContext(be),r=Re(De.UseRouteError),a=Oe(De.UseRouteError);if(void 0!==n)return n;return null==(t=r.errors)?void 0:t[a]}(),n=ue(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,null)}var Ee=e.createElement(_e,null),Ce=function(t){function n(e){var t;return p(this,n),(t=w(this,n,[e])).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return j(n,t),y(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return void 0!==this.state.error?e.createElement(ye.Provider,{value:this.props.routeContext},e.createElement(be.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}])}(e.Component);function Te(t){var n=t.routeContext,r=t.match,a=t.children,i=e.useContext(he);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(ye.Provider,{value:n},a)}function Ie(t,n,r,a){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===a&&(a=null),null==t){var s;if(!r)return null;if(r.errors)t=r.matches;else{if(!(null!=(s=a)&&s.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;t=r.matches}}var o=t,c=null==(i=r)?void 0:i.errors;if(null!=c){var u=o.findIndex(function(e){return e.route.id&&void 0!==(null==c?void 0:c[e.route.id])});u>=0||A(!1),o=o.slice(0,Math.min(o.length,u+1))}var l=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(var f=0;f<o.length;f++){var h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){var p=r,m=p.loaderData,v=p.errors,g=h.route.loader&&void 0===m[h.route.id]&&(!v||void 0===v[h.route.id]);if(h.route.lazy||g){l=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(function(t,a,i){var s,u,f=!1,h=null,p=null;r&&(s=c&&a.route.id?c[a.route.id]:void 0,h=a.route.errorElement||Ee,l&&(d<0&&0===i?(u="route-fallback",!1||Le[u]||(Le[u]=!0),f=!0,p=null):d===i&&(f=!0,p=a.route.hydrateFallbackElement||null)));var m=n.concat(o.slice(0,i+1)),v=function(){var n;return n=s?h:f?p:a.route.Component?e.createElement(a.route.Component,null):a.route.element?a.route.element:t,e.createElement(Te,{match:a,routeContext:{outlet:t,matches:m,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===i)?e.createElement(Ce,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var Ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ae||{}),De=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(De||{});function Pe(t){var n=e.useContext(he);return n||A(!1),n}function Re(t){var n=e.useContext(pe);return n||A(!1),n}function Oe(t){var n=function(){var t=e.useContext(ye);return t||A(!1),t}(),r=n.matches[n.matches.length-1];return r.route.id||A(!1),r.route.id}var Le={};function Me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}t.startTransition;function Fe(t){var n=t.to,r=t.replace,a=t.state,i=t.relative;ke()||A(!1);var s=e.useContext(ve),o=s.future,c=(s.static,e.useContext(ye).matches),u=xe().pathname,l=Ne(),d=re(n,ne(c,o.v7_relativeSplatPath),u,"path"===i),f=JSON.stringify(d);return e.useEffect(function(){return l(JSON.parse(f),{replace:r,state:a,relative:i})},[l,f,i,r,a]),null}function Ve(e){A(!1)}function Ue(t){var n=t.basename,r=void 0===n?"/":n,a=t.children,i=void 0===a?null:a,s=t.location,o=t.navigationType,c=void 0===o?u.Pop:o,l=t.navigator,d=t.static,f=void 0!==d&&d,h=t.future;ke()&&A(!1);var p=r.replace(/^\/*/,"/"),m=e.useMemo(function(){return{basename:p,navigator:l,static:f,future:fe({v7_relativeSplatPath:!1},h)}},[p,h,l,f]);"string"===typeof s&&(s=L(s));var v=s,g=v.pathname,y=void 0===g?"/":g,b=v.search,k=void 0===b?"":b,x=v.hash,w=void 0===x?"":x,N=v.state,j=void 0===N?null:N,S=v.key,_=void 0===S?"default":S,E=e.useMemo(function(){var e=Z(y,p);return null==e?null:{location:{pathname:e,search:k,hash:w,state:j,key:_},navigationType:c}},[p,y,k,w,j,_,c]);return null==E?null:e.createElement(ve.Provider,{value:m},e.createElement(ge.Provider,{children:i,value:E}))}function ze(e){var t=e.children,n=e.location;return Se(He(t),n)}var Be=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Be||{}),qe=new Promise(function(){});e.Component;function He(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,function(t,a){if(e.isValidElement(t)){var i=[].concat(h(n),[a]);if(t.type!==e.Fragment){t.type!==Ve&&A(!1),t.props.index&&t.props.children&&A(!1);var s={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=He(t.props.children,i)),r.push(s)}else r.push.apply(r,He(t.props.children,i))}}),r}function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Ke(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(function(t,n){var r=e[n];return t.concat(Array.isArray(r)?r.map(function(e){return[n,e]}):[[n,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Qe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(ot){}new Map;var Xe=t.startTransition;d.flushSync,t.useId;function Ye(t){var n,r=t.basename,a=t.children,i=t.future,s=t.window,o=e.useRef();null==o.current&&(o.current=(void 0===(n={window:s,v5Compat:!0})&&(n={}),M(function(e,t){var n=e.location;return R("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:O(t)},null,n)));var u=o.current,l=c(e.useState({action:u.action,location:u.location}),2),d=l[0],f=l[1],h=(i||{}).v7_startTransition,p=e.useCallback(function(e){h&&Xe?Xe(function(){return f(e)}):f(e)},[f,h]);return e.useLayoutEffect(function(){return u.listen(p)},[u,p]),e.useEffect(function(){return Me(i)},[i]),e.createElement(Ue,{basename:r,children:a,location:d.location,navigationType:d.action,navigator:u,future:i})}var Je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,$e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=e.forwardRef(function(t,n){var r,a=t.onClick,i=t.relative,s=t.reloadDocument,o=t.replace,c=t.state,u=t.target,l=t.to,d=t.preventScrollReset,f=t.viewTransition,h=Ge(t,Qe),p=e.useContext(ve).basename,m=!1;if("string"===typeof l&&$e.test(l)&&(r=l,Je))try{var v=new URL(window.location.href),g=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=Z(g.pathname,p);g.origin===v.origin&&null!=y?l=y+g.search+g.hash:m=!0}catch(ot){}var b=function(t,n){var r=(void 0===n?{}:n).relative;ke()||A(!1);var a=e.useContext(ve),i=a.basename,s=a.navigator,o=je(t,{relative:r}),c=o.hash,u=o.pathname,l=o.search,d=u;return"/"!==i&&(d="/"===u?i:ae([i,u])),s.createHref({pathname:d,search:l,hash:c})}(l,{relative:i}),k=function(t,n){var r=void 0===n?{}:n,a=r.target,i=r.replace,s=r.state,o=r.preventScrollReset,c=r.relative,u=r.viewTransition,l=Ne(),d=xe(),f=je(t,{relative:c});return e.useCallback(function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,a)){e.preventDefault();var n=void 0!==i?i:O(d)===O(f);l(t,{replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:u})}},[d,l,f,i,s,a,t,o,c,u])}(l,{replace:o,state:c,target:u,preventScrollReset:d,relative:i,viewTransition:f});return e.createElement("a",We({},h,{href:r||b,onClick:m||s?a:function(e){a&&a(e),e.defaultPrevented||k(e)},ref:n,target:u}))});var et,tt;function nt(t){var n=e.useRef(Ke(t)),r=e.useRef(!1),a=xe(),i=e.useMemo(function(){return function(e,t){var n=Ke(e);return t&&t.forEach(function(e,r){n.has(r)||t.getAll(r).forEach(function(e){n.append(r,e)})}),n}(a.search,r.current?null:n.current)},[a.search]),s=Ne(),o=e.useCallback(function(e,t){var n=Ke("function"===typeof e?e(i):e);r.current=!0,s("?"+n,t)},[s,i]);return[i,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(et||(et={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(tt||(tt={}));function rt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function at(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach(function(t){at(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ot={data:""},ct=function(e){if("object"==typeof window){var t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||ot},ut=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,lt=/\/\*[^]*?\*\/|  +/g,dt=/\n+/g,ft=function(e,t){var n="",r="",a="",i=function(i){var s=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+s+";":r+="f"==i[1]?ft(s,i):i+"{"+ft(s,"k"==i[1]?"":t)+"}":"object"==typeof s?r+=ft(s,t?t.replace(/([^,])+/g,function(e){return i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,function(t){return/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t})}):i):null!=s&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ft.p?ft.p(i,s):i+":"+s+";")};for(var s in e)i(s);return n+(t&&a?t+"{"+a+"}":a)+r},ht={},pt=function(e){if("object"==typeof e){var t="";for(var n in e)t+=n+pt(e[n]);return t}return e},mt=function(e,t,n,r,a){var i=pt(e),s=ht[i]||(ht[i]=function(e){for(var t=0,n=11;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n}(i));if(!ht[s]){var o=i!==e?e:function(e){for(var t,n,r=[{}];t=ut.exec(e.replace(lt,""));)t[4]?r.shift():t[3]?(n=t[3].replace(dt," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(dt," ").trim();return r[0]}(e);ht[s]=ft(a?at({},"@keyframes "+s,o):o,n?"":"."+s)}var c=n&&ht.g?ht.g:null;return n&&(ht.g=ht[s]),function(e,t,n,r){r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)}(ht[s],t,r,c),s};function vt(e){var t=this||{},n=e.call?e(t.p):e;return mt(n.unshift?n.raw?function(e,t,n){return e.reduce(function(e,r,a){var i=t[a];if(i&&i.call){var s=i(n),o=s&&s.props&&s.props.className||/^go/.test(s)&&s;i=o?"."+o:s&&"object"==typeof s?s.props?"":ft(s,""):!1===s?"":s}return e+r+(null==i?"":i)},"")}(n,[].slice.call(arguments,1),t.p):n.reduce(function(e,n){return Object.assign(e,n&&n.call?n(t.p):n)},{}):n,ct(t.target),t.g,t.o,t.k)}vt.bind({g:1});var gt,yt,bt,kt,xt,wt,Nt,jt,St,_t,Et,Ct,Tt,It,At,Dt,Pt,Rt,Ot,Lt=vt.bind({k:1});function Mt(e,t){var n=this||{};return function(){var r=arguments;function a(i,s){var o=Object.assign({},i),c=o.className||a.className;n.p=Object.assign({theme:yt&&yt()},o),n.o=/ *go\d+/.test(c),o.className=vt.apply(n,r)+(c?" "+c:""),t&&(o.ref=s);var u=e;return e[0]&&(u=o.as||e,delete o.as),bt&&u[0]&&bt(o),gt(u,o)}return t?t(a):a}}var Ft=function(e,t){return function(e){return"function"==typeof e}(e)?e(t):e},Vt=function(){var e=0;return function(){return(++e).toString()}}(),Ut=function(){var e;return function(){if(void 0===e&&typeof window<"u"){var t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}}(),zt="default",Bt=function(e,t){var n=e.settings.toastLimit;switch(t.type){case 0:return st(st({},e),{},{toasts:[t.toast].concat(h(e.toasts)).slice(0,n)});case 1:return st(st({},e),{},{toasts:e.toasts.map(function(e){return e.id===t.toast.id?st(st({},e),t.toast):e})});case 2:var r=t.toast;return Bt(e,{type:e.toasts.find(function(e){return e.id===r.id})?1:0,toast:r});case 3:var a=t.toastId;return st(st({},e),{},{toasts:e.toasts.map(function(e){return e.id===a||void 0===a?st(st({},e),{},{dismissed:!0,visible:!1}):e})});case 4:return void 0===t.toastId?st(st({},e),{},{toasts:[]}):st(st({},e),{},{toasts:e.toasts.filter(function(e){return e.id!==t.toastId})});case 5:return st(st({},e),{},{pausedAt:t.time});case 6:var i=t.time-(e.pausedAt||0);return st(st({},e),{},{pausedAt:void 0,toasts:e.toasts.map(function(e){return st(st({},e),{},{pauseDuration:e.pauseDuration+i})})})}},qt=[],Ht={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Wt={},Gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt;Wt[t]=Bt(Wt[t]||Ht,e),qt.forEach(function(e){var n=c(e,2),r=n[0],a=n[1];r===t&&a(Wt[t])})},Kt=function(e){return Object.keys(Wt).forEach(function(t){return Gt(e,t)})},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;return function(t){Gt(t,e)}},Xt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Yt=function(e){return function(t,n){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return st(st({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||Vt()})}(t,e,n);return Qt(r.toasterId||function(e){return Object.keys(Wt).find(function(t){return Wt[t].toasts.some(function(t){return t.id===e})})}(r.id))({type:2,toast:r}),r.id}},Jt=function(e,t){return Yt("blank")(e,t)};Jt.error=Yt("error"),Jt.success=Yt("success"),Jt.loading=Yt("loading"),Jt.custom=Yt("custom"),Jt.dismiss=function(e,t){var n={type:3,toastId:e};t?Qt(t)(n):Kt(n)},Jt.dismissAll=function(e){return Jt.dismiss(void 0,e)},Jt.remove=function(e,t){var n={type:4,toastId:e};t?Qt(t)(n):Kt(n)},Jt.removeAll=function(e){return Jt.remove(void 0,e)},Jt.promise=function(e,t,n){var r=Jt.loading(t.loading,st(st({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(function(e){var a=t.success?Ft(t.success,e):void 0;return a?Jt.success(a,st(st({id:r},n),null==n?void 0:n.success)):Jt.dismiss(r),e}).catch(function(e){var a=t.error?Ft(t.error,e):void 0;a?Jt.error(a,st(st({id:r},n),null==n?void 0:n.error)):Jt.dismiss(r)}),e};var $t=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt,r=c((0,e.useState)(Wt[n]||Ht),2),a=r[0],i=r[1],s=(0,e.useRef)(Wt[n]);(0,e.useEffect)(function(){return s.current!==Wt[n]&&i(Wt[n]),qt.push([n,i]),function(){var e=qt.findIndex(function(e){return c(e,1)[0]===n});e>-1&&qt.splice(e,1)}},[n]);var o=a.toasts.map(function(e){var n,r,a;return st(st(st(st({},t),t[e.type]),e),{},{removeDelay:e.removeDelay||(null==(n=t[e.type])?void 0:n.removeDelay)||(null==t?void 0:t.removeDelay),duration:e.duration||(null==(r=t[e.type])?void 0:r.duration)||(null==t?void 0:t.duration)||Xt[e.type],style:st(st(st({},t.style),null==(a=t[e.type])?void 0:a.style),e.style)})});return st(st({},a),{},{toasts:o})}(t,n),a=r.toasts,i=r.pausedAt,s=(0,e.useRef)(new Map).current,o=(0,e.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(!s.has(e)){var n=setTimeout(function(){s.delete(e),u({type:4,toastId:e})},t);s.set(e,n)}},[]);(0,e.useEffect)(function(){if(!i){var e=Date.now(),t=a.map(function(t){if(t.duration!==1/0){var r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout(function(){return Jt.dismiss(t.id,n)},r);t.visible&&Jt.dismiss(t.id)}});return function(){t.forEach(function(e){return e&&clearTimeout(e)})}}},[a,i,n]);var u=(0,e.useCallback)(Qt(n),[n]),l=(0,e.useCallback)(function(){u({type:5,time:Date.now()})},[u]),d=(0,e.useCallback)(function(e,t){u({type:1,toast:{id:e,height:t}})},[u]),f=(0,e.useCallback)(function(){i&&u({type:6,time:Date.now()})},[i,u]),p=(0,e.useCallback)(function(e,t){var n,r=t||{},i=r.reverseOrder,s=void 0!==i&&i,o=r.gutter,c=void 0===o?8:o,u=r.defaultPosition,l=a.filter(function(t){return(t.position||u)===(e.position||u)&&t.height}),d=l.findIndex(function(t){return t.id===e.id}),f=l.filter(function(e,t){return t<d&&e.visible}).length;return(n=l.filter(function(e){return e.visible})).slice.apply(n,h(s?[f+1]:[0,f])).reduce(function(e,t){return e+(t.height||0)+c},0)},[a]);return(0,e.useEffect)(function(){a.forEach(function(e){if(e.dismissed)o(e.id,e.removeDelay);else{var t=s.get(e.id);t&&(clearTimeout(t),s.delete(e.id))}})},[a,o]),{toasts:a,handlers:{updateHeight:d,startPause:l,endPause:f,calculateOffset:p}}},Zt=Lt(kt||(kt=rt(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),en=Lt(xt||(xt=rt(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),tn=Lt(wt||(wt=rt(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),nn=Mt("div")(Nt||(Nt=rt(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),function(e){return e.primary||"#ff4b4b"},Zt,en,function(e){return e.secondary||"#fff"},tn),rn=Lt(jt||(jt=rt(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),an=Mt("div")(St||(St=rt(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),function(e){return e.secondary||"#e0e0e0"},function(e){return e.primary||"#616161"},rn),sn=Lt(_t||(_t=rt(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),on=Lt(Et||(Et=rt(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),cn=Mt("div")(Ct||(Ct=rt(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),function(e){return e.primary||"#61d345"},sn,on,function(e){return e.secondary||"#fff"}),un=Mt("div")(Tt||(Tt=rt(["\n  position: absolute;\n"]))),ln=Mt("div")(It||(It=rt(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),dn=Lt(At||(At=rt(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),fn=Mt("div")(Dt||(Dt=rt(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),dn),hn=function(t){var n=t.toast,r=n.icon,a=n.type,i=n.iconTheme;return void 0!==r?"string"==typeof r?e.createElement(fn,null,r):r:"blank"===a?null:e.createElement(ln,null,e.createElement(an,st({},i)),"loading"!==a&&e.createElement(un,null,"error"===a?e.createElement(nn,st({},i)):e.createElement(cn,st({},i))))},pn=function(e){return"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n")},mn=function(e){return"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n")},vn=Mt("div")(Pt||(Pt=rt(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),gn=Mt("div")(Rt||(Rt=rt(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),yn=e.memo(function(t){var n=t.toast,r=t.position,a=t.style,i=t.children,s=n.height?function(e,t){var n=e.includes("top")?1:-1,r=c(Ut()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[pn(n),mn(n)],2),a=r[0],i=r[1];return{animation:t?"".concat(Lt(a)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Lt(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}}(n.position||r||"top-center",n.visible):{opacity:0},o=e.createElement(hn,{toast:n}),u=e.createElement(gn,st({},n.ariaProps),Ft(n.message,n));return e.createElement(vn,{className:n.className,style:st(st(st({},s),a),n.style)},"function"==typeof i?i({icon:o,message:u}):e.createElement(e.Fragment,null,o,u))});!function(e,t,n,r){ft.p=t,gt=e,yt=n,bt=r}(e.createElement);var bn=function(t){var n=t.id,r=t.className,a=t.style,i=t.onHeightUpdate,s=t.children,o=e.useCallback(function(e){if(e){var t=function(){var t=e.getBoundingClientRect().height;i(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return e.createElement("div",{ref:o,className:r,style:a},s)},kn=vt(Ot||(Ot=rt(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),xn=function(t){var n=t.reverseOrder,r=t.position,a=void 0===r?"top-center":r,i=t.toastOptions,s=t.gutter,o=t.children,c=t.toasterId,u=t.containerStyle,l=t.containerClassName,d=$t(i,c),f=d.toasts,h=d.handlers;return e.createElement("div",{"data-rht-toaster":c||"",style:st({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},u),className:l,onMouseEnter:h.startPause,onMouseLeave:h.endPause},f.map(function(t){var r=t.position||a,i=function(e,t){var n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return st(st({left:0,right:0,display:"flex",position:"absolute",transition:Ut()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),a)}(r,h.calculateOffset(t,{reverseOrder:n,gutter:s,defaultPosition:a}));return e.createElement(bn,{id:t.id,key:t.id,onHeightUpdate:h.updateHeight,className:t.visible?kn:"",style:i},"custom"===t.type?Ft(t.message,t):o?o(t):e.createElement(yn,{toast:t,position:r}))}))},wn=Jt;function Nn(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Nn=function(e,t,n,r){function i(t,n){Nn(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Nn(e,t,n,r)}function jn(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function i(n,r,a,i){var c=r&&r.prototype instanceof o?r:o,u=Object.create(c.prototype);return Nn(u,"_invoke",function(n,r,a){var i,o,c,u=0,l=a||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,o=0,c=e,f.n=n,s}};function h(n,r){for(o=n,c=r,t=0;!d&&u&&!a&&t<l.length;t++){var a,i=l[t],h=f.p,p=i[2];n>3?(a=p===r)&&(c=i[(o=i[4])?5:(o=3,3)],i[4]=i[5]=e):i[0]<=h&&((a=n<2&&h<i[1])?(o=0,f.v=r,f.n=i[1]):h<p&&(a=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,f.n=p,o=0))}if(a||n>1)return s;throw d=!0,r}return function(a,l,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&h(l,p),o=l,c=p;(t=o<2?e:c)||!d;){i||(o?o<3?(o>1&&(f.n=-1),h(o,c)):f.n=c:f.v=c);try{if(u=2,i){if(o||(a="next"),t=i[a]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,o<2&&(o=0)}else 1===o&&(t=i.return)&&t.call(i),o<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),o=1);i=e}else if((t=(d=f.n<0)?c:n.call(r,f))!==s)break}catch(t){i=e,o=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,i),!0),u}var s={};function o(){}function c(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Nn(t={},r,function(){return this}),t),d=u.prototype=o.prototype=Object.create(l);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Nn(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Nn(d,"constructor",u),Nn(u,"constructor",c),c.displayName="GeneratorFunction",Nn(u,a,"GeneratorFunction"),Nn(d),Nn(d,a,"Generator"),Nn(d,r,function(){return this}),Nn(d,"toString",function(){return"[object Generator]"}),(jn=function(){return{w:i,m:f}})()}function Sn(e,t,n,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}function _n(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function s(e){Sn(i,r,a,s,o,"next",e)}function o(e){Sn(i,r,a,s,o,"throw",e)}s(void 0)})}}function En(){return En="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},En.apply(null,arguments)}function Cn(e,t,n,r){var a=En(b(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof a?function(e){return a.apply(n,e)}:a}var Tn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},In={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],a=0;a<e.length;a+=3){var i=e[a],s=a+1<e.length,o=s?e[a+1]:0,c=a+2<e.length,u=c?e[a+2]:0,l=i>>2,d=(3&i)<<4|o>>4,f=(15&o)<<2|u>>6,h=63&u;c||(h=64,s||(f=64)),r.push(n[l],n[d],n[f],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Tn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){var i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){var s=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{var o=e[n++],c=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&o)<<6|63&c)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],a=0;a<e.length;){var i=n[e.charAt(a++)],s=a<e.length?n[e.charAt(a)]:0,o=++a<e.length?n[e.charAt(a)]:64,c=++a<e.length?n[e.charAt(a)]:64;if(++a,null==i||null==s||null==o||null==c)throw new An;var u=i<<2|s>>4;if(r.push(u),64!==o){var l=s<<4&240|o>>2;if(r.push(l),64!==c){var d=o<<6&192|c;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},An=function(e){function t(){var e;return p(this,t),(e=w(this,t,arguments)).name="DecodeBase64StringError",e}return j(t,e),y(t)}(_(Error)),Dn=function(e){return function(e){var t=Tn(e);return In.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Pn=function(e){try{return In.decodeString(e,!0)}catch(ot){console.error("base64Decode failed: ",ot)}return null};var Rn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},On=function(){try{return Rn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAVhrfvLQlMSLciJogsKFo82BswvhbRvR0",REACT_APP_FIREBASE_APP_ID:"1:181559034525:web:77acfe9afe9ff000d50a74",REACT_APP_FIREBASE_AUTH_DOMAIN:"luxuryfashion-76ce1.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-G-GVFQSXSG6B",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"181559034525",REACT_APP_FIREBASE_PROJECT_ID:"luxuryfashion-76ce1",REACT_APP_FIREBASE_STORAGE_BUCKET:"luxuryfashion-76ce1.firebasestorage.app",REACT_APP_FIREBASE_VAPID_KEY:"BA0tYbyX_1CvftRLU-13Xj3ISPpUkhCNafGp1LglIikSt1leaEUei8b-kA_yquTygO-ZBvAdnEwmSy-fqwSYfhE"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ot){return}var t=e&&Pn(e[1]);return t&&JSON.parse(t)}}()}catch(ot){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(ot))}},Ln=function(e){var t;return null===(t=On())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Mn=function(e){var t=Ln(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Fn=function(){var e;return null===(e=On())||void 0===e?void 0:e.config},Vn=function(e){var t;return null===(t=On())||void 0===t?void 0:t["_".concat(e)]},Un=function(){return y(function e(){var t=this;p(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}}}])}();function zn(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}function Bn(e){return qn.apply(this,arguments)}function qn(){return(qn=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,fetch(t,{credentials:"include"});case 1:return n=e.v,e.a(2,n.ok)}},e)}))).apply(this,arguments)}function Hn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var i=st({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Dn(JSON.stringify({alg:"none",type:"JWT"})),Dn(JSON.stringify(i)),""].join(".")}var Wn={};var Gn=!1;function Kn(e,t){if("undefined"!==typeof window&&"undefined"!==typeof document&&zn(window.location.host)&&Wn[e]!==t&&!Wn[e]&&!Gn){Wn[e]=t;var n="__firebase__banner",r=function(){for(var e={prod:[],emulator:[]},t=0,n=Object.keys(Wn);t<n.length;t++){var r=n[t];Wn[r]?e.emulator.push(r):e.prod.push(r)}return e}(),a=r.prod.length>0;"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function i(e){return"__firebase__banner__".concat(e)}function s(){var e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=function(){Gn=!0,function(){var e=document.getElementById(n);e&&e.remove()}()},e}function o(){var e=function(e){var t=document.getElementById(e),n=!1;return t||((t=document.createElement("div")).setAttribute("id",e),n=!0),{created:n,element:t}}(n),t=i("text"),r=document.getElementById(t)||document.createElement("span"),o=i("learnmore"),c=document.getElementById(o)||document.createElement("a"),u=i("preprendIcon"),l=document.getElementById(u)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){var d=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(d),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(c,o);var f=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(l,u),d.append(l,r,c,f),document.body.appendChild(d)}a?(r.innerText="Preview backend disconnected.",l.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(l.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',r.innerText="Preview backend running in this workspace."),r.setAttribute("id",t)}}function Qn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Xn(){var e,t=null===(e=On())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(ot){return!1}}function Yn(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function Jn(){try{return"object"===typeof indexedDB}catch(ot){return!1}}function $n(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=function(){a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=function(){n=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(i){t(i)}})}function Zn(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}var er=function(e){function t(e,n,r){var a;return p(this,t),(a=w(this,t,[n])).code=e,a.customData=r,a.name="FirebaseError",Object.setPrototypeOf(a,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(a,tr.prototype.create),a}return j(t,e),y(t)}(_(Error)),tr=function(){return y(function e(t,n,r){p(this,e),this.service=t,this.serviceName=n,this.errors=r},[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(nr,function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new er(n,i,t)}}])}();var nr=/\{\$([^}]+)}/g;function rr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ar(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),a=0,i=n;a<i.length;a++){var s=i[a];if(!r.includes(s))return!1;var o=e[s],c=t[s];if(ir(o)&&ir(c)){if(!ar(o,c))return!1}else if(o!==c)return!1}for(var u=0,l=r;u<l.length;u++){var d=l[u];if(!n.includes(d))return!1}return!0}function ir(e){return null!==e&&"object"===typeof e}function sr(e){for(var t=[],n=function(){var e=c(a[r],2),n=e[0],i=e[1];Array.isArray(i)?i.forEach(function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function or(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=c(e.split("="),2),r=n[0],a=n[1];t[decodeURIComponent(r)]=decodeURIComponent(a)}}),t}function cr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var ur=function(){return y(function e(t,n){var r=this;p(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(e){r.error(e)})},[{key:"next",value:function(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var r,a=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=E(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a in e&&"function"===typeof e[a])return!0}}catch(i){r.e(i)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=lr),void 0===r.error&&(r.error=lr),void 0===r.complete&&(r.complete=lr);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{a.finalError?r.error(a.finalError):r.complete()}catch(ot){}}),this.observers.push(r),i}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(ot){"undefined"!==typeof console&&console.error&&console.error(ot)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}])}();function lr(){}function dr(e){return e&&e._delegate?e._delegate:e}var fr=function(){return y(function e(t,n,r){p(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null},[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}])}(),hr="[DEFAULT]",pr=function(){return y(function e(t,n){p(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map},[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Un;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(ot){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ot){if(r)return null;throw ot}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:hr})}catch(ot){}var t,n=E(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),a=r[0],i=r[1],s=this.normalizeInstanceIdentifier(a);try{var o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch(ot){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.n){case 0:return t=Array.from(this.instances.values()),e.n=1,Promise.all([].concat(h(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()})),h(t.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))));case 1:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,i=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=E(this.instancesDeferred.entries());try{for(s.s();!(a=s.n()).done;){var o=c(a.value,2),u=o[0],l=o[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(i)}}catch(d){s.e(d)}finally{s.f()}return i}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);var i=this.instances.get(r);return i&&e(i,r),function(){a.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,a=E(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;try{i(e,t)}catch(s){}}}catch(o){a.e(o)}finally{a.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,a=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===hr?void 0:t),options:a}),this.instances.set(n,i),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(s){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr;return this.component?this.component.multipleInstances?e:hr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}])}();var mr,vr=function(){return y(function e(t){p(this,e),this.name=t,this.providers=new Map},[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new pr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}])}(),gr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(mr||(mr={}));var yr={debug:mr.DEBUG,verbose:mr.VERBOSE,info:mr.INFO,warn:mr.WARN,error:mr.ERROR,silent:mr.SILENT},br=mr.INFO,kr=at(at(at(at(at({},mr.DEBUG,"log"),mr.VERBOSE,"log"),mr.INFO,"info"),mr.WARN,"warn"),mr.ERROR,"error"),xr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=kr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a,i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];(a=console)[r].apply(a,["[".concat(n,"]  ").concat(e.name,":")].concat(s))}},wr=function(){return y(function e(t){p(this,e),this.name=t,this._logLevel=br,this._logHandler=xr,this._userLogHandler=null,gr.push(this)},[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in mr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?yr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mr.DEBUG].concat(t)),this._logHandler.apply(this,[this,mr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,mr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mr.INFO].concat(t)),this._logHandler.apply(this,[this,mr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mr.WARN].concat(t)),this._logHandler.apply(this,[this,mr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mr.ERROR].concat(t)),this._logHandler.apply(this,[this,mr.ERROR].concat(t))}}])}();var Nr,jr;var Sr=new WeakMap,_r=new WeakMap,Er=new WeakMap,Cr=new WeakMap,Tr=new WeakMap;var Ir={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return _r.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Er.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ar(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(jr||(jr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Rr(this),n),Pr(Sr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pr(e.apply(Rr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=e.call.apply(e,[Rr(this),t].concat(r));return Er.set(i,t.sort?t.sort():[t]),Pr(i)}}function Dr(e){return"function"===typeof e?Ar(e):(e instanceof IDBTransaction&&function(e){if(!_r.has(e)){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=function(){t(),r()},i=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});_r.set(e,t)}}(e),t=e,(Nr||(Nr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(function(e){return t instanceof e})?new Proxy(e,Ir):e);var t}function Pr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("success",a),e.removeEventListener("error",i)},a=function(){t(Pr(e.result)),r()},i=function(){n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)});return t.then(function(t){t instanceof IDBCursor&&Sr.set(t,e)}).catch(function(){}),Tr.set(t,e),t}(e);if(Cr.has(e))return Cr.get(e);var t=Dr(e);return t!==e&&(Cr.set(e,t),Tr.set(t,e)),t}var Rr=function(e){return Tr.get(e)};function Or(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,a=n.upgrade,i=n.blocking,s=n.terminated,o=indexedDB.open(e,t),c=Pr(o);return a&&o.addEventListener("upgradeneeded",function(e){a(Pr(o.result),e.oldVersion,e.newVersion,Pr(o.transaction),e)}),r&&o.addEventListener("blocked",function(e){return r(e.oldVersion,e.newVersion,e)}),c.then(function(e){s&&e.addEventListener("close",function(){return s()}),i&&e.addEventListener("versionchange",function(e){return i(e.oldVersion,e.newVersion,e)})}).catch(function(){}),c}function Lr(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).blocked,n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",function(e){return t(e.oldVersion,e)}),Pr(n).then(function(){})}var Mr,Fr,Vr=["get","getKey","getAll","getAllKeys","count"],Ur=["put","add","delete","clear"],zr=new Map;function Br(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(zr.get(t))return zr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,a=Ur.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(a||Vr.includes(n))){var i=function(){var e=_n(jn().m(function e(t){var i,s,o,c,u,l,d=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:for(s=this.transaction(t,a?"readwrite":"readonly"),o=s.store,c=d.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=d[l];return r&&(o=o.index(u.shift())),e.n=1,Promise.all([(i=o)[n].apply(i,u),a&&s.done]);case 1:return e.a(2,e.v[0])}},e,this)}));return function(t){return e.apply(this,arguments)}}();return zr.set(t,i),i}}}Ir=function(e){return st(st({},e),{},{get:function(t,n,r){return Br(t,n)||e.get(t,n,r)},has:function(t,n){return!!Br(t,n)||e.has(t,n)}})}(Ir);var qr=function(){return y(function e(t){p(this,e),this.container=t},[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(function(e){return e}).join(" ")}}])}();var Hr="@firebase/app",Wr="0.14.5",Gr=new wr("@firebase/app"),Kr="[DEFAULT]",Qr=(at(at(at(at(at(at(at(at(at(at(Mr={},Hr,"fire-core"),"@firebase/app-compat","fire-core-compat"),"@firebase/analytics","fire-analytics"),"@firebase/analytics-compat","fire-analytics-compat"),"@firebase/app-check","fire-app-check"),"@firebase/app-check-compat","fire-app-check-compat"),"@firebase/auth","fire-auth"),"@firebase/auth-compat","fire-auth-compat"),"@firebase/database","fire-rtdb"),"@firebase/data-connect","fire-data-connect"),at(at(at(at(at(at(at(at(at(at(Mr,"@firebase/database-compat","fire-rtdb-compat"),"@firebase/functions","fire-fn"),"@firebase/functions-compat","fire-fn-compat"),"@firebase/installations","fire-iid"),"@firebase/installations-compat","fire-iid-compat"),"@firebase/messaging","fire-fcm"),"@firebase/messaging-compat","fire-fcm-compat"),"@firebase/performance","fire-perf"),"@firebase/performance-compat","fire-perf-compat"),"@firebase/remote-config","fire-rc"),at(at(at(at(at(at(at(at(Mr,"@firebase/remote-config-compat","fire-rc-compat"),"@firebase/storage","fire-gcs"),"@firebase/storage-compat","fire-gcs-compat"),"@firebase/firestore","fire-fst"),"@firebase/firestore-compat","fire-fst-compat"),"@firebase/ai","fire-vertex"),"fire-js","fire-js"),"firebase","fire-js-all")),Xr=new Map,Yr=new Map,Jr=new Map;function $r(e,t){try{e.container.addComponent(t)}catch(ot){Gr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),ot)}}function Zr(e){var t=e.name;if(Jr.has(t))return Gr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Jr.set(t,e);var n,r=E(Xr.values());try{for(r.s();!(n=r.n()).done;){$r(n.value,e)}}catch(s){r.e(s)}finally{r.f()}var a,i=E(Yr.values());try{for(i.s();!(a=i.n()).done;){$r(a.value,e)}}catch(s){i.e(s)}finally{i.f()}return!0}function ea(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ta(e){return null!==e&&void 0!==e&&void 0!==e.settings}var na=(at(at(at(at(at(at(at(at(at(at(Fr={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),"bad-app-name","Illegal App name: '{$appName}'"),"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),"app-deleted","Firebase App named '{$appName}' already deleted"),"server-app-deleted","Firebase Server App has been deleted"),"no-options","Need to provide options, when not being deployed to hosting via source."),"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),"invalid-log-argument","First argument to `onLog` must be null or a function."),"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),at(at(at(at(Fr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),"finalization-registry-not-supported","FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry."),"invalid-server-app-environment","FirebaseServerApp is not for use in browser environments.")),ra=new tr("app","Firebase",na),aa=function(){return y(function e(t,n,r){var a=this;p(this,e),this._isDeleted=!1,this._options=st({},t),this._config=st({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fr("app",function(){return a},"PUBLIC"))},[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}])}();var ia="12.5.0";function sa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=st({name:Kr,automaticDataCollectionEnabled:!0},t),a=r.name;if("string"!==typeof a||!a)throw ra.create("bad-app-name",{appName:String(a)});if(n||(n=Fn()),!n)throw ra.create("no-options");var i=Xr.get(a);if(i){if(ar(n,i.options)&&ar(r,i.config))return i;throw ra.create("duplicate-app",{appName:a})}var s,o=new vr(a),c=E(Jr.values());try{for(c.s();!(s=c.n()).done;){var u=s.value;o.addComponent(u)}}catch(d){c.e(d)}finally{c.f()}var l=new aa(n,r,o);return Xr.set(a,l),l}function oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr,t=Xr.get(e);if(!t&&e===Kr&&Fn())return sa();if(!t)throw ra.create("no-app",{appName:e});return t}function ca(e,t,n){var r,a=null!==(r=Qr[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));var i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){var o=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&o.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&s&&o.push("and"),s&&o.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Gr.warn(o.join(" "))}Zr(new fr("".concat(a,"-version"),function(){return{library:a,version:t}},"VERSION"))}var ua="firebase-heartbeat-store",la=null;function da(){return la||(la=Or("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(ua)}catch(ot){console.warn(ot)}}}).catch(function(e){throw ra.create("idb-open",{originalErrorMessage:e.message})})),la}function fa(e){return ha.apply(this,arguments)}function ha(){return ha=_n(jn().m(function e(t){var n,r,a,i,s;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,da();case 1:return n=e.v,r=n.transaction(ua),e.n=2,r.objectStore(ua).get(va(t));case 2:return a=e.v,e.n=3,r.done;case 3:return e.a(2,a);case 4:e.p=4,(s=e.v)instanceof er?Gr.warn(s.message):(i=ra.create("idb-get",{originalErrorMessage:null===s||void 0===s?void 0:s.message}),Gr.warn(i.message));case 5:return e.a(2)}},e,null,[[0,4]])})),ha.apply(this,arguments)}function pa(e,t){return ma.apply(this,arguments)}function ma(){return ma=_n(jn().m(function e(t,n){var r,a,i,s,o;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,da();case 1:return r=e.v,a=r.transaction(ua,"readwrite"),i=a.objectStore(ua),e.n=2,i.put(n,va(t));case 2:return e.n=3,a.done;case 3:e.n=5;break;case 4:e.p=4,(o=e.v)instanceof er?Gr.warn(o.message):(s=ra.create("idb-set",{originalErrorMessage:null===o||void 0===o?void 0:o.message}),Gr.warn(s.message));case 5:return e.a(2)}},e,null,[[0,4]])})),ma.apply(this,arguments)}function va(e){return"".concat(e.name,"!").concat(e.options.appId)}var ga=function(){return y(function e(t){var n=this;p(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new xa(r),this._heartbeatsCachePromise=this._storage.read().then(function(e){return n._heartbeatsCache=e,e})},[{key:"triggerHeartbeat",value:function(){var e=_n(jn().m(function e(){var t,n,r,a,i,s,o;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,n=this.container.getProvider("platform-logger").getImmediate(),r=n.getPlatformInfoString(),a=ya(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.n=2;break}return e.n=1,this._heartbeatsCachePromise;case 1:if(this._heartbeatsCache=e.v,null!=(null===(i=this._heartbeatsCache)||void 0===i?void 0:i.heartbeats)){e.n=2;break}return e.a(2);case 2:if(this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some(function(e){return e.date===a})){e.n=3;break}return e.a(2);case 3:this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>30&&(s=Na(this._heartbeatsCache.heartbeats),this._heartbeatsCache.heartbeats.splice(s,1));case 4:return e.a(2,this._storage.overwrite(this._heartbeatsCache));case 5:e.p=5,o=e.v,Gr.warn(o);case 6:return e.a(2)}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=_n(jn().m(function e(){var t,n,r,a,i,s,o;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,null!==this._heartbeatsCache){e.n=1;break}return e.n=1,this._heartbeatsCachePromise;case 1:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.n=2;break}return e.a(2,"");case 2:if(n=ya(),r=ba(this._heartbeatsCache.heartbeats),a=r.heartbeatsToSend,i=r.unsentEntries,s=Dn(JSON.stringify({version:2,heartbeats:a})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(i.length>0)){e.n=4;break}return this._heartbeatsCache.heartbeats=i,e.n=3,this._storage.overwrite(this._heartbeatsCache);case 3:e.n=5;break;case 4:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 5:return e.a(2,s);case 6:return e.p=6,o=e.v,Gr.warn(o),e.a(2,"")}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()}])}();function ya(){return(new Date).toISOString().substring(0,10)}function ba(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],a=e.slice(),i=E(e);try{var s=function(){var e=t.value,i=r.find(function(t){return t.agent===e.agent});if(i){if(i.dates.push(e.date),wa(r)>n)return i.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),wa(r)>n)return r.pop(),0;a=a.slice(1)};for(i.s();!(t=i.n()).done&&0!==s(););}catch(o){i.e(o)}finally{i.f()}return{heartbeatsToSend:r,unsentEntries:a}}var ka,xa=function(){return y(function e(t){p(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()},[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:if(Jn()){e.n=1;break}return e.a(2,!1);case 1:return e.a(2,$n().then(function(){return!0}).catch(function(){return!1}));case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._canUseIndexedDBPromise;case 1:if(e.v){e.n=2;break}return e.a(2,{heartbeats:[]});case 2:return e.n=3,fa(this.app);case 3:if(null===(t=e.v)||void 0===t||!t.heartbeats){e.n=4;break}return e.a(2,t);case 4:return e.a(2,{heartbeats:[]});case 5:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._canUseIndexedDBPromise;case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return e.n=3,this.read();case 3:return r=e.v,e.a(2,pa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 4:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._canUseIndexedDBPromise;case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return e.n=3,this.read();case 3:return r=e.v,e.a(2,pa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 4:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()}])}();function wa(e){return Dn(JSON.stringify({version:2,heartbeats:e})).length}function Na(e){if(0===e.length)return-1;for(var t=0,n=e[0].date,r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}ka="",Zr(new fr("platform-logger",function(e){return new qr(e)},"PRIVATE")),Zr(new fr("heartbeat",function(e){return new ga(e)},"PRIVATE")),ca(Hr,Wr,ka),ca(Hr,Wr,"esm2020"),ca("fire-js","");var ja,Sa,_a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ea={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;a<16;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;a<16;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var i,s=e.g[3];i=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=n+((i=t+(s^n&(a^s))+r[0]+3614090360&4294967295)<<7&4294967295|i>>>25))+((i=s+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|i>>>20))+((i=a+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^a&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^n&(a^s))+r[4]+4118548399&4294967295)<<7&4294967295|i>>>25))+((i=s+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|i>>>20))+((i=a+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^a&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^n&(a^s))+r[8]+1770035416&4294967295)<<7&4294967295|i>>>25))+((i=s+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|i>>>20))+((i=a+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^a&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^n&(a^s))+r[12]+1804603682&4294967295)<<7&4294967295|i>>>25))+((i=s+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|i>>>20))+((i=a+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^a&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^s&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|i>>>27))+((i=s+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|i>>>23))+((i=a+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|i>>>18))+((i=n+(s^t&(a^s))+r[0]+3921069994&4294967295)<<20&4294967295|i>>>12))+((i=t+(a^s&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|i>>>27))+((i=s+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|i>>>23))+((i=a+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|i>>>18))+((i=n+(s^t&(a^s))+r[4]+3889429448&4294967295)<<20&4294967295|i>>>12))+((i=t+(a^s&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|i>>>27))+((i=s+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|i>>>23))+((i=a+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|i>>>18))+((i=n+(s^t&(a^s))+r[8]+1163531501&4294967295)<<20&4294967295|i>>>12))+((i=t+(a^s&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|i>>>27))+((i=s+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|i>>>23))+((i=a+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|i>>>18))+((i=n+(s^t&(a^s))+r[12]+2368359562&4294967295)<<20&4294967295|i>>>12))+((i=t+(n^a^s)+r[5]+4294588738&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|i>>>21))+((i=a+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|i>>>16))+((i=n+(a^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^a^s)+r[1]+2763975236&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|i>>>21))+((i=a+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|i>>>16))+((i=n+(a^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^a^s)+r[13]+681279174&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|i>>>21))+((i=a+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|i>>>16))+((i=n+(a^s^t)+r[6]+76029189&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^a^s)+r[9]+3654602809&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|i>>>21))+((i=a+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|i>>>16))+((i=n+(a^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|i>>>9))+((i=t+(a^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|i>>>26))+((i=s+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|i>>>22))+((i=a+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|i>>>17))+((i=n+(s^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|i>>>11))+((i=t+(a^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|i>>>26))+((i=s+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|i>>>22))+((i=a+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|i>>>17))+((i=n+(s^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|i>>>11))+((i=t+(a^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|i>>>26))+((i=s+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|i>>>22))+((i=a+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|i>>>17))+((i=n+(s^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|i>>>11))+((s=(t=n+((i=t+(a^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|i>>>26))+((i=s+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|i>>>22))^((a=s+((i=a+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;a>=0;a--){var i=0|e[a];r&&i==t||(n[a]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,a=this.C,i=this.h,s=0;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(a[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,a),i=0;break}}else for(;s<t;)if(a[i++]=e[s++],i==this.blockSize){n(this,a),i=0;break}}this.h=i,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(var r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var a={};function i(e){return-128<=e&&e<128?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return f(s(-e));for(var t=[],n=1,a=0;e>=n;a++)t[a]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),c=i(1),u=i(16777216);function l(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function f(e){for(var t=e.g.length,n=[],a=0;a<t;a++)n[a]=~e.g[a];return new r(n,~e.h).add(c)}function h(e,t){return e.add(f(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function v(e,t){if(l(t))throw Error("division by zero");if(l(e))return new m(o,o);if(d(e))return t=v(f(e),t),new m(f(t.g),f(t.h));if(d(t))return t=v(e,f(t)),new m(f(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=c,r=t;r.l(e)<=0;)n=g(n),r=g(r);var a=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!l(r);){var u=i.add(r);u.l(e)<=0&&(a=a.add(n),i=u),r=y(r,1),n=y(n,1)}return t=h(e,a.j(t)),new m(a,t)}for(a=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),u=(i=s(n)).j(t);d(u)||u.l(e)>0;)u=(i=s(n-=r)).j(t);l(i)&&(i=c),a=a.add(i),e=h(e,u)}return new m(a,e)}function g(e){for(var t=e.g.length+1,n=[],a=0;a<t;a++)n[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var a=e.g.length-n,i=[],s=0;s<a;s++)i[s]=t>0?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-f(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(l(this))return"0";if(d(this))return"-"+f(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var a=v(n,t).g,i=(((n=h(n,a.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(l(n=a))return i+r;for(;i.length<6;)i="0"+i;r=i+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=h(this,e))?-1:l(e)?0:1},e.abs=function(){return d(this)?f(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0,i=0;i<=t;i++){var s=a+(65535&this.i(i))+(65535&e.i(i)),o=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);a=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(l(this)||l(e))return o;if(d(this))return d(e)?f(this).j(f(e)):f(f(this).j(e));if(d(e))return f(this.j(f(e)));if(this.l(u)<0&&e.l(u)<0)return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var i=0;i<e.g.length;i++){var c=this.i(a)>>>16,h=65535&this.i(a),m=e.i(i)>>>16,v=65535&e.i(i);n[2*a+2*i]+=h*v,p(n,2*a+2*i),n[2*a+2*i+1]+=c*v,p(n,2*a+2*i+1),n[2*a+2*i+1]+=h*m,p(n,2*a+2*i+1),n[2*a+2*i+2]+=c*m,p(n,2*a+2*i+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return v(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)&e.i(a);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)|e.i(a);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)^e.i(a);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Sa=Ea.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return f(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),a=o,i=0;i<t.length;i+=8){var c=Math.min(8,t.length-i),u=parseInt(t.substring(i,i+c),n);c<8?(c=s(Math.pow(n,c)),a=a.j(c).add(s(u))):a=(a=a.j(r)).add(s(u))}return a},ja=Ea.Integer=r}).apply("undefined"!==typeof _a?_a:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ca,Ta,Ia,Aa,Da,Pa,Ra,Oa,La="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ma={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof La&&La];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var a=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in a))break e;a=a[s]}(r=r(i=a[e=e[e.length-1]]))!=i&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var a=a||{},i=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function u(e,t,n){return(u=o).apply(null,arguments)}function l(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}var f="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?function(e){return e&&AsyncContext.Snapshot.wrap(e)}:function(e){return e};function h(e){var t=e.length;if(t>0){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n],a=typeof r;if("array"==(a="object"!=a?a:r?Array.isArray(r)?"array":a:"null")||"object"==a&&"number"==typeof r.length){a=e.length||0;var i=r.length||0;e.length=a+i;for(var s=0;s<i;s++)e[a+s]=r[s]}else e.push(r)}}var v=function(){return y(function e(t,n){p(this,e),this.i=t,this.j=n,this.h=0,this.g=null},[{key:"get",value:function(){var e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}])}();function g(e){i.setTimeout(function(){throw e},0)}function b(){var e=C,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k,x=function(){return y(function e(){p(this,e),this.h=this.g=null},[{key:"add",value:function(e,t){var n=N.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}])}(),N=new v(function(){return new S},function(e){return e.reset()}),S=function(){return y(function e(){p(this,e),this.next=this.g=this.h=null},[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}])}(),_=!1,C=new x,T=function(){var e=Promise.resolve(void 0);k=function(){e.then(I)}};function I(){for(var e;e=b();){try{e.h.call(e.g)}catch(ht){g(ht)}var t=N;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}_=!1}function A(){this.u=this.u,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};i.addEventListener("test",n,t),i.removeEventListener("test",n,t)}catch(n){}return e}();function R(e){return/^[\s\xa0]*$/.test(e)}function O(e,t){D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}d(O,D),O.prototype.init=function(e,t){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&O.Z.h.call(this)},O.prototype.h=function(){O.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),M=0;function F(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++M,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function z(e){var t={};for(var n in e)t[n]=e[n];return t}var B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(e,t){for(var n,r,a=1;a<arguments.length;a++){for(n in r=arguments[a])e[n]=r[n];for(var i=0;i<B.length;i++)n=B[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function H(e){this.src=e,this.g={},this.h=0}function W(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],i=Array.prototype.indexOf.call(a,t,void 0);(r=i>=0)&&Array.prototype.splice.call(a,i,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function G(e,t,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return a}return-1}H.prototype.add=function(e,t,n,r,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=G(e,t,r,a);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new F(t,this.src,i,!!r,a)).fa=n,e.push(t)),t};var K="closure_lm_"+(1e6*Math.random()|0),Q={};function X(e,t,n,r,a){if(r&&r.once)return J(e,t,n,r,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)X(e,t[i],n,r,a);return null}return n=ae(n),e&&e[L]?e.J(t,n,s(r)?!!r.capture:!!r,a):Y(e,t,n,!1,r,a)}function Y(e,t,n,r,a,i){if(!t)throw Error("Invalid event type");var o=s(a)?!!a.capture:!!a,c=ne(e);if(c||(e[K]=c=new H(e)),(n=c.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=te;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(ee(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function J(e,t,n,r,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)J(e,t[i],n,r,a);return null}return n=ae(n),e&&e[L]?e.K(t,n,s(r)?!!r.capture:!!r,a):Y(e,t,n,!0,r,a)}function $(e,t,n,r,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)$(e,t[i],n,r,a);else r=s(r)?!!r.capture:!!r,n=ae(n),e&&e[L]?(e=e.i,(i=String(t).toString())in e.g&&((n=G(t=e.g[i],n,r,a))>-1&&(V(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[i],e.h--)))):e&&(e=ne(e))&&(t=e.g[t.toString()],e=-1,t&&(e=G(t,n,r,a)),(n=e>-1?t[e]:null)&&Z(n))}function Z(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])W(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ee(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ne(t))?(W(n,e),0==n.h&&(n.src=null,t[K]=null)):V(e)}}}function ee(e){return e in Q?Q[e]:Q[e]="on"+e}function te(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Z(e),e=n.call(r,t)}return e}function ne(e){return(e=e[K])instanceof H?e:null}var re="__closure_events_fn_"+(1e9*Math.random()>>>0);function ae(e){return"function"===typeof e?e:(e[re]||(e[re]=function(t){return e.handleEvent(t)}),e[re])}function ie(){A.call(this),this.i=new H(this),this.M=this,this.G=null}function se(e,t){var n,r,a,i=e.G;if(i)for(n=[];i;i=i.G)n.push(i);if(e=e.M,i=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var s=t;q(t=new D(i,e),s)}if(s=!0,n)for(a=n.length-1;a>=0;a--)s=oe(r=t.g=n[a],i,!0,t)&&s;if(s=oe(r=t.g=e,i,!0,t)&&s,s=oe(r,i,!1,t)&&s,n)for(a=0;a<n.length;a++)s=oe(r=t.g=n[a],i,!1,t)&&s}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==n){var o=s.listener,c=s.ha||s.src;s.fa&&W(e.i,s),a=!1!==o.call(c,r)&&a}}return a&&!r.defaultPrevented}function ce(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return Number(t)>2147483647?-1:i.setTimeout(e,t||0)}(function(){e.g=null,e.i&&(e.i=!1,ce(e))},e.l);var t=e.h;e.h=null,e.m.apply(null,t)}d(ie,A),ie.prototype[L]=!0,ie.prototype.removeEventListener=function(e,t,n,r){$(this,e,t,n,r)},ie.prototype.N=function(){if(ie.Z.N.call(this),this.i){var e=this.i;for(var t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)V(n[r]);delete e.g[t],e.h--}}this.G=null},ie.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ie.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ue=function(e){function t(e,n){var r;return p(this,t),(r=w(this,t)).m=e,r.l=n,r.h=null,r.i=!1,r.g=null,r}return j(t,e),y(t,[{key:"j",value:function(e){this.h=arguments,this.g?this.i=!0:ce(this)}},{key:"N",value:function(){Cn(t,"N",this,3)([]),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}])}(A);function le(e){A.call(this),this.h=e,this.g={}}d(le,A);var de=[];function fe(e){U(e.g,function(e,t){this.g.hasOwnProperty(t)&&Z(e)},e),e.g={}}le.prototype.N=function(){le.Z.N.call(this),fe(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,pe=i.JSON.parse,me=function(){return y(function e(){p(this,e)},[{key:"stringify",value:function(e){return i.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return i.JSON.parse(e,void 0)}}])}();function ve(){}function ge(){}var ye={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function be(){D.call(this,"d")}function ke(){D.call(this,"c")}d(be,D),d(ke,D);var xe={},we=null;function Ne(){return we=we||new ie}function je(e){D.call(this,xe.Ia,e)}function Se(e){var t=Ne();se(t,new je(t))}function _e(e,t){D.call(this,xe.STAT_EVENT,e),this.stat=t}function Ee(e){var t=Ne();se(t,new _e(t,e))}function Ce(e,t){D.call(this,xe.Ja,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ie(){this.g=!0}function Ae(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(r.length<2)){var a=r[1];if(Array.isArray(a)&&!(a.length<1)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<a.length;s++)a[s]=""}}}return he(n)}catch(n){return t}}(e,n)+(r?" "+r:"")})}xe.Ia="serverreachability",d(je,D),xe.STAT_EVENT="statevent",d(_e,D),xe.Ja="timingevent",d(Ce,D),Ie.prototype.ua=function(){this.g=!1},Ie.prototype.info=function(){};var De,Pe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Re={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Oe(){}function Le(e){return encodeURIComponent(String(e))}function Me(e){var t=1;e=e.split(":");for(var n=[];t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Fe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new le(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}d(Oe,ve),Oe.prototype.g=function(){return new XMLHttpRequest},De=new Oe;var Ue={},ze={};function Be(e,t,n){e.M=1,e.A=mt(ct(t)),e.u=n,e.R=!0,qe(e,null)}function qe(e,t){e.F=Date.now(),Ge(e),e.B=ct(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),At(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ve,e.g=yn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new ue(u(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var a="readystatechange";Array.isArray(a)||(a&&(de[0]=a.toString()),a=de);for(var i=0;i<a.length;i++){var s=X(n,a[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.J?z(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),Se(),function(e,t,n,r,a,i){e.info(function(){if(e.g)if(i)for(var s="",o=i.split("&"),c=0;c<o.length;c++){var u=o[c].split("=");if(u.length>1){var l=u[0];u=u[1];var d=l.split("_");s=d.length>=2&&"type"==d[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function He(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function We(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ze:(n=Number(t.substring(n,r)),isNaN(n)?Ue:(r+=1)+n>t.length?ze:(t=t.slice(r,r+n),e.C=r+n,t))}function Ge(e){e.T=Date.now()+e.H,Ke(e,e.H)}function Ke(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Te(u(e.aa,e),t)}function Qe(e){e.D&&(i.clearTimeout(e.D),e.D=null)}function Xe(e){0==e.j.I||e.K||hn(e.j,e)}function Ye(e){Qe(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,fe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Je(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||nt(n.h,e)))if(!e.L&&nt(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(i){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;fn(n),tn(n)}un(n),Ee(18)}}else n.xa=a[1],0<n.xa-n.K&&a[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Te(u(n.Va,n),6e3));tt(n.h)<=1&&n.ta&&(n.ta=void 0)}else mn(n,11)}else if((e.L||n.g==e)&&fn(n),!R(t))for(a=n.Ba.g.parse(t),t=0;t<a.length;t++){var i=a[t],s=i[0];if(!(s<=n.K))if(n.K=s,i=i[1],2==n.I)if("c"==i[0]){n.M=i[1],n.ba=i[2];var o=i[3];null!=o&&(n.ka=o,n.j.info("VER="+n.ka));var c=i[4];null!=c&&(n.za=c,n.j.info("SVER="+n.za));var l=i[5];null!=l&&"number"===typeof l&&l>0&&(r=1.5*l,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var d=e.g;if(d){var f=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var h=r.h;h.g||-1==f.indexOf("spdy")&&-1==f.indexOf("quic")&&-1==f.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(rt(h,h.h),h.h=null))}if(r.G){var p=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.wa=p,pt(r.J,r.G,p))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var m=e;if((r=n).na=gn(r,r.L?r.ba:null,r.W),m.L){at(r.h,m);var v=m,g=r.O;g&&(v.H=g),v.D&&(Qe(v),Ge(v)),r.g=m}else cn(r);n.i.length>0&&rn(n)}else"stop"!=i[0]&&"close"!=i[0]||mn(n,7);else 3==n.I&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?mn(n,7):en(n):"noop"!=i[0]&&n.l&&n.l.qa(i),n.A=0)}Se()}catch(i){}}Fe.prototype.ba=function(e){e=e.target;var t=this.O;t&&3==Yt(e)?t.j():this.Y(e)},Fe.prototype.Y=function(e){try{if(e==this.g)e:{var t=Yt(this.g),n=this.g.ya();this.g.ca();if(!(t<3)&&(3!=t||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||4!=t||7==n||Se(),Qe(this);var r=this.g.ca();this.X=r;var a=function(e){if(!He(e))return e.g.la();var t=Jt(e.g);if(""===t)return"";var n="",r=t.length,a=4==Yt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Ye(e),Xe(e),"";e.h.i=new i.TextDecoder}for(var s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(a&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==r,function(e,t,n,r,a,i,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+i+" "+s})}(this.i,this.v,this.B,this.l,this.S,t,r),this.o){if(this.U&&!this.L){t:{if(this.g){var s,o=this.g;if((s=o.g?o.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(s)){var c=s;break t}}c=null}if(!(e=c)){this.o=!1,this.m=3,Ee(12),Ye(this),Xe(this);break e}Ae(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Je(this,e)}if(this.R){var u;for(e=!0;!this.K&&this.C<a.length;){if((u=We(this,a))==ze){4==t&&(this.m=4,Ee(14),e=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(u==Ue){this.m=4,Ee(15),Ae(this.i,this.l,a,"[Invalid Chunk]"),e=!1;break}Ae(this.i,this.l,u,null),Je(this,u)}if(He(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=t||0!=a.length||this.h.h||(this.m=1,Ee(16),e=!1),this.o=this.o&&e,e){if(a.length>0&&!this.W){this.W=!0;var l=this.j;l.g==this&&l.aa&&!l.P&&(l.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),ln(l),l.P=!0,Ee(11))}}else Ae(this.i,this.l,a,"[Invalid Chunked Response]"),Ye(this),Xe(this)}else Ae(this.i,this.l,a,null),Je(this,a);4==t&&Ye(this),this.o&&!this.K&&(4==t?hn(this.j,this):(this.o=!1,Ge(this)))}else(function(e){var t={};e=(e.g&&Yt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!R(e[n])){var r=Me(e[n]),a=r[0];if("string"===typeof(r=r[1])){r=r.trim();var i=t[a]||[];t[a]=i,i.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==r&&a.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),Ye(this),Xe(this)}}}catch(t){}},Fe.prototype.cancel=function(){this.K=!0,Ye(this)},Fe.prototype.aa=function(){this.D=null;var e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(Se(),Ee(17)),Ye(this),this.m=2,Xe(this)):Ke(this,this.T-e)};var $e=y(function e(t,n){p(this,e),this.g=t,this.map=n});function Ze(e){this.l=e||10,i.PerformanceNavigationTiming?e=(e=i.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function et(e){return!!e.h||!!e.g&&e.g.size>=e.j}function tt(e){return e.h?1:e.g?e.g.size:0}function nt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function rt(e,t){e.g?e.g.add(t):e.h=t}function at(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function it(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=E(e.g.values());try{for(r.s();!(t=r.n()).done;){var a=t.value;n=n.concat(a.G)}}catch(i){r.e(i)}finally{r.f()}return n}return h(e.i)}Ze.prototype.cancel=function(){if(this.i=it(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=E(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){var t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof ot?(this.l=e.l,ut(this,e.j),this.o=e.o,this.g=e.g,dt(this,e.u),this.h=e.h,ft(this,Dt(e.i)),this.m=e.m):e&&(t=String(e).match(st))?(this.l=!1,ut(this,t[1]||"",!0),this.o=vt(t[2]||""),this.g=vt(t[3]||"",!0),dt(this,t[4]),this.h=vt(t[5]||"",!0),ft(this,t[6]||"",!0),this.m=vt(t[7]||"")):(this.l=!1,this.i=new _t(null,this.l))}function ct(e){return new ot(e)}function ut(e,t,n){e.j=n?vt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function dt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function ft(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ct(this,t),At(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=bt(t,jt)),e.i=new _t(t,e.l))}function pt(e,t,n){e.i.set(t,n)}function mt(e){return pt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,kt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bt(t,xt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,xt,!0),"@"),e.push(Le(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?Nt:wt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,St)),e.join("")},ot.prototype.resolve=function(e){var t=ct(this),n=!!e.j;n?ut(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)dt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var a=t.h.lastIndexOf("/");-1!=a&&(r=t.h.slice(0,a+1)+r)}if(".."==(a=r)||"."==a)r="";else if(-1!=a.indexOf("./")||-1!=a.indexOf("/.")){r=0==a.lastIndexOf("/",0),a=a.split("/");for(var i=[],s=0;s<a.length;){var o=a[s++];"."==o?r&&s==a.length&&i.push(""):".."==o?((i.length>1||1==i.length&&""!=i[0])&&i.pop(),r&&s==a.length&&i.push("")):(i.push(o),r=!0)}r=i.join("/")}else r=a}return n?t.h=r:n=""!==e.i.toString(),n?ft(t,Dt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var xt=/[#\/\?@]/g,wt=/[#\?:]/g,Nt=/[#\?]/g,jt=/[#\?@]/g,St=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=void 0,i=null;r>=0?(a=e[n].substring(0,r),i=e[n].substring(r+1)):a=e[n],t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ct(e,t){Et(e),t=Pt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Tt(e,t){return Et(e),t=Pt(e,t),e.g.has(t)}function It(e,t){Et(e);var n=[];if("string"===typeof t)Tt(e,t)&&(n=n.concat(e.g.get(Pt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function At(e,t,n){Ct(e,t),n.length>0&&(e.i=null,e.g.set(Pt(e,t),h(n)),e.h+=n.length)}function Dt(e){var t=new _t;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Pt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Rt(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(yt){}}function Ot(){this.g=new me}function Lt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Mt(e,t){ie.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ft(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Vt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Ut(e)}function Ut(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function zt(e){var t="";return U(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Bt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zt(n),"string"===typeof e?null!=n&&Le(n):pt(e,t,n))}function qt(e){ie.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=_t.prototype).add=function(e,t){Et(this),this.i=null,e=Pt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return Et(this),this.i=null,Tt(this,e=Pt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=It(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],a=Le(r);r=It(this,r);for(var i=0;i<r.length;i++){var s=a;""!==r[i]&&(s+="="+Le(r[i])),e.push(s)}}return this.i=e.join("&")},d(Lt,ve),Lt.prototype.g=function(){return new Mt(this.i,this.h)},d(Mt,ie),(e=Mt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Ut(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;var t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||i).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(function(){}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Vt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ut(this)),this.g&&(this.readyState=3,Ut(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ft(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vt(this):Ut(this),3==this.readyState&&Ft(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Vt(this))},e.Na=function(e){this.g&&(this.response=e,Vt(this))},e.ga=function(){this.g&&Vt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(qt,ie);var Ht=/^https?$/i,Wt=["POST","PUT"];function Gt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Kt(e),Xt(e)}function Kt(e){e.A||(e.A=!0,se(e,"complete"),se(e,"error"))}function Qt(e){if(e.h&&"undefined"!=typeof a)if(e.v&&4==Yt(e))setTimeout(e.Ca.bind(e),0);else if(se(e,"readystatechange"),4==Yt(e)){e.h=!1;try{var t,n=e.ca();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var s;if(s=0===n){var o=String(e.D).match(st)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Ht.test(o?o.toLowerCase():"")}t=s}if(t)se(e,"complete"),se(e,"success");else{e.o=6;try{var c=Yt(e)>2?e.g.statusText:""}catch(o){c=""}e.l=c+" ["+e.ca()+"]",Kt(e)}}finally{Xt(e)}}}function Xt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);var n=e.g;e.g=null,t||se(e,"ready");try{n.onreadystatechange=null}catch(gt){}}}function Yt(e){return e.g?e.g.readyState:0}function Jt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function $t(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zt(e){this.za=0,this.i=[],this.j=new Ie,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$t("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$t("baseRetryDelayMs",5e3,e),this.Za=$t("retryDelaySeedMs",1e4,e),this.Ta=$t("forwardChannelMaxRetries",2,e),this.va=$t("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new Ze(e&&e.concurrentRequestLimit),this.Ba=new Ot,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function en(e){if(nn(e),3==e.I){var t=e.V++,n=ct(e.J);if(pt(n,"SID",e.M),pt(n,"RID",t),pt(n,"TYPE","terminate"),sn(e,n),(t=new Fe(e,e.j,t)).M=2,t.A=mt(ct(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.A.toString(),"")}catch(gt){}!n&&i.Image&&((new Image).src=t.A,n=!0),n||(t.g=yn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Ge(t)}vn(e)}function tn(e){e.g&&(ln(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.v&&(i.clearTimeout(e.v),e.v=null),fn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&i.clearTimeout(e.m),e.m=null)}function rn(e){if(!et(e.h)&&!e.m){e.m=!0;var t=e.Ea;k||T(),_||(k(),_=!0),C.add(t,e),e.D=0}}function an(e,t){var n;n=t?t.l:e.V++;var r=ct(e.J);pt(r,"SID",e.M),pt(r,"RID",n),pt(r,"AID",e.K),sn(e,r),e.u&&e.o&&Bt(r,e.u,e.o),n=new Fe(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=on(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),rt(e.h,n),Be(n,r,t)}function sn(e,t){e.H&&U(e.H,function(e,n){pt(t,n,e)}),e.l&&U({},function(e,n){pt(t,n,e)})}function on(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Ka,e.l,e):null;e:{for(var a=e.i,i=-1;;){var o=["count="+n];-1==i?n>0?(i=a[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);for(var l=!0,d=0;d<n;d++){var f=a[d].g,h=a[d].map;if((f-=i)<0)i=Math.max(0,a[d].g-100),l=!1;else try{f="req"+f+"_"||0;try{var p,m=h instanceof Map?h:Object.entries(h),v=E(m);try{for(v.s();!(p=v.n()).done;){var g=c(p.value,2),y=g[0],b=g[1],k=b;s(b)&&(k=he(b)),o.push(f+y+"="+encodeURIComponent(k))}}catch(x){v.e(x)}finally{v.f()}}catch(y){throw o.push(f+"type="+encodeURIComponent("_badmap")),y}}catch(y){r&&r(h)}}if(l){m=o.join("&");break e}}m=void 0}return e=e.i.splice(0,n),t.G=e,m}function cn(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;k||T(),_||(k(),_=!0),C.add(t,e),e.A=0}}function un(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Te(u(e.Da,e),pn(e,e.A)),e.A++,!0)}function ln(e){null!=e.B&&(i.clearTimeout(e.B),e.B=null)}function dn(e){e.g=new Fe(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=ct(e.na);pt(t,"RID","rpc"),pt(t,"SID",e.M),pt(t,"AID",e.K),pt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&pt(t,"TO",e.ia),pt(t,"TYPE","xmlhttp"),sn(e,t),e.u&&e.o&&Bt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=mt(ct(t)),n.u=null,n.R=!0,qe(n,e)}function fn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function hn(e,t){var n=null;if(e.g==t){fn(e),ln(e),e.g=null;var r=2}else{if(!nt(e.h,t))return;n=t.G,at(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var a=e.D;se(r=Ne(),new Ce(r,n)),rn(e)}else cn(e);else if(3==(a=t.m)||0==a&&t.X>0||!(1==r&&function(e,t){return!(tt(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Te(u(e.Ea,e,t),pn(e,e.D)),e.D++,!0))}(e,t)||2==r&&un(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),a){case 1:mn(e,5);break;case 4:mn(e,10);break;case 3:mn(e,6);break;default:mn(e,2)}}function pn(e,t){var n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function mn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.bb,e),r=e.Ua,a=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ut(r,"https"),mt(r),a?function(e,t){var n=new Ie;if(i.Image){var r=new Image;r.onload=l(Rt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=l(Rt,n,"TestLoadImage: error",!1,t,r),r.onabort=l(Rt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=l(Rt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;var n=new AbortController,r=setTimeout(function(){n.abort(),Rt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(function(e){clearTimeout(r),e.ok?Rt(0,0,!0,t):Rt(0,0,!1,t)}).catch(function(){clearTimeout(r),Rt(0,0,!1,t)})}(r.toString(),n)}else Ee(2);e.I=0,e.l&&e.l.pa(t),vn(e),nn(e)}function vn(e){if(e.I=0,e.ja=[],e.l){var t=it(e.h);0==t.length&&0==e.i.length||(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function gn(e,t,n){var r=n instanceof ot?ct(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),dt(r,r.u);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var s=new ot(null);r&&ut(s,r),t&&(s.g=t),a&&dt(s,a),n&&(s.h=n),r=s}return n=e.G,t=e.wa,n&&t&&pt(r,n,t),pt(r,"VER",e.ka),sn(e,r),r}function yn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new qt(new Lt({ab:n})):new qt(e.ma)).Fa(e.L),t}function bn(){}function kn(){}function xn(e,t){ie.call(this),this.g=new Zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!R(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!R(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new jn(this)}function wn(e){be.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Nn(){ke.call(this),this.status=1}function jn(e){this.g=e}(e=qt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():De.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(l){return void Gt(this,l)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var s,o=E(r.keys());try{for(o.s();!(s=o.n()).done;){var l=s.value;n.set(l,r.get(l))}}catch(g){o.e(g)}finally{o.f()}}r=Array.from(n.keys()).find(function(e){return"content-type"==e.toLowerCase()}),a=i.FormData&&e instanceof i.FormData,!(Array.prototype.indexOf.call(Wt,t,void 0)>=0)||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var d,h=E(n);try{for(h.s();!(d=h.n()).done;){var p=c(d.value,2),m=p[0],v=p[1];this.g.setRequestHeader(m,v)}}catch(g){h.e(g)}finally{h.f()}this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(l){Gt(this,l)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,se(this,"complete"),se(this,"abort"),Xt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),qt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Qt(this):this.Xa())},e.Xa=function(){Qt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Yt(this)>2?this.g.status:-1}catch(lt){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(lt){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),pe(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=gn(this,null,this.W),rn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Fe(this,this.j,e),n=this.o;if(this.U&&(n?q(n=z(n),this.U):n=this.U),null!==this.u||this.R||(t.J=n,n=null),this.S)e:{for(var r=0,a=0;a<this.i.length;a++){var i=this.i[a];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if((r+=i)>4096){r=a;break e}if(4096===r||a===this.i.length-1){r=a+1;break e}}r=1e3}else r=1e3;r=on(this,t,r),pt(a=ct(this.J),"RID",e),pt(a,"CVER",22),this.G&&pt(a,"X-HTTP-Session-Id",this.G),sn(this,a),n&&(this.R?r="headers="+Le(zt(n))+"&"+r:this.u&&Bt(a,this.u,n)),rt(this.h,t),this.Ra&&pt(a,"TYPE","init"),this.S?(pt(a,"$req",r),pt(a,"SID","null"),t.U=!0,Be(t,a,null)):Be(t,a,r),this.I=2}}else 3==this.I&&(e?an(this,e):0==this.i.length||et(this.h)||an(this))},e.Da=function(){if(this.v=null,dn(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Te(u(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),tn(this),dn(this))},e.Va=function(){null!=this.C&&(this.C=null,tn(this),un(this),Ee(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},kn.prototype.g=function(e,t){return new xn(e,t)},d(xn,ie),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){en(this.g)},xn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=he(e),e=n);t.i.push(new $e(t.Ya++,e)),3==t.I&&rn(t)},xn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,xn.Z.N.call(this)},d(wn,be),d(Nn,ke),d(jn,bn),jn.prototype.ra=function(){se(this.g,"a")},jn.prototype.qa=function(e){se(this.g,new wn(e))},jn.prototype.pa=function(e){se(this.g,new Nn)},jn.prototype.oa=function(){se(this.g,"b")},kn.prototype.createWebChannel=kn.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,Oa=Ma.createWebChannelTransport=function(){return new kn},Ra=Ma.getStatEventTarget=function(){return Ne()},Pa=Ma.Event=xe,Da=Ma.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Aa=Ma.ErrorCode=Pe,Re.COMPLETE="complete",Ia=Ma.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ie.prototype.listen=ie.prototype.J,Ta=Ma.WebChannel=ge,Ma.FetchXmlHttpFactory=Lt,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,Ca=Ma.XhrIo=qt}).apply("undefined"!==typeof La?La:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Fa="@firebase/firestore",Va="4.9.2",Ua=function(){return y(function e(t){p(this,e),this.uid=t},[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}])}();Ua.UNAUTHENTICATED=new Ua(null),Ua.GOOGLE_CREDENTIALS=new Ua("google-credentials-uid"),Ua.FIRST_PARTY=new Ua("first-party-uid"),Ua.MOCK_USER=new Ua("mock-user");var za="12.3.0",Ba=new wr("@firebase/firestore");function qa(){return Ba.logLevel}function Ha(e){if(Ba.logLevel<=mr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(Ka);Ba.debug.apply(Ba,["Firestore (".concat(za,"): ").concat(e)].concat(h(a)))}}function Wa(e){if(Ba.logLevel<=mr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(Ka);Ba.error.apply(Ba,["Firestore (".concat(za,"): ").concat(e)].concat(h(a)))}}function Ga(e){if(Ba.logLevel<=mr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(Ka);Ba.warn.apply(Ba,["Firestore (".concat(za,"): ").concat(e)].concat(h(a)))}}function Ka(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(ct){return e}}function Qa(e,t,n){var r="Unexpected state";"string"==typeof t?r=t:n=t,Xa(e,r,n)}function Xa(e,t,n){var r="FIRESTORE (".concat(za,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Wa(r),new Error(r)}function Ya(e,t,n,r){var a="Unexpected state";"string"==typeof n?a=n:r=n,e||Xa(t,a,r)}function Ja(e,t){return e}var $a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Za=function(e){function t(e,n){var r;return p(this,t),(r=w(this,t,[e,n])).code=e,r.message=n,r.toString=function(){return"".concat(r.name,": [code=").concat(r.code,"]: ").concat(r.message)},r}return j(t,e),y(t)}(er),ei=y(function e(){var t=this;p(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}),ti=y(function e(t,n){p(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}),ni=function(){return y(function e(){p(this,e)},[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(Ua.UNAUTHENTICATED)})}},{key:"shutdown",value:function(){}}])}(),ri=function(){return y(function e(t){p(this,e),this.token=t,this.changeListener=null},[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})}},{key:"shutdown",value:function(){this.changeListener=null}}])}(),ai=function(){return y(function e(t){p(this,e),this.t=t,this.currentUser=Ua.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null},[{key:"start",value:function(e,t){var n=this;Ya(void 0===this.o,42304);var r=this.i,a=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},i=new ei;this.o=function(){n.i++,n.currentUser=n.u(),i.resolve(),i=new ei,e.enqueueRetryable(function(){return a(n.currentUser)})};var s=function(){var t=i;e.enqueueRetryable(_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.promise;case 1:return e.n=2,a(n.currentUser);case 2:return e.a(2)}},e)})))},o=function(e){Ha("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.o&&(n.auth.addAuthTokenListener(n.o),s())};this.t.onInit(function(e){return o(e)}),setTimeout(function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?o(e):(Ha("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ei)}},0),s()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.i!==t?(Ha("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ya("string"==typeof n.accessToken,31837,{l:n}),new ti(n.accessToken,e.currentUser)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ya(null===e||"string"==typeof e,2055,{h:e}),new Ua(e)}}])}(),ii=function(){return y(function e(t,n,r){p(this,e),this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ua.FIRST_PARTY,this.A=new Map},[{key:"R",value:function(){return this.I?this.I():null}},{key:"headers",get:function(){this.A.set("X-Goog-AuthUser",this.P);var e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}])}(),si=function(){return y(function e(t,n,r){p(this,e),this.P=t,this.T=n,this.I=r},[{key:"getToken",value:function(){return Promise.resolve(new ii(this.P,this.T,this.I))}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(Ua.FIRST_PARTY)})}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}])}(),oi=y(function e(t){p(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}),ci=function(){return y(function e(t,n){p(this,e),this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ta(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)},[{key:"start",value:function(e,t){var n=this;Ya(void 0===this.o,3512);var r=function(e){null!=e.error&&Ha("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.m;return n.m=e.token,Ha("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable(function(){return r(t)})};var a=function(e){Ha("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.o&&n.appCheck.addTokenListener(n.o)};this.V.onInit(function(e){return a(e)}),setTimeout(function(){if(!n.appCheck){var e=n.V.getImmediate({optional:!0});e?a(e):Ha("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}},{key:"getToken",value:function(){var e=this;if(this.p)return Promise.resolve(new oi(this.p));var t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(function(t){return t?(Ya("string"==typeof t.token,44558,{tokenResult:t}),e.m=t.token,new oi(t.token)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}])}();function ui(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var li=function(){return y(function e(){p(this,e)},null,[{key:"newId",value:function(){for(var e=62*Math.floor(256/62),t="";t.length<20;)for(var n=ui(40),r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62));return t}}])}();function di(e,t){return e<t?-1:e>t?1:0}function fi(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var a=e.charAt(r),i=t.charAt(r);if(a!==i)return mi(a)===mi(i)?di(a,i):mi(a)?1:-1}return di(e.length,t.length)}var hi=55296,pi=57343;function mi(e){var t=e.charCodeAt(0);return t>=hi&&t<=pi}function vi(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}var gi="__name__",yi=function(){function e(t,n,r){p(this,e),void 0===n?n=0:n>t.length&&Qa(637,{offset:n,range:t.length}),void 0===r?r=t.length-n:r>t.length-n&&Qa(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}return y(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(t,n){for(var r=Math.min(t.length,n.length),a=0;a<r;a++){var i=e.compareSegments(t.get(a),n.get(a));if(0!==i)return i}return di(t.length,n.length)}},{key:"compareSegments",value:function(t,n){var r=e.isNumericId(t),a=e.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?e.extractNumericId(t).compare(e.extractNumericId(n)):fi(t,n)}},{key:"isNumericId",value:function(e){return e.startsWith("__id")&&e.endsWith("__")}},{key:"extractNumericId",value:function(e){return ja.fromString(e.substring(4,e.length-2))}}])}(),bi=function(e){function t(){return p(this,t),w(this,t,arguments)}return j(t,e),y(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"toUriEncodedString",value:function(){return this.toArray().map(encodeURIComponent).join("/")}}],[{key:"fromString",value:function(){for(var e=[],n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(var i=0,s=r;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Za($a.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push.apply(e,h(o.split("/").filter(function(e){return e.length>0})))}return new t(e)}},{key:"emptyPath",value:function(){return new t([])}}])}(yi),ki=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xi=function(e){function t(){return p(this,t),w(this,t,arguments)}return j(t,e),y(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&this.get(0)===gi}}],[{key:"isValidIdentifier",value:function(e){return ki.test(e)}},{key:"keyField",value:function(){return new t([gi])}},{key:"fromServerFormat",value:function(e){for(var n=[],r="",a=0,i=function(){if(0===r.length)throw new Za($a.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(r),r=""},s=!1;a<e.length;){var o=e[a];if("\\"===o){if(a+1===e.length)throw new Za($a.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var c=e[a+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Za($a.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,a+=2}else"`"===o?(s=!s,a++):"."!==o||s?(r+=o,a++):(i(),a++)}if(i(),s)throw new Za($a.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}},{key:"emptyPath",value:function(){return new t([])}}])}(yi),wi=function(){function e(t){p(this,e),this.path=t}return y(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===bi.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(bi.fromString(t))}},{key:"fromName",value:function(t){return new e(bi.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(bi.emptyPath())}},{key:"comparator",value:function(e,t){return bi.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new bi(t.slice()))}}])}();function Ni(e,t,n){if(!n)throw new Za($a.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ji(e){if(!wi.isDocumentKey(e))throw new Za($a.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Si(e){if(wi.isDocumentKey(e))throw new Za($a.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function _i(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Ei(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Qa(12329,{type:typeof e})}function Ci(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Za($a.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ei(e);throw new Za($a.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Ti(e,t){if(t<=0)throw new Za($a.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function Ii(e,t){var n={typeString:e};return t&&(n.value=t),n}function Ai(e,t){if(!_i(e))throw new Za($a.INVALID_ARGUMENT,"JSON must be an object");var n;for(var r in t)if(t[r]){var a=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}var s=e[r];if(a&&typeof s!==a){n="JSON field '".concat(r,"' must be a ").concat(a,".");break}if(void 0!==i&&s!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new Za($a.INVALID_ARGUMENT,n);return!0}var Di=-62135596800,Pi=1e6,Ri=function(){function e(t,n){if(p(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Za($a.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Za($a.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Di)throw new Za($a.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Za($a.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return y(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/Pi}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?di(this.nanoseconds,e.nanoseconds):di(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds-Di;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*Pi))}},{key:"fromJSON",value:function(t){if(Ai(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}}])}();Ri._jsonSchemaVersion="firestore/timestamp/1.0",Ri._jsonSchema={type:Ii("string",Ri._jsonSchemaVersion),seconds:Ii("number"),nanoseconds:Ii("number")};var Oi=function(){function e(t){p(this,e),this.timestamp=t}return y(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ri(0,0))}},{key:"max",value:function(){return new e(new Ri(253402300799,999999999))}}])}(),Li=-1,Mi=y(function e(t,n,r,a){p(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=a});Mi.UNKNOWN_ID=-1;function Fi(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Oi.fromTimestamp(1e9===r?new Ri(n+1,0):new Ri(n,r));return new Ui(a,wi.empty(),t)}function Vi(e){return new Ui(e.readTime,e.key,Li)}var Ui=function(){function e(t,n,r){p(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return y(e,null,[{key:"min",value:function(){return new e(Oi.min(),wi.empty(),Li)}},{key:"max",value:function(){return new e(Oi.max(),wi.empty(),Li)}}])}();function zi(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=wi.comparator(e.documentKey,t.documentKey))?n:di(e.largestBatchId,t.largestBatchId)}var Bi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qi=function(){return y(function e(){p(this,e),this.onCommittedListeners=[]},[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach(function(e){return e()})}}])}();function Hi(e){return Wi.apply(this,arguments)}function Wi(){return Wi=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.n){case 0:if(t.code===$a.FAILED_PRECONDITION&&t.message===Bi){e.n=1;break}throw t;case 1:Ha("LocalStore","Unexpectedly lost primary lease");case 2:return e.a(2)}},e)})),Wi.apply(this,arguments)}var Gi=function(){function e(t){var n=this;p(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)},function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)})}return y(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Qa(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,a){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,a)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,a)}})}},{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.next(t,n)})}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)}}],[{key:"resolve",value:function(t){return new e(function(e,n){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"waitFor",value:function(t){return new e(function(e,n){var r=0,a=0,i=!1;t.forEach(function(t){++r,t.next(function(){++a,i&&a===r&&e()},function(e){return n(e)})}),i=!0,a===r&&e()})}},{key:"or",value:function(t){var n,r=e.resolve(!1),a=E(t);try{var i=function(){var t=n.value;r=r.next(function(n){return n?e.resolve(n):t()})};for(a.s();!(n=a.n()).done;)i()}catch(s){a.e(s)}finally{a.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach(function(e,a){r.push(t.call(n,e,a))}),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e(function(e,r){for(var a=t.length,i=new Array(a),s=0,o=function(){var o=c;n(t[o]).next(function(t){i[o]=t,++s===a&&e(i)},function(e){return r(e)})},c=0;c<a;c++)o()})}},{key:"doWhile",value:function(t,n){return new e(function(e,r){var a=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){!0===t()?n().next(function(){a()},r):e()});a()})}}])}();function Ki(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qi(e){return"IndexedDbTransactionError"===e.name}var Xi=function(){return y(function e(t,n){var r=this;p(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ae(e)},this.ue=function(e){return n.writeSequenceNumber(e)})},[{key:"ae",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ue&&this.ue(e),e}}])}();Xi.ce=-1;var Yi=-1;function Ji(e){return null==e}function $i(e){return 0===e&&1/e==-1/0}function Zi(e){return"number"==typeof e&&Number.isInteger(e)&&!$i(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var es="\x01";function ts(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=rs(t)),t=ns(e.get(n),t);return rs(t)}function ns(e,t){for(var n=t,r=e.length,a=0;a<r;a++){var i=e.charAt(a);switch(i){case"\0":n+="\x01\x10";break;case es:n+="\x01\x11";break;default:n+=i}}return n}function rs(e){return e+es+"\x01"}var as="remoteDocuments",is="owner",ss="mutationQueues",os="mutations";var cs="documentMutations",us="remoteDocumentsV14",ls="remoteDocumentGlobal",ds="targets",fs="targetDocuments",hs="targetGlobal",ps="collectionParents",ms="clientMetadata",vs="bundles",gs="namedQueries",ys="indexConfiguration",bs="indexState",ks="indexEntries",xs="documentOverlays",ws="globals",Ns=[ss,os,cs,as,ds,is,hs,fs].concat([ms]).concat([ls]).concat([ps]).concat([vs,gs]),js=([].concat(h(Ns),[xs]),[ss,os,cs,us,ds,is,hs,fs,ms,ls,ps,vs,gs,xs]),Ss=js,_s=[].concat(Ss,[ys,bs,ks]);[].concat(h(_s),[ws]);function Es(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Cs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ts(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Is=function(){function e(t,n){p(this,e),this.comparator=t,this.root=n||Ds.EMPTY}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ds.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ds.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})}},{key:"toString",value:function(){var e=[];return this.inorderTraversal(function(t,n){return e.push("".concat(t,":").concat(n)),!1}),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new As(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new As(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new As(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new As(this.root,e,this.comparator,!0)}}])}(),As=function(){return y(function e(t,n,r,a){p(this,e),this.isReverse=a,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}},[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}])}(),Ds=function(){function e(t,n,r,a,i){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=a?a:e.EMPTY,this.right=null!=i?i:e.EMPTY,this.size=this.left.size+1+this.right.size}return y(e,[{key:"copy",value:function(t,n,r,a,i){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=i?i:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,a=n(e,r.key);return(r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===n(t,a.key)){if(a.right.isEmpty())return e.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Qa(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qa(14113,{key:this.key,value:this.value});var e=this.left.check();if(e!==this.right.check())throw Qa(27949);return e+(this.isRed()?0:1)}}])}();Ds.EMPTY=null,Ds.RED=!0,Ds.BLACK=!1,Ds.EMPTY=new(function(){return y(function e(){p(this,e),this.size=0},[{key:"key",get:function(){throw Qa(57766)}},{key:"value",get:function(){throw Qa(16141)}},{key:"color",get:function(){throw Qa(16727)}},{key:"left",get:function(){throw Qa(29726)}},{key:"right",get:function(){throw Qa(36894)}},{key:"copy",value:function(e,t,n,r,a){return this}},{key:"insert",value:function(e,t,n){return new Ds(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}])}());var Ps=function(){function e(t){p(this,e),this.comparator=t,this.data=new Is(this.comparator)}return y(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Rs(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Rs(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var a=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(a,i))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}])}(),Rs=function(){return y(function e(t){p(this,e),this.iter=t},[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}])}();var Os=function(){function e(t){p(this,e),this.fields=t,t.sort(xi.comparator)}return y(e,[{key:"unionWith",value:function(t){var n,r=new Ps(xi.comparator),a=E(this.fields);try{for(a.s();!(n=a.n()).done;){var i=n.value;r=r.add(i)}}catch(u){a.e(u)}finally{a.f()}var s,o=E(t);try{for(o.s();!(s=o.n()).done;){var c=s.value;r=r.add(c)}}catch(u){o.e(u)}finally{o.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=E(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return vi(this.fields,e.fields,function(e,t){return e.isEqual(t)})}}],[{key:"empty",value:function(){return new e([])}}])}(),Ls=function(e){function t(){var e;return p(this,t),(e=w(this,t,arguments)).name="Base64DecodeError",e}return j(t,e),y(t)}(_(Error));var Ms=function(){function e(t){p(this,e),this.binaryString=t}return y(e,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return di(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ls("Invalid base64 string: "+e):e}}(t);return new e(n)}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}])}();Ms.EMPTY_BYTE_STRING=new Ms("");var Fs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(e){if(Ya(!!e,39018),"string"==typeof e){var t=0,n=Fs.exec(e);if(Ya(!!n,46558,{timestamp:e}),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var a=new Date(e);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Us(e.seconds),nanos:Us(e.nanos)}}function Us(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function zs(e){return"string"==typeof e?Ms.fromBase64String(e):Ms.fromUint8Array(e)}var Bs="server_timestamp",qs="__type__",Hs="__previous_value__",Ws="__local_write_time__";function Gs(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[qs])||void 0===t?void 0:t.stringValue)===Bs}function Ks(e){var t=e.mapValue.fields[Hs];return Gs(t)?Ks(t):t}function Qs(e){var t=Vs(e.mapValue.fields[Ws].timestampValue);return new Ri(t.seconds,t.nanos)}var Xs=y(function e(t,n,r,a,i,s,o,c,u,l){p(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=l}),Ys="(default)",Js=function(){function e(t,n){p(this,e),this.projectId=t,this.database=n||Ys}return y(e,[{key:"isDefaultDatabase",get:function(){return this.database===Ys}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}])}(),$s="__type__",Zs="__max__",eo={mapValue:{fields:{__type__:{stringValue:Zs}}}},to="__vector__",no="value";function ro(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gs(e)?4:xo(e)?9007199254740991:bo(e)?10:11:Qa(28295,{value:e})}function ao(e,t){if(e===t)return!0;var n=ro(e);if(n!==ro(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qs(e).isEqual(Qs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Vs(e.timestampValue),r=Vs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return zs(e.bytesValue).isEqual(zs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Us(e.geoPointValue.latitude)===Us(t.geoPointValue.latitude)&&Us(e.geoPointValue.longitude)===Us(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Us(e.integerValue)===Us(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Us(e.doubleValue),r=Us(t.doubleValue);return n===r?$i(n)===$i(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vi(e.arrayValue.values||[],t.arrayValue.values||[],ao);case 10:case 11:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Es(n)!==Es(r))return!1;for(var a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!ao(n[a],r[a])))return!1;return!0}(e,t);default:return Qa(52216,{left:e})}}function io(e,t){return void 0!==(e.values||[]).find(function(e){return ao(e,t)})}function so(e,t){if(e===t)return 0;var n=ro(e),r=ro(t);if(n!==r)return di(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return di(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Us(e.integerValue||e.doubleValue),r=Us(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return oo(e.timestampValue,t.timestampValue);case 4:return oo(Qs(e),Qs(t));case 5:return fi(e.stringValue,t.stringValue);case 6:return function(e,t){var n=zs(e),r=zs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),a=0;a<n.length&&a<r.length;a++){var i=di(n[a],r[a]);if(0!==i)return i}return di(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=di(Us(e.latitude),Us(t.latitude));return 0!==n?n:di(Us(e.longitude),Us(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return co(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,a,i,s=e.fields||{},o=t.fields||{},c=null===(n=s[no])||void 0===n?void 0:n.arrayValue,u=null===(r=o[no])||void 0===r?void 0:r.arrayValue,l=di((null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0,(null===u||void 0===u||null===(i=u.values)||void 0===i?void 0:i.length)||0);return 0!==l?l:co(c,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===eo.mapValue&&t===eo.mapValue)return 0;if(e===eo.mapValue)return 1;if(t===eo.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),a=t.fields||{},i=Object.keys(a);r.sort(),i.sort();for(var s=0;s<r.length&&s<i.length;++s){var o=fi(r[s],i[s]);if(0!==o)return o;var c=so(n[r[s]],a[i[s]]);if(0!==c)return c}return di(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Qa(23264,{he:n})}}function oo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return di(e,t);var n=Vs(e),r=Vs(t),a=di(n.seconds,r.seconds);return 0!==a?a:di(n.nanos,r.nanos)}function co(e,t){for(var n=e.values||[],r=t.values||[],a=0;a<n.length&&a<r.length;++a){var i=so(n[a],r[a]);if(i)return i}return di(n.length,r.length)}function uo(e){return lo(e)}function lo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Vs(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return zs(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return wi.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,a=E(e.values||[]);try{for(a.s();!(t=a.n()).done;){var i=t.value;r?r=!1:n+=",",n+=lo(i)}}catch(s){a.e(s)}finally{a.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,a=E(Object.keys(e.fields||{}).sort());try{for(a.s();!(t=a.n()).done;){var i=t.value;r?r=!1:n+=",",n+="".concat(i,":").concat(lo(e.fields[i]))}}catch(s){a.e(s)}finally{a.f()}return n+"}"}(e.mapValue):Qa(61005,{value:e})}function fo(e){switch(ro(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:var t=Ks(e);return t?16+fo(t):16;case 5:return 2*e.stringValue.length;case 6:return zs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(function(e,t){return e+fo(t)},0)}(e.arrayValue);case 10:case 11:return function(e){var t=0;return Cs(e.fields,function(e,n){t+=e.length+fo(n)}),t}(e.mapValue);default:throw Qa(13486,{value:e})}}function ho(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function po(e){return!!e&&"integerValue"in e}function mo(e){return!!e&&"arrayValue"in e}function vo(e){return!!e&&"nullValue"in e}function go(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yo(e){return!!e&&"mapValue"in e}function bo(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[$s])||void 0===t?void 0:t.stringValue)===to}function ko(e){if(e.geoPointValue)return{geoPointValue:st({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:st({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Cs(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=ko(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ko(e.arrayValue.values[r]);return n}return st({},e)}function xo(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Zs}at(at({},$s,{stringValue:to}),no,{arrayValue:{}});var wo=function(){function e(t){p(this,e),this.value=t}return y(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!yo(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(t)}},{key:"setAll",value:function(e){var t=this,n=xi.emptyPath(),r={},a=[];e.forEach(function(e,i){if(!n.isImmediateParentOf(i)){var s=t.getFieldsMap(n);t.applyChanges(s,r,a),r={},a=[],n=i.popLast()}e?r[i.lastSegment()]=ko(e):a.push(i.lastSegment())});var i=this.getFieldsMap(n);this.applyChanges(i,r,a)}},{key:"delete",value:function(e){var t=this.field(e.popLast());yo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ao(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];yo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Cs(t,function(t,n){return e[t]=n});var r,a=E(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;delete e[i]}}catch(s){a.e(s)}finally{a.f()}}},{key:"clone",value:function(){return new e(ko(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}])}();function No(e){var t=[];return Cs(e.fields,function(e,n){var r=new xi([e]);if(yo(n)){var a=No(n.mapValue).fields;if(0===a.length)t.push(r);else{var i,s=E(a);try{for(s.s();!(i=s.n()).done;){var o=i.value;t.push(r.child(o))}}catch(c){s.e(c)}finally{s.f()}}}else t.push(r)}),new Os(t)}var jo=function(){function e(t,n,r,a,i,s,o){p(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}return y(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Oi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=wo.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=wo.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Oi.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Oi.min(),Oi.min(),Oi.min(),wo.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,a){return new e(t,1,n,Oi.min(),r,a,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Oi.min(),Oi.min(),wo.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Oi.min(),Oi.min(),wo.empty(),2)}}])}(),So=y(function e(t,n){p(this,e),this.position=t,this.inclusive=n});function _o(e,t,n){for(var r=0,a=0;a<e.position.length;a++){var i=t[a],s=e.position[a];if(r=i.field.isKeyField()?wi.comparator(wi.fromName(s.referenceValue),n.key):so(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Eo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ao(e.position[n],t.position[n]))return!1;return!0}var Co=y(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";p(this,e),this.field=t,this.dir=n});function To(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Io=y(function e(){p(this,e)}),Ao=function(e){function t(e,n,r){var a;return p(this,t),(a=w(this,t)).field=e,a.op=n,a.value=r,a}return j(t,e),y(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(so(t,this.value)):null!==t&&ro(this.value)===ro(t)&&this.matchesComparison(so(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qa(47266,{operator:this.op})}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Vo(e,n,r):"array-contains"===n?new qo(e,r):"in"===n?new Ho(e,r):"not-in"===n?new Wo(e,r):"array-contains-any"===n?new Go(e,r):new t(e,n,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Uo(e,n):new zo(e,n)}}])}(Io),Do=function(e){function t(e,n){var r;return p(this,t),(r=w(this,t)).filters=e,r.op=n,r.Pe=null,r}return j(t,e),y(t,[{key:"matches",value:function(e){return Po(this)?void 0===this.filters.find(function(t){return!t.matches(e)}):void 0!==this.filters.find(function(t){return t.matches(e)})}},{key:"getFlattenedFilters",value:function(){return null!==this.Pe||(this.Pe=this.filters.reduce(function(e,t){return e.concat(t.getFlattenedFilters())},[])),this.Pe}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,n){return new t(e,n)}}])}(Io);function Po(e){return"and"===e.op}function Ro(e){return Oo(e)&&Po(e)}function Oo(e){var t,n=E(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Do)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Lo(e){if(e instanceof Ao)return e.field.canonicalString()+e.op.toString()+uo(e.value);if(Ro(e))return e.filters.map(function(e){return Lo(e)}).join(",");var t=e.filters.map(function(e){return Lo(e)}).join(",");return"".concat(e.op,"(").concat(t,")")}function Mo(e,t){return e instanceof Ao?function(e,t){return t instanceof Ao&&e.op===t.op&&e.field.isEqual(t.field)&&ao(e.value,t.value)}(e,t):e instanceof Do?function(e,t){return t instanceof Do&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(function(e,n,r){return e&&Mo(n,t.filters[r])},!0)}(e,t):void Qa(19439)}function Fo(e){return e instanceof Ao?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(uo(e.value))}(e):e instanceof Do?function(e){return e.op.toString()+" {"+e.getFilters().map(Fo).join(" ,")+"}"}(e):"Filter"}var Vo=function(e){function t(e,n,r){var a;return p(this,t),(a=w(this,t,[e,n,r])).key=wi.fromName(r.referenceValue),a}return j(t,e),y(t,[{key:"matches",value:function(e){var t=wi.comparator(e.key,this.key);return this.matchesComparison(t)}}])}(Ao),Uo=function(e){function t(e,n){var r;return p(this,t),(r=w(this,t,[e,"in",n])).keys=Bo("in",n),r}return j(t,e),y(t,[{key:"matches",value:function(e){return this.keys.some(function(t){return t.isEqual(e.key)})}}])}(Ao),zo=function(e){function t(e,n){var r;return p(this,t),(r=w(this,t,[e,"not-in",n])).keys=Bo("not-in",n),r}return j(t,e),y(t,[{key:"matches",value:function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})}}])}(Ao);function Bo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return wi.fromName(e.referenceValue)})}var qo=function(e){function t(e,n){return p(this,t),w(this,t,[e,"array-contains",n])}return j(t,e),y(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return mo(t)&&io(t.arrayValue,this.value)}}])}(Ao),Ho=function(e){function t(e,n){return p(this,t),w(this,t,[e,"in",n])}return j(t,e),y(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&io(this.value.arrayValue,t)}}])}(Ao),Wo=function(e){function t(e,n){return p(this,t),w(this,t,[e,"not-in",n])}return j(t,e),y(t,[{key:"matches",value:function(e){if(io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!io(this.value.arrayValue,t)}}])}(Ao),Go=function(e){function t(e,n){return p(this,t),w(this,t,[e,"array-contains-any",n])}return j(t,e),y(t,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!mo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return io(t.value.arrayValue,e)})}}])}(Ao),Ko=y(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;p(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null});function Qo(e){return new Ko(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Xo(e){var t=Ja(e);if(null===t.Te){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return Lo(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),Ji(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(function(e){return uo(e)}).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(function(e){return uo(e)}).join(",")),t.Te=n}return t.Te}function Yo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!To(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Mo(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Eo(e.startAt,t.startAt)&&Eo(e.endAt,t.endAt)}function Jo(e){return wi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var $o=y(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt});function Zo(e,t,n,r,a,i,s,o){return new $o(e,t,n,r,a,i,s,o)}function ec(e){return new $o(e)}function tc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function nc(e){return null!==e.collectionGroup}function rc(e){var t=Ja(e);if(null===t.Ie){t.Ie=[];var n,r=new Set,a=E(t.explicitOrderBy);try{for(a.s();!(n=a.n()).done;){var i=n.value;t.Ie.push(i),r.add(i.field.canonicalString())}}catch(c){a.e(c)}finally{a.f()}var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",o=function(e){var t=new Ps(xi.comparator);return e.filters.forEach(function(e){e.getFlattenedFilters().forEach(function(e){e.isInequality()&&(t=t.add(e.field))})}),t}(t);o.forEach(function(e){r.has(e.canonicalString())||e.isKeyField()||t.Ie.push(new Co(e,s))}),r.has(xi.keyField().canonicalString())||t.Ie.push(new Co(xi.keyField(),s))}return t.Ie}function ac(e){var t=Ja(e);return t.Ee||(t.Ee=ic(t,rc(e))),t.Ee}function ic(e,t){if("F"===e.limitType)return Qo(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map(function(e){var t="desc"===e.dir?"asc":"desc";return new Co(e.field,t)});var n=e.endAt?new So(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new So(e.startAt.position,e.startAt.inclusive):null;return Qo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function sc(e,t){var n=e.filters.concat([t]);return new $o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function oc(e,t,n){return new $o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cc(e,t){return Yo(ac(e),ac(t))&&e.limitType===t.limitType}function uc(e){return"".concat(Xo(ac(e)),"|lt:").concat(e.limitType)}function lc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(function(e){return Fo(e)}).join(", "),"]")),Ji(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)}).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(function(e){return uo(e)}).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(function(e){return uo(e)}).join(",")),"Target(".concat(t,")")}(ac(e)),"; limitType=").concat(e.limitType,")")}function dc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):wi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=E(rc(e));try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!a.field.isKeyField()&&null===t.data.field(a.field))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=E(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=_o(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,rc(e),t))&&!(e.endAt&&!function(e,t,n){var r=_o(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,rc(e),t))}(e,t)}function fc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function hc(e){return function(t,n){var r,a=!1,i=E(rc(e));try{for(i.s();!(r=i.n()).done;){var s=r.value,o=pc(s,t,n);if(0!==o)return o;a=a||s.field.isKeyField()}}catch(c){i.e(c)}finally{i.f()}return 0}}function pc(e,t,n){var r=e.field.isKeyField()?wi.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?so(r,a):Qa(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Qa(19790,{direction:e.dir})}}var mc=function(){return y(function e(t,n){p(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0},[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=E(n);try{for(a.s();!(r=a.n()).done;){var i=c(r.value,2),s=i[0],o=i[1];if(this.equalsFn(s,e))return o}}catch(u){a.e(u)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Cs(this.inner,function(t,n){var r,a=E(n);try{for(a.s();!(r=a.n()).done;){var i=c(r.value,2),s=i[0],o=i[1];e(s,o)}}catch(u){a.e(u)}finally{a.f()}})}},{key:"isEmpty",value:function(){return Ts(this.inner)}},{key:"size",value:function(){return this.innerSize}}])}(),vc=new Is(wi.comparator);function gc(){return vc}var yc=new Is(wi.comparator);function bc(){for(var e=yc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var s=i[a];e=e.insert(s.key,s)}return e}function kc(e){var t=yc;return e.forEach(function(e,n){return t=t.insert(e,n.overlayedDocument)}),t}function xc(){return Nc()}function wc(){return Nc()}function Nc(){return new mc(function(e){return e.toString()},function(e,t){return e.isEqual(t)})}var jc=new Is(wi.comparator),Sc=new Ps(wi.comparator);function _c(){for(var e=Sc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var s=i[a];e=e.add(s)}return e}var Ec=new Ps(di);function Cc(){return Ec}function Tc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$i(t)?"-0":t}}function Ic(e){return{integerValue:""+e}}function Ac(e,t){return Zi(t)?Ic(t):Tc(e,t)}var Dc=y(function e(){p(this,e),this._=void 0});function Pc(e,t,n){return e instanceof Lc?function(e,t){var n={fields:at(at({},qs,{stringValue:Bs}),Ws,{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}})};return t&&Gs(t)&&(t=Ks(t)),t&&(n.fields[Hs]=t),{mapValue:n}}(n,t):e instanceof Mc?Fc(e,t):e instanceof Vc?Uc(e,t):function(e,t){var n=Oc(e,t),r=Bc(n)+Bc(e.Ae);return po(n)&&po(e.Ae)?Ic(r):Tc(e.serializer,r)}(e,t)}function Rc(e,t,n){return e instanceof Mc?Fc(e,t):e instanceof Vc?Uc(e,t):n}function Oc(e,t){return e instanceof zc?function(e){return po(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Lc=function(e){function t(){return p(this,t),w(this,t,arguments)}return j(t,e),y(t)}(Dc),Mc=function(e){function t(e){var n;return p(this,t),(n=w(this,t)).elements=e,n}return j(t,e),y(t)}(Dc);function Fc(e,t){var n,r=qc(t),a=E(e.elements);try{var i=function(){var e=n.value;r.some(function(t){return ao(t,e)})||r.push(e)};for(a.s();!(n=a.n()).done;)i()}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}var Vc=function(e){function t(e){var n;return p(this,t),(n=w(this,t)).elements=e,n}return j(t,e),y(t)}(Dc);function Uc(e,t){var n,r=qc(t),a=E(e.elements);try{var i=function(){var e=n.value;r=r.filter(function(t){return!ao(t,e)})};for(a.s();!(n=a.n()).done;)i()}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}var zc=function(e){function t(e,n){var r;return p(this,t),(r=w(this,t)).serializer=e,r.Ae=n,r}return j(t,e),y(t)}(Dc);function Bc(e){return Us(e.integerValue||e.doubleValue)}function qc(e){return mo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Hc=y(function e(t,n){p(this,e),this.field=t,this.transform=n});var Wc=y(function e(t,n){p(this,e),this.version=t,this.transformResults=n}),Gc=function(){function e(t,n){p(this,e),this.updateTime=t,this.exists=n}return y(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}])}();function Kc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Qc=y(function e(){p(this,e)});function Xc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ou(e.key,Gc.none()):new eu(e.key,e.data,Gc.none());var n,r=e.data,a=wo.empty(),i=new Ps(xi.comparator),s=E(t.fields);try{for(s.s();!(n=s.n()).done;){var o=n.value;if(!i.has(o)){var c=r.field(o);null===c&&o.length>1&&(o=o.popLast(),c=r.field(o)),null===c?a.delete(o):a.set(o,c),i=i.add(o)}}}catch(u){s.e(u)}finally{s.f()}return new tu(e.key,a,new Os(i.toArray()),Gc.none())}function Yc(e,t,n){e instanceof eu?function(e,t,n){var r=e.value.clone(),a=ru(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof tu?function(e,t,n){if(Kc(e.precondition,t)){var r=ru(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(nu(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Jc(e,t,n,r){return e instanceof eu?function(e,t,n,r){if(!Kc(e.precondition,t))return n;var a=e.value.clone(),i=au(e.fieldTransforms,r,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof tu?function(e,t,n,r){if(!Kc(e.precondition,t))return n;var a=au(e.fieldTransforms,r,t),i=t.data;return i.setAll(nu(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(function(e){return e.field}))}(e,t,n,r):function(e,t,n){return Kc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function $c(e,t){var n,r=null,a=E(e.fieldTransforms);try{for(a.s();!(n=a.n()).done;){var i=n.value,s=t.data.field(i.field),o=Oc(i.transform,s||null);null!=o&&(null===r&&(r=wo.empty()),r.set(i.field,o))}}catch(c){a.e(c)}finally{a.f()}return r||null}function Zc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vi(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Mc&&t instanceof Mc||e instanceof Vc&&t instanceof Vc?vi(e.elements,t.elements,ao):e instanceof zc&&t instanceof zc?ao(e.Ae,t.Ae):e instanceof Lc&&t instanceof Lc}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var eu=function(e){function t(e,n,r){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return p(this,t),(a=w(this,t)).key=e,a.value=n,a.precondition=r,a.fieldTransforms=i,a.type=0,a}return j(t,e),y(t,[{key:"getFieldMask",value:function(){return null}}])}(Qc),tu=function(e){function t(e,n,r,a){var i,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return p(this,t),(i=w(this,t)).key=e,i.data=n,i.fieldMask=r,i.precondition=a,i.fieldTransforms=s,i.type=1,i}return j(t,e),y(t,[{key:"getFieldMask",value:function(){return this.fieldMask}}])}(Qc);function nu(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function ru(e,t,n){var r=new Map;Ya(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(var a=0;a<n.length;a++){var i=e[a],s=i.transform,o=t.data.field(i.field);r.set(i.field,Rc(s,o,n[a]))}return r}function au(e,t,n){var r,a=new Map,i=E(e);try{for(i.s();!(r=i.n()).done;){var s=r.value,o=s.transform,c=n.data.field(s.field);a.set(s.field,Pc(o,c,t))}}catch(u){i.e(u)}finally{i.f()}return a}var iu,su,ou=function(e){function t(e,n){var r;return p(this,t),(r=w(this,t)).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return j(t,e),y(t,[{key:"getFieldMask",value:function(){return null}}])}(Qc),cu=function(e){function t(e,n){var r;return p(this,t),(r=w(this,t)).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return j(t,e),y(t,[{key:"getFieldMask",value:function(){return null}}])}(Qc),uu=function(){return y(function e(t,n,r,a){p(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a},[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var a=this.mutations[r];a.key.isEqual(e.key)&&Yc(a,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=E(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.key.isEqual(e.key)&&(t=Jc(a,e,t,this.localWriteTime))}}catch(c){r.e(c)}finally{r.f()}var i,s=E(this.mutations);try{for(s.s();!(i=s.n()).done;){var o=i.value;o.key.isEqual(e.key)&&(t=Jc(o,e,t,this.localWriteTime))}}catch(c){s.e(c)}finally{s.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=wc();return this.mutations.forEach(function(a){var i=e.get(a.key),s=i.overlayedDocument,o=n.applyToLocalView(s,i.mutatedFields),c=Xc(s,o=t.has(a.key)?null:o);null!==c&&r.set(a.key,c),s.isValidDocument()||s.convertToNoDocument(Oi.min())}),r}},{key:"keys",value:function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},_c())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&vi(this.mutations,e.mutations,function(e,t){return Zc(e,t)})&&vi(this.baseMutations,e.baseMutations,function(e,t){return Zc(e,t)})}}])}(),lu=function(){function e(t,n,r,a){p(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}return y(e,null,[{key:"from",value:function(t,n,r){Ya(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});for(var a=jc,i=t.mutations,s=0;s<i.length;s++)a=a.insert(i[s].key,r[s].version);return new e(t,n,r,a)}}])}(),du=function(){return y(function e(t,n){p(this,e),this.largestBatchId=t,this.mutation=n},[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}])}(),fu=y(function e(t,n){p(this,e),this.count=t,this.unchangedNames=n});function hu(e){switch(e){case $a.OK:return Qa(64938);case $a.CANCELLED:case $a.UNKNOWN:case $a.DEADLINE_EXCEEDED:case $a.RESOURCE_EXHAUSTED:case $a.INTERNAL:case $a.UNAVAILABLE:case $a.UNAUTHENTICATED:return!1;case $a.INVALID_ARGUMENT:case $a.NOT_FOUND:case $a.ALREADY_EXISTS:case $a.PERMISSION_DENIED:case $a.FAILED_PRECONDITION:case $a.ABORTED:case $a.OUT_OF_RANGE:case $a.UNIMPLEMENTED:case $a.DATA_LOSS:return!0;default:return Qa(15467,{code:e})}}function pu(e){if(void 0===e)return Wa("GRPC error has no .code"),$a.UNKNOWN;switch(e){case iu.OK:return $a.OK;case iu.CANCELLED:return $a.CANCELLED;case iu.UNKNOWN:return $a.UNKNOWN;case iu.DEADLINE_EXCEEDED:return $a.DEADLINE_EXCEEDED;case iu.RESOURCE_EXHAUSTED:return $a.RESOURCE_EXHAUSTED;case iu.INTERNAL:return $a.INTERNAL;case iu.UNAVAILABLE:return $a.UNAVAILABLE;case iu.UNAUTHENTICATED:return $a.UNAUTHENTICATED;case iu.INVALID_ARGUMENT:return $a.INVALID_ARGUMENT;case iu.NOT_FOUND:return $a.NOT_FOUND;case iu.ALREADY_EXISTS:return $a.ALREADY_EXISTS;case iu.PERMISSION_DENIED:return $a.PERMISSION_DENIED;case iu.FAILED_PRECONDITION:return $a.FAILED_PRECONDITION;case iu.ABORTED:return $a.ABORTED;case iu.OUT_OF_RANGE:return $a.OUT_OF_RANGE;case iu.UNIMPLEMENTED:return $a.UNIMPLEMENTED;case iu.DATA_LOSS:return $a.DATA_LOSS;default:return Qa(39323,{code:e})}}(su=iu||(iu={}))[su.OK=0]="OK",su[su.CANCELLED=1]="CANCELLED",su[su.UNKNOWN=2]="UNKNOWN",su[su.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",su[su.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",su[su.NOT_FOUND=5]="NOT_FOUND",su[su.ALREADY_EXISTS=6]="ALREADY_EXISTS",su[su.PERMISSION_DENIED=7]="PERMISSION_DENIED",su[su.UNAUTHENTICATED=16]="UNAUTHENTICATED",su[su.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",su[su.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",su[su.ABORTED=10]="ABORTED",su[su.OUT_OF_RANGE=11]="OUT_OF_RANGE",su[su.UNIMPLEMENTED=12]="UNIMPLEMENTED",su[su.INTERNAL=13]="INTERNAL",su[su.UNAVAILABLE=14]="UNAVAILABLE",su[su.DATA_LOSS=15]="DATA_LOSS";var mu=null;function vu(){return new TextEncoder}var gu=new ja([4294967295,4294967295],0);function yu(e){var t=vu().encode(e),n=new Sa;return n.update(t),new Uint8Array(n.digest())}function bu(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new ja([n,r],0),new ja([a,i],0)]}var ku=function(){function e(t,n,r){if(p(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xu("Invalid padding: ".concat(n));if(r<0)throw new xu("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new xu("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new xu("Invalid padding when bitmap length is 0: ".concat(n));this.ge=8*t.length-n,this.pe=ja.fromNumber(this.ge)}return y(e,[{key:"ye",value:function(e,t,n){var r=e.add(t.multiply(ja.fromNumber(n)));return 1===r.compare(gu)&&(r=new ja([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}},{key:"we",value:function(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.ge)return!1;for(var t=c(bu(yu(e)),2),n=t[0],r=t[1],a=0;a<this.hashCount;a++){var i=this.ye(n,r,a);if(!this.we(i))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.ge)for(var t=c(bu(yu(e)),2),n=t[0],r=t[1],a=0;a<this.hashCount;a++){var i=this.ye(n,r,a);this.Se(i)}}},{key:"Se",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var a=t%8==0?0:8-t%8,i=new e(new Uint8Array(Math.ceil(t/8)),a,n);return r.forEach(function(e){return i.insert(e)}),i}}])}(),xu=function(e){function t(){var e;return p(this,t),(e=w(this,t,arguments)).name="BloomFilterError",e}return j(t,e),y(t)}(_(Error)),wu=function(){function e(t,n,r,a,i){p(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=i}return y(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var a=new Map;return a.set(t,Nu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Oi.min(),a,new Is(di),gc(),_c())}}])}(),Nu=function(){function e(t,n,r,a,i){p(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=i}return y(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,_c(),_c(),_c())}}])}(),ju=y(function e(t,n,r,a){p(this,e),this.be=t,this.removedTargetIds=n,this.key=r,this.De=a}),Su=y(function e(t,n){p(this,e),this.targetId=t,this.Ce=n}),_u=y(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ms.EMPTY_BYTE_STRING,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}),Eu=function(){return y(function e(){p(this,e),this.ve=0,this.Fe=Iu(),this.Me=Ms.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0},[{key:"current",get:function(){return this.xe}},{key:"resumeToken",get:function(){return this.Me}},{key:"Ne",get:function(){return 0!==this.ve}},{key:"Be",get:function(){return this.Oe}},{key:"Le",value:function(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}},{key:"ke",value:function(){var e=_c(),t=_c(),n=_c();return this.Fe.forEach(function(r,a){switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Qa(38017,{changeType:a})}}),new Nu(this.Me,this.xe,e,t,n)}},{key:"qe",value:function(){this.Oe=!1,this.Fe=Iu()}},{key:"Qe",value:function(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}},{key:"$e",value:function(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}},{key:"Ue",value:function(){this.ve+=1}},{key:"Ke",value:function(){this.ve-=1,Ya(this.ve>=0,3241,{ve:this.ve})}},{key:"We",value:function(){this.Oe=!0,this.xe=!0}}])}(),Cu=function(){return y(function e(t){p(this,e),this.Ge=t,this.ze=new Map,this.je=gc(),this.Je=Tu(),this.He=Tu(),this.Ye=new Is(di)},[{key:"Ze",value:function(e){var t,n=E(e.be);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De)}}catch(o){n.e(o)}finally{n.f()}var a,i=E(e.removedTargetIds);try{for(i.s();!(a=i.n()).done;){var s=a.value;this.et(s,e.key,e.De)}}catch(o){i.e(o)}finally{i.f()}}},{key:"tt",value:function(e){var t=this;this.forEachTarget(e,function(n){var r=t.nt(n);switch(e.state){case 0:t.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||t.removeTarget(n);break;case 3:t.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:t.rt(n)&&(t.it(n),r.Le(e.resumeToken));break;default:Qa(56790,{state:e.state})}})}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(function(e,r){n.rt(r)&&t(r)})}},{key:"st",value:function(e){var t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){var a=r.target;if(Jo(a))if(0===n){var i=new wi(a.path);this.et(t,i,jo.newNoDocument(i,Oi.min()))}else Ya(1===n,20013,{expectedCount:n});else{var s=this._t(t);if(s!==n){var o,c=this.ut(e),u=c?this.ct(c,e,s):1;if(0!==u){this.it(t);var l=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,l)}null===(o=mu)||void 0===o||o.lt(function(e,t,n,r,a){var i,s,o,c,u,l={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(l.bloomFilter={applied:0===a,hashCount:null!==(i=null===d||void 0===d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(s=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(c=null===d||void 0===d||null===(u=d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:function(e){var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),l}(s,e.Ce,this.Ge.ht(),c,u))}}}}},{key:"ut",value:function(e){var t=e.Ce.unchangedNames;if(!t||!t.bits)return null;var n,r,a=t.bits,i=a.bitmap,s=void 0===i?"":i,o=a.padding,c=void 0===o?0:o,u=t.hashCount,l=void 0===u?0:u;try{n=zs(s).toUint8Array()}catch(e){if(e instanceof Ls)return Ga("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new ku(n,c,l)}catch(e){return Ga(e instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.ge?null:r}},{key:"ct",value:function(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}},{key:"Pt",value:function(e,t){var n=this,r=this.Ge.getRemoteKeysForTarget(t),a=0;return r.forEach(function(r){var i=n.Ge.ht(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(r.path.canonicalString());e.mightContain(s)||(n.et(t,r,null),a++)}),a}},{key:"Tt",value:function(e){var t=this,n=new Map;this.ze.forEach(function(r,a){var i=t.ot(a);if(i){if(r.current&&Jo(i.target)){var s=new wi(i.target.path);t.It(s).has(a)||t.Et(a,s)||t.et(a,s,jo.newNoDocument(s,e))}r.Be&&(n.set(a,r.ke()),r.qe())}});var r=_c();this.He.forEach(function(e,n){var a=!0;n.forEachWhile(function(e){var n=t.ot(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(a=!1,!1)}),a&&(r=r.add(e))}),this.je.forEach(function(t,n){return n.setReadTime(e)});var a=new wu(e,n,this.Ye,this.je,r);return this.je=gc(),this.Je=Tu(),this.He=Tu(),this.Ye=new Is(di),a}},{key:"Xe",value:function(e,t){if(this.rt(e)){var n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}}},{key:"et",value:function(e,t,n){if(this.rt(e)){var r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ze.delete(e)}},{key:"_t",value:function(e){var t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ue",value:function(e){this.nt(e).Ue()}},{key:"nt",value:function(e){var t=this.ze.get(e);return t||(t=new Eu,this.ze.set(e,t)),t}},{key:"dt",value:function(e){var t=this.He.get(e);return t||(t=new Ps(di),this.He=this.He.insert(e,t)),t}},{key:"It",value:function(e){var t=this.Je.get(e);return t||(t=new Ps(di),this.Je=this.Je.insert(e,t)),t}},{key:"rt",value:function(e){var t=null!==this.ot(e);return t||Ha("WatchChangeAggregator","Detected inactive target",e),t}},{key:"ot",value:function(e){var t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}},{key:"it",value:function(e){var t=this;this.ze.set(e,new Eu),this.Ge.getRemoteKeysForTarget(e).forEach(function(n){t.et(e,n,null)})}},{key:"Et",value:function(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}])}();function Tu(){return new Is(wi.comparator)}function Iu(){return new Is(wi.comparator)}var Au={asc:"ASCENDING",desc:"DESCENDING"},Du={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pu={and:"AND",or:"OR"},Ru=y(function e(t,n){p(this,e),this.databaseId=t,this.useProto3Json=n});function Ou(e,t){return e.useProto3Json||Ji(t)?t:{value:t}}function Lu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Fu(e,t){return Lu(e,t.toTimestamp())}function Vu(e){return Ya(!!e,49232),Oi.fromTimestamp(function(e){var t=Vs(e);return new Ri(t.seconds,t.nanos)}(e))}function Uu(e,t){return zu(e,t).canonicalString()}function zu(e,t){var n=function(e){return new bi(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Bu(e){var t=bi.fromString(e);return Ya(ul(t),10190,{key:t.toString()}),t}function qu(e,t){return Uu(e.databaseId,t.path)}function Hu(e,t){var n=Bu(t);if(n.get(1)!==e.databaseId.projectId)throw new Za($a.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Za($a.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new wi(Qu(n))}function Wu(e,t){return Uu(e.databaseId,t)}function Gu(e){var t=Bu(e);return 4===t.length?bi.emptyPath():Qu(t)}function Ku(e){return new bi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qu(e){return Ya(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Xu(e,t,n){return{name:qu(e,t),fields:n.value.mapValue.fields}}function Yu(e,t){return"found"in t?function(e,t){Ya(!!t.found,43571),t.found.name,t.found.updateTime;var n=Hu(e,t.found.name),r=Vu(t.found.updateTime),a=t.found.createTime?Vu(t.found.createTime):Oi.min(),i=new wo({mapValue:{fields:t.found.fields}});return jo.newFoundDocument(n,r,a,i)}(e,t):"missing"in t?function(e,t){Ya(!!t.missing,3894),Ya(!!t.readTime,22933);var n=Hu(e,t.missing),r=Vu(t.readTime);return jo.newNoDocument(n,r)}(e,t):Qa(7234,{result:t})}function Ju(e,t){var n;if(t instanceof eu)n={update:Xu(e,t.key,t.value)};else if(t instanceof ou)n={delete:qu(e,t.key)};else if(t instanceof tu)n={update:Xu(e,t.key,t.data),updateMask:cl(t.fieldMask)};else{if(!(t instanceof cu))return Qa(16599,{Vt:t.type});n={verify:qu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof Lc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Mc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Vc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof zc)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Qa(20930,{transform:t.transform})}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Fu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Qa(27497)}(e,t.precondition)),n}function $u(e,t){return{documents:[Wu(e,t.path)]}}function Zu(e,t){var n,r={structuredQuery:{}},a=t.path;null!==t.collectionGroup?(n=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=Wu(e,n);var i=function(e){if(0!==e.length)return ol(Do.create(e,"and"))}(t.filters);i&&(r.structuredQuery.where=i);var s=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:il(e.field),direction:nl(e.dir)}}(e)})}(t.orderBy);s&&(r.structuredQuery.orderBy=s);var o=Ou(e,t.limit);return null!==o&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:r,parent:n}}function el(e){var t=Gu(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,a=null;if(r>0){Ya(1===r,65062);var i=n.from[0];i.allDescendants?a=i.collectionId:t=t.child(i.collectionId)}var s=[];n.where&&(s=function(e){var t=tl(e);return t instanceof Do&&Ro(t)?t.getFilters():[t]}(n.where));var o=[];n.orderBy&&(o=function(e){return e.map(function(e){return function(e){return new Co(sl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})}(n.orderBy));var c=null;n.limit&&(c=function(e){var t;return Ji(t="object"==typeof e?e.value:e)?null:t}(n.limit));var u=null;n.startAt&&(u=function(e){var t=!!e.before,n=e.values||[];return new So(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new So(n,t)}(n.endAt)),Zo(t,a,o,s,c,"F",u,l)}function tl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=sl(e.unaryFilter.field);return Ao.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=sl(e.unaryFilter.field);return Ao.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=sl(e.unaryFilter.field);return Ao.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var a=sl(e.unaryFilter.field);return Ao.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qa(61313);default:return Qa(60726)}}(e):void 0!==e.fieldFilter?function(e){return Ao.create(sl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qa(58110);default:return Qa(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Do.create(e.compositeFilter.filters.map(function(e){return tl(e)}),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Qa(1026)}}(e.compositeFilter.op))}(e):Qa(30097,{filter:e})}function nl(e){return Au[e]}function rl(e){return Du[e]}function al(e){return Pu[e]}function il(e){return{fieldPath:e.canonicalString()}}function sl(e){return xi.fromServerFormat(e.fieldPath)}function ol(e){return e instanceof Ao?function(e){if("=="===e.op){if(go(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NAN"}};if(vo(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(go(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NOT_NAN"}};if(vo(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(e.field),op:rl(e.op),value:e.value}}}(e):e instanceof Do?function(e){var t=e.getFilters().map(function(e){return ol(e)});return 1===t.length?t[0]:{compositeFilter:{op:al(e.op),filters:t}}}(e):Qa(54877,{filter:e})}function cl(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function ul(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var ll=function(){function e(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Oi.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Oi.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ms.EMPTY_BYTE_STRING,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}return y(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}])}(),dl=y(function e(t){p(this,e),this.yt=t});function fl(e){var t=el({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?oc(t,t.limit,"L"):t}var hl=function(){return y(function e(){p(this,e)},[{key:"Dt",value:function(e,t){this.Ct(e,t),t.vt()}},{key:"Ct",value:function(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Us(e.integerValue));else if("doubleValue"in e){var n=Us(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),$i(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Ft(t,20),"string"==typeof r&&(r=Vs(r)),t.xt("".concat(r.seconds||"")),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(zs(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){var a=e.geoPointValue;this.Ft(t,45),t.Mt(a.latitude||0),t.Mt(a.longitude||0)}else"mapValue"in e?xo(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):bo(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Qa(19022,{$t:e})}},{key:"Ot",value:function(e,t){this.Ft(t,25),this.Ut(e,t)}},{key:"Ut",value:function(e,t){t.xt(e)}},{key:"qt",value:function(e,t){var n=e.fields||{};this.Ft(t,55);for(var r=0,a=Object.keys(n);r<a.length;r++){var i=a[r];this.Ot(i,t),this.Ct(n[i],t)}}},{key:"kt",value:function(e,t){var n,r=e.fields||{};this.Ft(t,53);var a=no,i=(null===(n=r[a].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Us(i)),this.Ot(a,t),this.Ct(r[a],t)}},{key:"Qt",value:function(e,t){var n=e.values||[];this.Ft(t,50);var r,a=E(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.Ct(i,t)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Lt",value:function(e,t){var n=this;this.Ft(t,37),wi.fromName(e).path.forEach(function(e){n.Ft(t,60),n.Ut(e,t)})}},{key:"Ft",value:function(e,t){e.Mt(t)}},{key:"Nt",value:function(e){e.Mt(2)}}])}();hl.Kt=new hl;var pl=function(){return y(function e(){p(this,e),this.Cn=new ml},[{key:"addToCollectionParentIndex",value:function(e,t){return this.Cn.add(t),Gi.resolve()}},{key:"getCollectionParents",value:function(e,t){return Gi.resolve(this.Cn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Gi.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Gi.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Gi.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Gi.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Gi.resolve(null)}},{key:"getIndexType",value:function(e,t){return Gi.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Gi.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Gi.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Gi.resolve(Ui.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Gi.resolve(Ui.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Gi.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Gi.resolve()}}])}(),ml=function(){return y(function e(){p(this,e),this.index={}},[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ps(bi.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ps(bi.comparator)).toArray()}}])}();new Uint8Array(0);var vl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gl=41943040,yl=function(){function e(t,n,r){p(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return y(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}])}();yl.DEFAULT_COLLECTION_PERCENTILE=10,yl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yl.DEFAULT=new yl(gl,yl.DEFAULT_COLLECTION_PERCENTILE,yl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yl.DISABLED=new yl(-1,0,0);var bl=function(){function e(t){p(this,e),this.ar=t}return y(e,[{key:"next",value:function(){return this.ar+=2,this.ar}}],[{key:"ur",value:function(){return new e(0)}},{key:"cr",value:function(){return new e(-1)}}])}();var kl="LruGarbageCollector",xl=1048576;function wl(e,t){var n=c(e,2),r=n[0],a=n[1],i=c(t,2),s=i[0],o=i[1],u=di(r,s);return 0===u?di(a,o):u}var Nl=function(){return y(function e(t){p(this,e),this.Ir=t,this.buffer=new Ps(wl),this.Er=0},[{key:"dr",value:function(){return++this.Er}},{key:"Ar",value:function(e){var t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();wl(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}])}(),jl=function(){return y(function e(t,n,r){p(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null},[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}},{key:"stop",value:function(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}},{key:"started",get:function(){return null!==this.Rr}},{key:"Vr",value:function(e){var t=this;Ha(kl,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,_n(jn().m(function e(){var n;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.Rr=null,e.p=1,e.n=2,t.localStore.collectGarbage(t.garbageCollector);case 2:e.n=5;break;case 3:if(e.p=3,!Qi(n=e.v)){e.n=4;break}Ha(kl,"Ignoring IndexedDB error during garbage collection: ",n),e.n=5;break;case 4:return e.n=5,Hi(n);case 5:return e.n=6,t.Vr(3e5);case 6:return e.a(2)}},e,null,[[1,3]])})))}}])}(),Sl=function(){return y(function e(t,n){p(this,e),this.mr=t,this.params=n},[{key:"calculateTargetCount",value:function(e,t){return this.mr.gr(e).next(function(e){return Math.floor(t/100*e)})}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Gi.resolve(Xi.ce);var r=new Nl(t);return this.mr.forEachTarget(e,function(e){return r.Ar(e.sequenceNumber)}).next(function(){return n.mr.pr(e,function(e){return r.Ar(e)})}).next(function(){return r.maxValue})}},{key:"removeTargets",value:function(e,t,n){return this.mr.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.mr.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ha("LruGarbageCollector","Garbage collection skipped; disabled"),Gi.resolve(vl)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Ha("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),vl):n.yr(e,t)})}},{key:"getCacheSize",value:function(e){return this.mr.getCacheSize(e)}},{key:"yr",value:function(e,t){var n,r,a,i,s,o,c,u=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>u.params.maximumSequenceNumbersToCollect?(Ha("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(u.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=u.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),u.nthSequenceNumber(e,r)}).next(function(r){return n=r,s=Date.now(),u.removeTargets(e,n,t)}).next(function(t){return a=t,o=Date.now(),u.removeOrphanedDocuments(e,n)}).next(function(e){return c=Date.now(),qa()<=mr.DEBUG&&Ha("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-i)+"ms\n"+"\tRemoved ".concat(a," targets in ")+(o-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-o)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),Gi.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e})})}}])}();function _l(e,t){return new Sl(e,t)}var El=function(){return y(function e(){p(this,e),this.changes=new mc(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1},[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,jo.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Gi.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}])}();var Cl=y(function e(t,n){p(this,e),this.overlayedDocument=t,this.mutatedFields=n}),Tl=function(){return y(function e(t,n,r,a){p(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a},[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next(function(a){return r=a,n.remoteDocumentCache.getEntry(e,t)}).next(function(e){return null!==r&&Jc(r.mutation,e,Os.empty(),Ri.now()),e})}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t,_c()).next(function(){return t})})}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_c(),a=xc();return this.populateOverlays(e,a,t).next(function(){return n.computeViews(e,t,a,r).next(function(e){var t=bc();return e.forEach(function(e,n){t=t.insert(e,n.overlayedDocument)}),t})})}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=xc();return this.populateOverlays(e,r,t).next(function(){return n.computeViews(e,t,r,_c())})}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach(function(e){t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(function(e){e.forEach(function(e,n){t.set(e,n)})})}},{key:"computeViews",value:function(e,t,n,r){var a=gc(),i=Nc(),s=Nc();return t.forEach(function(e,t){var s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof tu)?a=a.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),Jc(s.mutation,t,s.mutation.getFieldMask(),Ri.now())):i.set(t.key,Os.empty())}),this.recalculateAndSaveOverlays(e,a).next(function(e){return e.forEach(function(e,t){return i.set(e,t)}),t.forEach(function(e,t){var n;return s.set(e,new Cl(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),s})}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Nc(),a=new Is(function(e,t){return e-t}),i=_c();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){var n,i=E(e);try{var s=function(){var e=n.value;e.keys().forEach(function(n){var i=t.get(n);if(null!==i){var s=r.get(n)||Os.empty();s=e.applyToLocalView(i,s),r.set(n,s);var o=(a.get(e.batchId)||_c()).add(n);a=a.insert(e.batchId,o)}})};for(i.s();!(n=i.n()).done;)s()}catch(o){i.e(o)}finally{i.f()}}).next(function(){for(var s=[],o=a.getReverseIterator(),c=function(){var a=o.getNext(),c=a.key,u=a.value,l=wc();u.forEach(function(e){if(!i.has(e)){var n=Xc(t.get(e),r.get(e));null!==n&&l.set(e,n),i=i.add(e)}}),s.push(n.documentOverlayCache.saveOverlays(e,c,l))};o.hasNext();)c();return Gi.waitFor(s)}).next(function(){return r})}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.recalculateAndSaveOverlays(e,t)})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return wi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var a=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(function(i){var s=r-i.size>0?a.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Gi.resolve(xc()),o=Li,c=i;return s.next(function(t){return Gi.forEach(t,function(t,n){return o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Gi.resolve():a.remoteDocumentCache.getEntry(e,t).next(function(e){c=c.insert(t,e)})}).next(function(){return a.populateOverlays(e,t,i)}).next(function(){return a.computeViews(e,c,t,_c())}).next(function(e){return{batchId:o,changes:kc(e)}})})})}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new wi(t)).next(function(e){var t=bc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var a=this,i=t.collectionGroup,s=bc();return this.indexManager.getCollectionParents(e,i).next(function(o){return Gi.forEach(o,function(o){var c=function(e,t){return new $o(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return a.getDocumentsMatchingCollectionQuery(e,c,n,r).next(function(e){e.forEach(function(e,t){s=s.insert(e,t)})})}).next(function(){return s})})}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var a,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(function(s){return a=s,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r)}).next(function(e){a.forEach(function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,jo.newInvalidDocument(r)))});var n=bc();return e.forEach(function(e,r){var i=a.get(e);void 0!==i&&Jc(i.mutation,r,Os.empty(),Ri.now()),dc(t,r)&&(n=n.insert(e,r))}),n})}}])}(),Il=function(){return y(function e(t){p(this,e),this.serializer=t,this.Lr=new Map,this.kr=new Map},[{key:"getBundleMetadata",value:function(e,t){return Gi.resolve(this.Lr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Vu(e.createTime)}}(t)),Gi.resolve()}},{key:"getNamedQuery",value:function(e,t){return Gi.resolve(this.kr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:fl(e.bundledQuery),readTime:Vu(e.readTime)}}(t)),Gi.resolve()}}])}(),Al=function(){return y(function e(){p(this,e),this.overlays=new Is(wi.comparator),this.qr=new Map},[{key:"getOverlay",value:function(e,t){return Gi.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=xc();return Gi.forEach(t,function(t){return n.getOverlay(e,t).next(function(e){null!==e&&r.set(t,e)})}).next(function(){return r})}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach(function(n,a){r.St(e,t,a)}),Gi.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,a=this.qr.get(n);return void 0!==a&&(a.forEach(function(e){return r.overlays=r.overlays.remove(e)}),this.qr.delete(n)),Gi.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=xc(),a=t.length+1,i=new wi(t.child("")),s=this.overlays.getIteratorFrom(i);s.hasNext();){var o=s.getNext().value,c=o.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===a&&o.largestBatchId>n&&r.set(o.getKey(),o)}return Gi.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var a=new Is(function(e,t){return e-t}),i=this.overlays.getIterator();i.hasNext();){var s=i.getNext().value;if(s.getKey().getCollectionGroup()===t&&s.largestBatchId>n){var o=a.get(s.largestBatchId);null===o&&(o=xc(),a=a.insert(s.largestBatchId,o)),o.set(s.getKey(),s)}}for(var c=xc(),u=a.getIterator();u.hasNext()&&(u.getNext().value.forEach(function(e,t){return c.set(e,t)}),!(c.size()>=r)););return Gi.resolve(c)}},{key:"St",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var a=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new du(t,n));var i=this.qr.get(t);void 0===i&&(i=_c(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}])}(),Dl=function(){return y(function e(){p(this,e),this.sessionToken=Ms.EMPTY_BYTE_STRING},[{key:"getSessionToken",value:function(e){return Gi.resolve(this.sessionToken)}},{key:"setSessionToken",value:function(e,t){return this.sessionToken=t,Gi.resolve()}}])}(),Pl=function(){return y(function e(){p(this,e),this.Qr=new Ps(Rl.$r),this.Ur=new Ps(Rl.Kr)},[{key:"isEmpty",value:function(){return this.Qr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Rl(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}},{key:"Wr",value:function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})}},{key:"removeReference",value:function(e,t){this.Gr(new Rl(e,t))}},{key:"zr",value:function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})}},{key:"jr",value:function(e){var t=this,n=new wi(new bi([])),r=new Rl(n,e),a=new Rl(n,e+1),i=[];return this.Ur.forEachInRange([r,a],function(e){t.Gr(e),i.push(e.key)}),i}},{key:"Jr",value:function(){var e=this;this.Qr.forEach(function(t){return e.Gr(t)})}},{key:"Gr",value:function(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}},{key:"Hr",value:function(e){var t=new wi(new bi([])),n=new Rl(t,e),r=new Rl(t,e+1),a=_c();return this.Ur.forEachInRange([n,r],function(e){a=a.add(e.key)}),a}},{key:"containsKey",value:function(e){var t=new Rl(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}])}(),Rl=function(){return y(function e(t,n){p(this,e),this.key=t,this.Yr=n},null,[{key:"$r",value:function(e,t){return wi.comparator(e.key,t.key)||di(e.Yr,t.Yr)}},{key:"Kr",value:function(e,t){return di(e.Yr,t.Yr)||wi.comparator(e.key,t.key)}}])}(),Ol=function(){return y(function e(t,n){p(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ps(Rl.$r)},[{key:"checkEmpty",value:function(e){return Gi.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var i=new uu(a,t,n,r);this.mutationQueue.push(i);var s,o=E(r);try{for(o.s();!(s=o.n()).done;){var c=s.value;this.Zr=this.Zr.add(new Rl(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(u){o.e(u)}finally{o.f()}return Gi.resolve(i)}},{key:"lookupMutationBatch",value:function(e,t){return Gi.resolve(this.Xr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ei(n),a=r<0?0:r;return Gi.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Gi.resolve(0===this.mutationQueue.length?Yi:this.tr-1)}},{key:"getAllMutationBatches",value:function(e){return Gi.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Rl(t,0),a=new Rl(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,a],function(e){var t=n.Xr(e.Yr);i.push(t)}),Gi.resolve(i)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ps(di);return t.forEach(function(e){var t=new Rl(e,0),a=new Rl(e,Number.POSITIVE_INFINITY);n.Zr.forEachInRange([t,a],function(e){r=r.add(e.Yr)})}),Gi.resolve(this.ti(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,a=n;wi.isDocumentKey(a)||(a=a.child(""));var i=new Rl(new wi(a),0),s=new Ps(di);return this.Zr.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},i),Gi.resolve(this.ti(s))}},{key:"ti",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=t.Xr(e);null!==r&&n.push(r)}),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ya(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();var r=this.Zr;return Gi.forEach(t.mutations,function(a){var i=new Rl(a.key,t.batchId);return r=r.delete(i),n.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(function(){n.Zr=r})}},{key:"ir",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Rl(t,0),r=this.Zr.firstAfterOrEqual(n);return Gi.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Gi.resolve()}},{key:"ni",value:function(e,t){return this.ei(e)}},{key:"ei",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Xr",value:function(e){var t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}])}(),Ll=function(){return y(function e(t){p(this,e),this.ri=t,this.docs=new Is(wi.comparator),this.size=0},[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),a=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Gi.resolve(n?n.document.mutableCopy():jo.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=gc();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():jo.newInvalidDocument(e))}),Gi.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var a=gc(),i=t.path,s=new wi(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);o.hasNext();){var c=o.getNext(),u=c.key,l=c.value.document;if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||zi(Vi(l),n)<=0||(r.has(l.key)||dc(t,l))&&(a=a.insert(l.key,l.mutableCopy()))}return Gi.resolve(a)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Qa(9500)}},{key:"ii",value:function(e,t){return Gi.forEach(this.docs,function(e){return t(e)})}},{key:"newChangeBuffer",value:function(e){return new Ml(this)}},{key:"getSize",value:function(e){return Gi.resolve(this.size)}}])}(),Ml=function(e){function t(e){var n;return p(this,t),(n=w(this,t)).Nr=e,n}return j(t,e),y(t,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach(function(r,a){a.isValidDocument()?n.push(t.Nr.addEntry(e,a)):t.Nr.removeEntry(r)}),Gi.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Nr.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Nr.getEntries(e,t)}}])}(El),Fl=function(){return y(function e(t){p(this,e),this.persistence=t,this.si=new mc(function(e){return Xo(e)},Yo),this.lastRemoteSnapshotVersion=Oi.min(),this.highestTargetId=0,this.oi=0,this._i=new Pl,this.targetCount=0,this.ai=bl.ur()},[{key:"forEachTarget",value:function(e,t){return this.si.forEach(function(e,n){return t(n)}),Gi.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Gi.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Gi.resolve(this.oi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.ai.next(),Gi.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Gi.resolve()}},{key:"Pr",value:function(e){this.si.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ai=new bl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Pr(t),this.targetCount+=1,Gi.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Pr(t),Gi.resolve()}},{key:"removeTargetData",value:function(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Gi.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,a=0,i=[];return this.si.forEach(function(s,o){o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r.si.delete(s),i.push(r.removeMatchingKeysForTargetId(e,o.targetId)),a++)}),Gi.waitFor(i).next(function(){return a})}},{key:"getTargetCount",value:function(e){return Gi.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.si.get(t)||null;return Gi.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this._i.Wr(t,n),Gi.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this._i.zr(t,n);var r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(function(t){a.push(r.markPotentiallyOrphaned(e,t))}),Gi.waitFor(a)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this._i.jr(t),Gi.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this._i.Hr(t);return Gi.resolve(n)}},{key:"containsKey",value:function(e,t){return Gi.resolve(this._i.containsKey(t))}}])}(),Vl=function(){return y(function e(t,n){var r=this;p(this,e),this.ui={},this.overlays={},this.ci=new Xi(0),this.li=!1,this.li=!0,this.hi=new Dl,this.referenceDelegate=t(this),this.Pi=new Fl(this),this.indexManager=new pl,this.remoteDocumentCache=function(e){return new Ll(e)}(function(e){return r.referenceDelegate.Ti(e)}),this.serializer=new dl(n),this.Ii=new Il(this.serializer)},[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.li=!1,Promise.resolve()}},{key:"started",get:function(){return this.li}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Al,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.ui[e.toKey()];return n||(n=new Ol(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}},{key:"getGlobalsCache",value:function(){return this.hi}},{key:"getTargetCache",value:function(){return this.Pi}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ii}},{key:"runTransaction",value:function(e,t,n){var r=this;Ha("MemoryPersistence","Starting transaction:",e);var a=new Ul(this.ci.next());return this.referenceDelegate.Ei(),n(a).next(function(e){return r.referenceDelegate.di(a).next(function(){return e})}).toPromise().then(function(e){return a.raiseOnCommittedEvent(),e})}},{key:"Ai",value:function(e,t){return Gi.or(Object.values(this.ui).map(function(n){return function(){return n.containsKey(e,t)}}))}}])}(),Ul=function(e){function t(e){var n;return p(this,t),(n=w(this,t)).currentSequenceNumber=e,n}return j(t,e),y(t)}(qi),zl=function(){function e(t){p(this,e),this.persistence=t,this.Ri=new Pl,this.Vi=null}return y(e,[{key:"fi",get:function(){if(this.Vi)return this.Vi;throw Qa(60996)}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Gi.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Gi.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.fi.add(t.toString()),Gi.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.jr(t.targetId).forEach(function(e){return n.fi.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.fi.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})}},{key:"Ei",value:function(){this.Vi=new Set}},{key:"di",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gi.forEach(this.fi,function(r){var a=wi.fromPath(r);return t.gi(e,a).next(function(e){e||n.removeEntry(a,Oi.min())})}).next(function(){return t.Vi=null,n.apply(e)})}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.gi(e,t).next(function(e){e?n.fi.delete(t.toString()):n.fi.add(t.toString())})}},{key:"Ti",value:function(e){return 0}},{key:"gi",value:function(e,t){var n=this;return Gi.or([function(){return Gi.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"mi",value:function(t){return new e(t)}}])}(),Bl=function(){function e(t,n){p(this,e),this.persistence=t,this.pi=new mc(function(e){return ts(e.path)},function(e,t){return e.isEqual(t)}),this.garbageCollector=_l(this,n)}return y(e,[{key:"Ei",value:function(){}},{key:"di",value:function(e){return Gi.resolve()}},{key:"forEachTarget",value:function(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}},{key:"gr",value:function(e){var t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})}},{key:"wr",value:function(e){var t=0;return this.pr(e,function(e){t++}).next(function(){return t})}},{key:"pr",value:function(e,t){var n=this;return Gi.forEach(this.pi,function(r,a){return n.br(e,r,a).next(function(e){return e?Gi.resolve():t(a)})})}},{key:"removeTargets",value:function(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=0,a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(e,function(a){return n.br(e,a,t).next(function(e){e||(r++,i.removeEntry(a,Oi.min()))})}).next(function(){return i.apply(e)}).next(function(){return r})}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.pi.set(t,e.currentSequenceNumber),Gi.resolve()}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}},{key:"addReference",value:function(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Gi.resolve()}},{key:"removeReference",value:function(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Gi.resolve()}},{key:"updateLimboDocument",value:function(e,t){return this.pi.set(t,e.currentSequenceNumber),Gi.resolve()}},{key:"Ti",value:function(e){var t=e.key.toString().length;return e.isFoundDocument()&&(t+=fo(e.data.value)),t}},{key:"br",value:function(e,t,n){var r=this;return Gi.or([function(){return r.persistence.Ai(e,t)},function(){return r.persistence.getTargetCache().containsKey(e,t)},function(){var e=r.pi.get(t);return Gi.resolve(void 0!==e&&e>n)}])}},{key:"getCacheSize",value:function(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}],[{key:"mi",value:function(t,n){return new e(t,n)}}])}();var ql=function(){function e(t,n,r,a){p(this,e),this.targetId=t,this.fromCache=n,this.Es=r,this.ds=a}return y(e,null,[{key:"As",value:function(t,n){var r,a=_c(),i=_c(),s=E(n.docChanges);try{for(s.s();!(r=s.n()).done;){var o=r.value;switch(o.type){case 0:a=a.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}}}catch(c){s.e(c)}finally{s.f()}return new e(t,n.fromCache,a,i)}}])}(),Hl=function(){return y(function e(){p(this,e),this._documentReadCount=0},[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}])}(),Wl=function(){return y(function e(){p(this,e),this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=!Xn()&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?8:Ki(Qn())>0?6:4},[{key:"initialize",value:function(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var a=this,i={result:null};return this.ys(e,t).next(function(e){i.result=e}).next(function(){if(!i.result)return a.ws(e,t,r,n).next(function(e){i.result=e})}).next(function(){if(!i.result){var n=new Hl;return a.Ss(e,t,n).next(function(r){if(i.result=r,a.Vs)return a.bs(e,t,n,r.size)})}}).next(function(){return i.result})}},{key:"bs",value:function(e,t,n,r){return n.documentReadCount<this.fs?(qa()<=mr.DEBUG&&Ha("QueryEngine","SDK will not create cache indexes for query:",lc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Gi.resolve()):(qa()<=mr.DEBUG&&Ha("QueryEngine","Query:",lc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(qa()<=mr.DEBUG&&Ha("QueryEngine","The SDK decides to create cache indexes for query:",lc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ac(t))):Gi.resolve())}},{key:"ys",value:function(e,t){var n=this;if(tc(t))return Gi.resolve(null);var r=ac(t);return this.indexManager.getIndexType(e,r).next(function(a){return 0===a?null:(null!==t.limit&&1===a&&(t=oc(t,null,"F"),r=ac(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next(function(a){var i=_c.apply(void 0,h(a));return n.ps.getDocuments(e,i).next(function(a){return n.indexManager.getMinOffset(e,r).next(function(r){var s=n.Ds(t,a);return n.Cs(t,s,i,r.readTime)?n.ys(e,oc(t,null,"F")):n.vs(e,s,t,r)})})}))})}},{key:"ws",value:function(e,t,n,r){var a=this;return tc(t)||r.isEqual(Oi.min())?Gi.resolve(null):this.ps.getDocuments(e,n).next(function(i){var s=a.Ds(t,i);return a.Cs(t,s,n,r)?Gi.resolve(null):(qa()<=mr.DEBUG&&Ha("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lc(t)),a.vs(e,s,t,Fi(r,Li)).next(function(e){return e}))})}},{key:"Ds",value:function(e,t){var n=new Ps(hc(e));return t.forEach(function(t,r){dc(e,r)&&(n=n.add(r))}),n}},{key:"Cs",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}},{key:"Ss",value:function(e,t,n){return qa()<=mr.DEBUG&&Ha("QueryEngine","Using full collection scan to execute query:",lc(t)),this.ps.getDocumentsMatchingQuery(e,t,Ui.min(),n)}},{key:"vs",value:function(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(function(e){return t.forEach(function(t){e=e.insert(t.key,t)}),e})}}])}(),Gl="LocalStore",Kl=function(){return y(function e(t,n,r,a){p(this,e),this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new Is(di),this.xs=new mc(function(e){return Xo(e)},Yo),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)},[{key:"Bs",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tl(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.Ms)})}}])}();function Ql(e,t,n,r){return new Kl(e,t,n,r)}function Xl(e,t){return Yl.apply(this,arguments)}function Yl(){return Yl=_n(jn().m(function e(t,n){var r;return jn().w(function(e){for(;;)switch(e.n){case 0:return r=Ja(t),e.n=1,r.persistence.runTransaction("Handle user change","readonly",function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next(function(a){return t=a,r.Bs(n),r.mutationQueue.getAllMutationBatches(e)}).next(function(n){var a,i=[],s=[],o=_c(),c=E(t);try{for(c.s();!(a=c.n()).done;){var u=a.value;i.push(u.batchId);var l,d=E(u.mutations);try{for(d.s();!(l=d.n()).done;){var f=l.value;o=o.add(f.key)}}catch(b){d.e(b)}finally{d.f()}}}catch(b){c.e(b)}finally{c.f()}var h,p=E(n);try{for(p.s();!(h=p.n()).done;){var m=h.value;s.push(m.batchId);var v,g=E(m.mutations);try{for(g.s();!(v=g.n()).done;){var y=v.value;o=o.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,o).next(function(e){return{Ls:e,removedBatchIds:i,addedBatchIds:s}})})});case 1:return e.a(2,e.v)}},e)})),Yl.apply(this,arguments)}function Jl(e,t){var n=Ja(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var a=n.batch,i=a.keys(),s=Gi.resolve();return i.forEach(function(e){s=s.next(function(){return r.getEntry(t,e)}).next(function(t){var i=n.docVersions.get(e);Ya(null!==i,48541),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(function(){return e.mutationQueue.removeMutationBatch(t,a)})}(n,e,t,a).next(function(){return a.apply(e)}).next(function(){return n.mutationQueue.performConsistencyCheck(e)}).next(function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)}).next(function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=_c(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))}).next(function(){return n.localDocuments.getDocuments(e,r)})})}function $l(e){var t=Ja(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.Pi.getLastRemoteSnapshotVersion(e)})}function Zl(e,t){var n=Ja(e),r=t.snapshotVersion,a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var i=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;var s=[];t.targetChanges.forEach(function(i,o){var c=a.get(o);if(c){s.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,o).next(function(){return n.Pi.addMatchingKeys(e,i.addedDocuments,o)}));var u=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?u=u.withResumeToken(Ms.EMPTY_BYTE_STRING,Oi.min()).withLastLimboFreeSnapshotVersion(Oi.min()):i.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(i.resumeToken,r)),a=a.insert(o,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(c,u,i)&&s.push(n.Pi.updateTargetData(e,u))}});var o=gc(),c=_c();if(t.documentUpdates.forEach(function(r){t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(ed(e,i,t.documentUpdates).next(function(e){o=e.ks,c=e.qs})),!r.isEqual(Oi.min())){var u=n.Pi.getLastRemoteSnapshotVersion(e).next(function(t){return n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r)});s.push(u)}return Gi.waitFor(s).next(function(){return i.apply(e)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(e,o,c)}).next(function(){return o})}).then(function(e){return n.Ms=a,e})}function ed(e,t,n){var r=_c(),a=_c();return n.forEach(function(e){return r=r.add(e)}),t.getEntries(e,r).next(function(e){var r=gc();return n.forEach(function(n,i){var s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(a=a.add(n)),i.isNoDocument()&&i.version.isEqual(Oi.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Ha(Gl,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)}),{ks:r,qs:a}})}function td(e,t){var n=Ja(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=Yi),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)})}function nd(e,t){var n=Ja(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.Pi.getTargetData(e,t).next(function(a){return a?(r=a,Gi.resolve(r)):n.Pi.allocateTargetId(e).next(function(a){return r=new ll(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}function rd(e,t,n){return ad.apply(this,arguments)}function ad(){return ad=_n(jn().m(function e(t,n,r){var a,i,s,o;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a=Ja(t),i=a.Ms.get(n),s=r?"readwrite":"readwrite-primary",e.p=1,r){e.n=2;break}return e.n=2,a.persistence.runTransaction("Release target",s,function(e){return a.persistence.referenceDelegate.removeTarget(e,i)});case 2:e.n=5;break;case 3:if(e.p=3,Qi(o=e.v)){e.n=4;break}throw o;case 4:Ha(Gl,"Failed to update sequence numbers for target ".concat(n,": ").concat(o));case 5:a.Ms=a.Ms.remove(n),a.xs.delete(i.target);case 6:return e.a(2)}},e,null,[[1,3]])})),ad.apply(this,arguments)}function id(e,t,n){var r=Ja(e),a=Oi.min(),i=_c();return r.persistence.runTransaction("Execute query","readwrite",function(e){return function(e,t,n){var r=Ja(e),a=r.xs.get(n);return void 0!==a?Gi.resolve(r.Ms.get(a)):r.Pi.getTargetData(t,n)}(r,e,ac(t)).next(function(t){if(t)return a=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(function(e){i=e})}).next(function(){return r.Fs.getDocumentsMatchingQuery(e,t,n?a:Oi.min(),n?i:_c())}).next(function(e){return sd(r,fc(t),e),{documents:e,Qs:i}})})}function sd(e,t,n){var r=e.Os.get(t)||Oi.min();n.forEach(function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}var od=function(){return y(function e(){p(this,e),this.activeTargetIds=Cc()},[{key:"zs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"js",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Gs",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}])}(),cd=function(){return y(function e(){p(this,e),this.Mo=new od,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null},[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.xo[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Mo.js(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Mo.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.xo[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Mo.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Mo.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Mo=new od,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}])}(),ud=function(){return y(function e(){p(this,e)},[{key:"Oo",value:function(e){}},{key:"shutdown",value:function(){}}])}(),ld="ConnectivityMonitor",dd=function(){return y(function e(){var t=this;p(this,e),this.No=function(){return t.Bo()},this.Lo=function(){return t.ko()},this.qo=[],this.Qo()},[{key:"Oo",value:function(e){this.qo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}},{key:"Qo",value:function(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}},{key:"Bo",value:function(){Ha(ld,"Network connectivity changed: AVAILABLE");var e,t=E(this.qo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ko",value:function(){Ha(ld,"Network connectivity changed: UNAVAILABLE");var e,t=E(this.qo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}])}(),fd=null;function hd(){return null===fd?fd=268435456+Math.round(2147483648*Math.random()):fd++,"0x"+fd.toString(16)}var pd="RestConnection",md={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},vd=function(){return y(function e(t){p(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko="projects/".concat(r,"/databases/").concat(a),this.Wo=this.databaseId.database===Ys?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(a)},[{key:"$o",get:function(){return!1}},{key:"Go",value:function(e,t,n,r,a){var i=hd(),s=this.zo(e,t.toUriEncodedString());Ha(pd,"Sending RPC '".concat(e,"' ").concat(i,":"),s,n);var o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,a);var c=zn(new URL(s).host);return this.Jo(e,s,o,n,c).then(function(t){return Ha(pd,"Received RPC '".concat(e,"' ").concat(i,": "),t),t},function(t){throw Ga(pd,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",s,"request:",n),t})}},{key:"Ho",value:function(e,t,n,r,a,i){return this.Go(e,t,n,r,a)}},{key:"jo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+za,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(function(t,n){return e[n]=t}),n&&n.headers.forEach(function(t,n){return e[n]=t})}},{key:"zo",value:function(e,t){var n=md[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}},{key:"terminate",value:function(){}}])}(),gd=function(){return y(function e(t){p(this,e),this.Yo=t.Yo,this.Zo=t.Zo},[{key:"Xo",value:function(e){this.e_=e}},{key:"t_",value:function(e){this.n_=e}},{key:"r_",value:function(e){this.i_=e}},{key:"onMessage",value:function(e){this.s_=e}},{key:"close",value:function(){this.Zo()}},{key:"send",value:function(e){this.Yo(e)}},{key:"o_",value:function(){this.e_()}},{key:"__",value:function(){this.n_()}},{key:"a_",value:function(e){this.i_(e)}},{key:"u_",value:function(e){this.s_(e)}}])}(),yd="WebChannelConnection",bd=function(e){function t(e){var n;return p(this,t),(n=w(this,t,[e])).c_=[],n.forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n.longPollingOptions=e.longPollingOptions,n}return j(t,e),y(t,[{key:"Jo",value:function(e,t,n,r,a){var i=hd();return new Promise(function(a,s){var o=new Ca;o.setWithCredentials(!0),o.listenOnce(Ia.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Aa.NO_ERROR:var t=o.getResponseJson();Ha(yd,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Aa.TIMEOUT:Ha(yd,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Za($a.DEADLINE_EXCEEDED,"Request time out"));break;case Aa.HTTP_ERROR:var n=o.getStatus();if(Ha(yd,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){var r,c=o.getResponseJson();Array.isArray(c)&&(c=c[0]);var u=null===(r=c)||void 0===r?void 0:r.error;if(u&&u.status&&u.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values($a).indexOf(t)>=0?t:$a.UNKNOWN}(u.status);s(new Za(l,u.message))}else s(new Za($a.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Za($a.UNAVAILABLE,"Connection failed."));break;default:Qa(9055,{l_:e,streamId:i,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Ha(yd,"RPC '".concat(e,"' ").concat(i," completed."))}});var c=JSON.stringify(r);Ha(yd,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",c,n,15)})}},{key:"T_",value:function(e,t,n){var r=this,a=hd(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Oa(),o=Ra(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,t,n),c.encodeInitMessageHeaders=!0;var l=i.join("");Ha(yd,"Creating RPC '".concat(e,"' stream ").concat(a,": ").concat(l),c);var d=s.createWebChannel(l,c);this.I_(d);var f=!1,h=!1,p=new gd({Yo:function(t){h?Ha(yd,"Not sending because RPC '".concat(e,"' stream ").concat(a," is closed:"),t):(f||(Ha(yd,"Opening RPC '".concat(e,"' stream ").concat(a," transport.")),d.open(),f=!0),Ha(yd,"RPC '".concat(e,"' stream ").concat(a," sending:"),t),d.send(t))},Zo:function(){return d.close()}}),m=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return m(d,Ta.EventType.OPEN,function(){h||(Ha(yd,"RPC '".concat(e,"' stream ").concat(a," transport opened.")),p.o_())}),m(d,Ta.EventType.CLOSE,function(){h||(h=!0,Ha(yd,"RPC '".concat(e,"' stream ").concat(a," transport closed")),p.a_(),r.E_(d))}),m(d,Ta.EventType.ERROR,function(t){h||(h=!0,Ga(yd,"RPC '".concat(e,"' stream ").concat(a," transport errored. Name:"),t.name,"Message:",t.message),p.a_(new Za($a.UNAVAILABLE,"The operation could not be completed")))}),m(d,Ta.EventType.MESSAGE,function(t){if(!h){var n,r=t.data[0];Ya(!!r,16349);var i=r,s=(null===i||void 0===i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){Ha(yd,"RPC '".concat(e,"' stream ").concat(a," received error:"),s);var o=s.status,c=function(e){var t=iu[e];if(void 0!==t)return pu(t)}(o),u=s.message;void 0===c&&(c=$a.INTERNAL,u="Unknown error status: "+o+" with message "+s.message),h=!0,p.a_(new Za(c,u)),d.close()}else Ha(yd,"RPC '".concat(e,"' stream ").concat(a," received:"),r),p.u_(r)}}),m(o,Pa.STAT_EVENT,function(t){t.stat===Da.PROXY?Ha(yd,"RPC '".concat(e,"' stream ").concat(a," detected buffering proxy")):t.stat===Da.NOPROXY&&Ha(yd,"RPC '".concat(e,"' stream ").concat(a," detected no buffering proxy"))}),setTimeout(function(){p.__()},0),p}},{key:"terminate",value:function(){this.c_.forEach(function(e){return e.close()}),this.c_=[]}},{key:"I_",value:function(e){this.c_.push(e)}},{key:"E_",value:function(e){this.c_=this.c_.filter(function(t){return t===e})}}])}(vd);function kd(){return"undefined"!=typeof document?document:null}function xd(e){return new Ru(e,!0)}var wd=function(){return y(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;p(this,e),this.Mi=t,this.timerId=n,this.d_=r,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()},[{key:"reset",value:function(){this.V_=0}},{key:"g_",value:function(){this.V_=this.R_}},{key:"p_",value:function(e){var t=this;this.cancel();var n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Ha("ExponentialBackoff","Backing off for ".concat(a," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,function(){return t.f_=Date.now(),e()}),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}},{key:"w_",value:function(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}},{key:"cancel",value:function(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}},{key:"y_",value:function(){return(Math.random()-.5)*this.V_}}])}(),Nd="PersistentStream",jd=function(){return y(function e(t,n,r,a,i,s,o,c){p(this,e),this.Mi=t,this.S_=r,this.b_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wd(t,n)},[{key:"x_",value:function(){return 1===this.state||5===this.state||this.O_()}},{key:"O_",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){this.F_=0,4!==this.state?this.auth():this.N_()}},{key:"stop",value:function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:if(!this.x_()){e.n=1;break}return e.n=1,this.close(0);case 1:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"B_",value:function(){this.state=0,this.M_.reset()}},{key:"L_",value:function(){var e=this;this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,function(){return e.k_()}))}},{key:"q_",value:function(e){this.Q_(),this.stream.send(e)}},{key:"k_",value:function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:if(!this.O_()){e.n=1;break}return e.a(2,this.close(0));case 1:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Q_",value:function(){this.C_&&(this.C_.cancel(),this.C_=null)}},{key:"U_",value:function(){this.v_&&(this.v_.cancel(),this.v_=null)}},{key:"close",value:function(){var e=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)switch(e.n){case 0:return this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==t?this.M_.reset():n&&n.code===$a.RESOURCE_EXHAUSTED?(Wa(n.toString()),Wa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$a.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,e.n=1,this.listener.r_(n);case 1:return e.a(2)}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"K_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(function(t){var r=c(t,2),a=r[0],i=r[1];e.D_===n&&e.G_(a,i)},function(n){t(function(){var t=new Za($a.UNKNOWN,"Fetching auth token failed: "+n.message);return e.z_(t)})})}},{key:"G_",value:function(e,t){var n=this,r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(function(){r(function(){return n.listener.Xo()})}),this.stream.t_(function(){r(function(){return n.state=2,n.v_=n.Mi.enqueueAfterDelay(n.b_,1e4,function(){return n.O_()&&(n.state=3),Promise.resolve()}),n.listener.t_()})}),this.stream.r_(function(e){r(function(){return n.z_(e)})}),this.stream.onMessage(function(e){r(function(){return 1==++n.F_?n.J_(e):n.onNext(e)})})}},{key:"N_",value:function(){var e=this;this.state=5,this.M_.p_(_n(jn().m(function t(){return jn().w(function(t){for(;;)switch(t.n){case 0:e.state=0,e.start();case 1:return t.a(2)}},t)})))}},{key:"z_",value:function(e){return Ha(Nd,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"W_",value:function(e){var t=this;return function(n){t.Mi.enqueueAndForget(function(){return t.D_===e?n():(Ha(Nd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}])}(),Sd=function(e){function t(e,n,r,a,i,s){var o;return p(this,t),(o=w(this,t,[e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,s])).serializer=i,o}return j(t,e),y(t,[{key:"j_",value:function(e,t){return this.connection.T_("Listen",e,t)}},{key:"J_",value:function(e){return this.onNext(e)}},{key:"onNext",value:function(e){this.M_.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Qa(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Ya(void 0===t||"string"==typeof t,58123),Ms.fromBase64String(t||"")):(Ya(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Ms.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){var t=void 0===e.code?$a.UNKNOWN:pu(e.code);return new Za(t,e.message||"")}(s);n=new _u(r,a,i,o||null)}else if("documentChange"in t){t.documentChange;var c=t.documentChange;c.document,c.document.name,c.document.updateTime;var u=Hu(e,c.document.name),l=Vu(c.document.updateTime),d=c.document.createTime?Vu(c.document.createTime):Oi.min(),f=new wo({mapValue:{fields:c.document.fields}}),h=jo.newFoundDocument(u,l,d,f),p=c.targetIds||[],m=c.removedTargetIds||[];n=new ju(p,m,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var g=Hu(e,v.document),y=v.readTime?Vu(v.readTime):Oi.min(),b=jo.newNoDocument(g,y),k=v.removedTargetIds||[];n=new ju([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var x=t.documentRemove;x.document;var w=Hu(e,x.document),N=x.removedTargetIds||[];n=new ju([],N,w,null)}else{if(!("filter"in t))return Qa(11601,{Rt:t});t.filter;var j=t.filter;j.targetId;var S=j.count,_=void 0===S?0:S,E=j.unchangedNames,C=new fu(_,E),T=j.targetId;n=new Su(T,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Oi.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Oi.min():t.readTime?Vu(t.readTime):Oi.min()}(e);return this.listener.H_(t,n)}},{key:"Y_",value:function(e){var t={};t.database=Ku(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Jo(r)?{documents:$u(e,r)}:{query:Zu(e,r).ft}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Mu(e,t.resumeToken);var a=Ou(e,t.expectedCount);null!==a&&(n.expectedCount=a)}else if(t.snapshotVersion.compareTo(Oi.min())>0){n.readTime=Lu(e,t.snapshotVersion.toTimestamp());var i=Ou(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qa(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}},{key:"Z_",value:function(e){var t={};t.database=Ku(this.serializer),t.removeTarget=e,this.q_(t)}}])}(jd),_d=function(e){function t(e,n,r,a,i,s){var o;return p(this,t),(o=w(this,t,[e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,s])).serializer=i,o}return j(t,e),y(t,[{key:"X_",get:function(){return this.F_>0}},{key:"start",value:function(){this.lastStreamToken=void 0,Cn(t,"start",this,3)([])}},{key:"K_",value:function(){this.X_&&this.ea([])}},{key:"j_",value:function(e,t){return this.connection.T_("Write",e,t)}},{key:"J_",value:function(e){return Ya(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ya(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}},{key:"onNext",value:function(e){Ya(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();var t=function(e,t){return e&&e.length>0?(Ya(void 0!==t,14353),e.map(function(e){return function(e,t){var n=e.updateTime?Vu(e.updateTime):Vu(t);return n.isEqual(Oi.min())&&(n=Vu(t)),new Wc(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=Vu(e.commitTime);return this.listener.na(n,t)}},{key:"ra",value:function(){var e={};e.database=Ku(this.serializer),this.q_(e)}},{key:"ea",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return Ju(t.serializer,e)})};this.q_(n)}}])}(jd),Ed=function(e){function t(e,n,r,a){var i;return p(this,t),(i=w(this,t)).authCredentials=e,i.appCheckCredentials=n,i.connection=r,i.serializer=a,i.ia=!1,i}return j(t,e),y(t,[{key:"sa",value:function(){if(this.ia)throw new Za($a.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Go",value:function(e,t,n,r){var a=this;return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(i){var s=c(i,2),o=s[0],u=s[1];return a.connection.Go(e,zu(t,n),r,o,u)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===$a.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new Za($a.UNKNOWN,e.toString())})}},{key:"Ho",value:function(e,t,n,r,a){var i=this;return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(s){var o=c(s,2),u=o[0],l=o[1];return i.connection.Ho(e,zu(t,n),r,u,l,a)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===$a.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Za($a.UNKNOWN,e.toString())})}},{key:"terminate",value:function(){this.ia=!0,this.connection.terminate()}}])}(y(function e(){p(this,e)})),Cd=function(){return y(function e(t,n){p(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0},[{key:"ua",value:function(){var e=this;0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e._a=null,e.la("Backend didn't respond within 10 seconds."),e.ca("Offline"),Promise.resolve()}))}},{key:"ha",value:function(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}},{key:"set",value:function(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}},{key:"ca",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"la",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Wa(t),this.aa=!1):Ha("OnlineStateTracker",t)}},{key:"Pa",value:function(){null!==this._a&&(this._a.cancel(),this._a=null)}}])}(),Td="RemoteStore",Id=y(function e(t,n,r,a,i){var s=this;p(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(function(e){r.enqueueAndForget(_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:if(!zd(s)){e.n=1;break}return Ha(Td,"Restarting streams for network reachability change."),e.n=1,function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:return(n=Ja(t)).Ea.add(4),e.n=1,Pd(n);case 1:return n.Ra.set("Unknown"),n.Ea.delete(4),e.n=2,Ad(n);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()(s);case 1:return e.a(2)}},e)})))}),this.Ra=new Cd(r,a)});function Ad(e){return Dd.apply(this,arguments)}function Dd(){return Dd=_n(jn().m(function e(t){var n,r,a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!zd(t)){e.n=7;break}n=E(t.da),e.p=1,n.s();case 2:if((r=n.n()).done){e.n=4;break}return a=r.value,e.n=3,a(!0);case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,i=e.v,n.e(i);case 6:return e.p=6,n.f(),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])})),Dd.apply(this,arguments)}function Pd(e){return Rd.apply(this,arguments)}function Rd(){return Rd=_n(jn().m(function e(t){var n,r,a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:n=E(t.da),e.p=1,n.s();case 2:if((r=n.n()).done){e.n=4;break}return a=r.value,e.n=3,a(!1);case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,i=e.v,n.e(i);case 6:return e.p=6,n.f(),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])})),Rd.apply(this,arguments)}function Od(e,t){var n=Ja(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Ud(n)?Vd(n):bf(n).O_()&&Md(n,t))}function Ld(e,t){var n=Ja(e),r=bf(n);n.Ia.delete(t),r.O_()&&Fd(n,t),0===n.Ia.size&&(r.O_()?r.L_():zd(n)&&n.Ra.set("Unknown"))}function Md(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Oi.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}bf(e).Y_(t)}function Fd(e,t){e.Va.Ue(t),bf(e).Z_(t)}function Vd(e){e.Va=new Cu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},At:function(t){return e.Ia.get(t)||null},ht:function(){return e.datastore.serializer.databaseId}}),bf(e).start(),e.Ra.ua()}function Ud(e){return zd(e)&&!bf(e).x_()&&e.Ia.size>0}function zd(e){return 0===Ja(e).Ea.size}function Bd(e){e.Va=void 0}function qd(e){return Hd.apply(this,arguments)}function Hd(){return Hd=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.n){case 0:t.Ra.set("Online");case 1:return e.a(2)}},e)})),Hd.apply(this,arguments)}function Wd(e){return Gd.apply(this,arguments)}function Gd(){return Gd=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.n){case 0:t.Ia.forEach(function(e,n){Md(t,e)});case 1:return e.a(2)}},e)})),Gd.apply(this,arguments)}function Kd(e,t){return Qd.apply(this,arguments)}function Qd(){return Qd=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)switch(e.n){case 0:Bd(t),Ud(t)?(t.Ra.ha(n),Vd(t)):t.Ra.set("Unknown");case 1:return e.a(2)}},e)})),Qd.apply(this,arguments)}function Xd(e,t,n){return Yd.apply(this,arguments)}function Yd(){return Yd=_n(jn().m(function e(t,n,r){var a,i,s;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.Ra.set("Online"),!(n instanceof _u&&2===n.state&&n.cause)){e.n=5;break}return e.p=1,e.n=2,function(){var e=_n(jn().m(function e(t,n){var r,a,i,s,o;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:r=n.cause,a=E(n.targetIds),e.p=1,a.s();case 2:if((i=a.n()).done){e.n=5;break}if(s=i.value,!t.Ia.has(s)){e.n=4;break}return e.n=3,t.remoteSyncer.rejectListen(s,r);case 3:t.Ia.delete(s),t.Va.removeTarget(s);case 4:e.n=2;break;case 5:e.n=7;break;case 6:e.p=6,o=e.v,a.e(o);case 7:return e.p=7,a.f(),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 2:e.n=4;break;case 3:return e.p=3,i=e.v,Ha(Td,"Failed to remove targets %s: %s ",n.targetIds.join(","),i),e.n=4,Jd(t,i);case 4:case 8:e.n=10;break;case 5:if(n instanceof ju?t.Va.Ze(n):n instanceof Su?t.Va.st(n):t.Va.tt(n),r.isEqual(Oi.min())){e.n=10;break}return e.p=6,e.n=7,$l(t.localStore);case 7:if(a=e.v,!(r.compareTo(a)>=0)){e.n=8;break}return e.n=8,function(e,t){var n=e.Va.Tt(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var a=e.Ia.get(r);a&&e.Ia.set(r,a.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t,n){var r=e.Ia.get(t);if(r){e.Ia.set(t,r.withResumeToken(Ms.EMPTY_BYTE_STRING,r.snapshotVersion)),Fd(e,t);var a=new ll(r.target,t,n,r.sequenceNumber);Md(e,a)}}),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 9:return e.p=9,s=e.v,Ha(Td,"Failed to raise snapshot:",s),e.n=10,Jd(t,s);case 10:return e.a(2)}},e,null,[[6,9],[1,3]])})),Yd.apply(this,arguments)}function Jd(e,t,n){return $d.apply(this,arguments)}function $d(){return $d=_n(jn().m(function e(t,n,r){return jn().w(function(e){for(;;)switch(e.n){case 0:if(Qi(n)){e.n=1;break}throw n;case 1:return t.Ea.add(1),e.n=2,Pd(t);case 2:t.Ra.set("Offline"),r||(r=function(){return $l(t.localStore)}),t.asyncQueue.enqueueRetryable(_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:return Ha(Td,"Retrying IndexedDB access"),e.n=1,r();case 1:return t.Ea.delete(1),e.n=2,Ad(t);case 2:return e.a(2)}},e)})));case 3:return e.a(2)}},e)})),$d.apply(this,arguments)}function Zd(e,t){return t().catch(function(n){return Jd(e,n,t)})}function ef(e){return tf.apply(this,arguments)}function tf(){return tf=_n(jn().m(function e(t){var n,r,a,i,s;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:n=Ja(t),r=kf(n),a=n.Ta.length>0?n.Ta[n.Ta.length-1].batchId:Yi;case 1:if(!nf(n)){e.n=7;break}return e.p=2,e.n=3,td(n.localStore,a);case 3:if(null!==(i=e.v)){e.n=4;break}return 0===n.Ta.length&&r.L_(),e.a(3,7);case 4:a=i.batchId,rf(n,i),e.n=6;break;case 5:return e.p=5,s=e.v,e.n=6,Jd(n,s);case 6:e.n=1;break;case 7:af(n)&&sf(n);case 8:return e.a(2)}},e,null,[[2,5]])})),tf.apply(this,arguments)}function nf(e){return zd(e)&&e.Ta.length<10}function rf(e,t){e.Ta.push(t);var n=kf(e);n.O_()&&n.X_&&n.ea(t.mutations)}function af(e){return zd(e)&&!kf(e).x_()&&e.Ta.length>0}function sf(e){kf(e).start()}function of(e){return cf.apply(this,arguments)}function cf(){return cf=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.n){case 0:kf(t).ra();case 1:return e.a(2)}},e)})),cf.apply(this,arguments)}function uf(e){return lf.apply(this,arguments)}function lf(){return lf=_n(jn().m(function e(t){var n,r,a,i;return jn().w(function(e){for(;;)switch(e.n){case 0:n=kf(t),r=E(t.Ta);try{for(r.s();!(a=r.n()).done;)i=a.value,n.ea(i.mutations)}catch(s){r.e(s)}finally{r.f()}case 1:return e.a(2)}},e)})),lf.apply(this,arguments)}function df(e,t,n){return ff.apply(this,arguments)}function ff(){return ff=_n(jn().m(function e(t,n,r){var a,i;return jn().w(function(e){for(;;)switch(e.n){case 0:return a=t.Ta.shift(),i=lu.from(a,n,r),e.n=1,Zd(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)});case 1:return e.n=2,ef(t);case 2:return e.a(2)}},e)})),ff.apply(this,arguments)}function hf(e,t){return pf.apply(this,arguments)}function pf(){return pf=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)switch(e.n){case 0:if(!(n&&kf(t).X_)){e.n=1;break}return e.n=1,function(){var e=_n(jn().m(function e(t,n){var r;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!function(e){return hu(e)&&e!==$a.ABORTED}(n.code)){e.n=2;break}return r=t.Ta.shift(),kf(t).B_(),e.n=1,Zd(t,function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)});case 1:return e.n=2,ef(t);case 2:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 1:af(t)&&sf(t);case 2:return e.a(2)}},e)})),pf.apply(this,arguments)}function mf(e,t){return vf.apply(this,arguments)}function vf(){return vf=_n(jn().m(function e(t,n){var r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:return(r=Ja(t)).asyncQueue.verifyOperationInProgress(),Ha(Td,"RemoteStore received new credentials"),a=zd(r),r.Ea.add(3),e.n=1,Pd(r);case 1:return a&&r.Ra.set("Unknown"),e.n=2,r.remoteSyncer.handleCredentialChange(n);case 2:return r.Ea.delete(3),e.n=3,Ad(r);case 3:return e.a(2)}},e)})),vf.apply(this,arguments)}function gf(e,t){return yf.apply(this,arguments)}function yf(){return yf=_n(jn().m(function e(t,n){var r;return jn().w(function(e){for(;;)switch(e.n){case 0:if(r=Ja(t),!n){e.n=2;break}return r.Ea.delete(2),e.n=1,Ad(r);case 1:e.n=4;break;case 2:if(n){e.n=4;break}return r.Ea.add(2),e.n=3,Pd(r);case 3:r.Ra.set("Unknown");case 4:return e.a(2)}},e)})),yf.apply(this,arguments)}function bf(e){return e.ma||(e.ma=function(e,t,n){var r=Ja(e);return r.sa(),new Sd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:qd.bind(null,e),t_:Wd.bind(null,e),r_:Kd.bind(null,e),H_:Xd.bind(null,e)}),e.da.push(function(){var t=_n(jn().m(function t(n){return jn().w(function(t){for(;;)switch(t.n){case 0:if(!n){t.n=1;break}e.ma.B_(),Ud(e)?Vd(e):e.Ra.set("Unknown"),t.n=3;break;case 1:return t.n=2,e.ma.stop();case 2:Bd(e);case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())),e.ma}function kf(e){return e.fa||(e.fa=function(e,t,n){var r=Ja(e);return r.sa(),new _d(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:function(){return Promise.resolve()},t_:of.bind(null,e),r_:hf.bind(null,e),ta:uf.bind(null,e),na:df.bind(null,e)}),e.da.push(function(){var t=_n(jn().m(function t(n){return jn().w(function(t){for(;;)switch(t.n){case 0:if(!n){t.n=2;break}return e.fa.B_(),t.n=1,ef(e);case 1:t.n=4;break;case 2:return t.n=3,e.fa.stop();case 3:e.Ta.length>0&&(Ha(Td,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]);case 4:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())),e.fa}var xf=function(){function e(t,n,r,a,i){p(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=i,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return y(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Za($a.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)})}],[{key:"createAndSchedule",value:function(t,n,r,a,i){var s=new e(t,n,Date.now()+r,a,i);return s.start(r),s}}])}();function wf(e,t){if(Wa("AsyncQueue","".concat(t,": ").concat(e)),Qi(e))return new Za($a.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Nf,jf,Sf=function(){function e(t){p(this,e),this.comparator=t?function(e,n){return t(e,n)||wi.comparator(e.key,n.key)}:function(e,t){return wi.comparator(e.key,t.key)},this.keyedMap=bc(),this.sortedSet=new Is(this.comparator)}return y(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var a=n.getNext().key,i=r.getNext().key;if(!a.isEqual(i))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}])}(),_f=function(){return y(function e(){p(this,e),this.ga=new Is(wi.comparator)},[{key:"track",value:function(e){var t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Qa(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}},{key:"ya",value:function(){var e=[];return this.ga.inorderTraversal(function(t,n){e.push(n)}),e}}])}(),Ef=function(){function e(t,n,r,a,i,s,o,c,u){p(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}return y(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,a,i){var s=[];return n.forEach(function(e){s.push({type:0,doc:e})}),new e(t,n,Sf.emptySet(n),s,r,a,!0,!1,i)}}])}(),Cf=function(){return y(function e(){p(this,e),this.wa=void 0,this.Sa=[]},[{key:"ba",value:function(){return this.Sa.some(function(e){return e.Da()})}}])}(),Tf=function(){return y(function e(){p(this,e),this.queries=If(),this.onlineState="Unknown",this.Ca=new Set},[{key:"terminate",value:function(){!function(e,t){var n=Ja(e),r=n.queries;n.queries=If(),r.forEach(function(e,n){var r,a=E(n.Sa);try{for(a.s();!(r=a.n()).done;){r.value.onError(t)}}catch(i){a.e(i)}finally{a.f()}})}(this,new Za($a.ABORTED,"Firestore shutting down"))}}])}();function If(){return new mc(function(e){return uc(e)},cc)}function Af(e,t){return Df.apply(this,arguments)}function Df(){return Df=_n(jn().m(function e(t,n){var r,a,i,s,o,c,u;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:r=Ja(t),a=3,i=n.query,(s=r.queries.get(i))?!s.ba()&&n.Da()&&(a=2):(s=new Cf,a=n.Da()?0:1),e.p=1,c=a,e.n=0===c?2:1===c?4:2===c?6:7;break;case 2:return e.n=3,r.onListen(i,!0);case 3:return s.wa=e.v,e.a(3,7);case 4:return e.n=5,r.onListen(i,!1);case 5:return s.wa=e.v,e.a(3,7);case 6:return e.n=7,r.onFirstRemoteStoreListen(i);case 7:e.n=9;break;case 8:return e.p=8,u=e.v,o=wf(u,"Initialization of query '".concat(lc(n.query),"' failed")),e.a(2,void n.onError(o));case 9:r.queries.set(i,s),s.Sa.push(n),n.va(r.onlineState),s.wa&&n.Fa(s.wa)&&Mf(r);case 10:return e.a(2)}},e,null,[[1,8]])})),Df.apply(this,arguments)}function Pf(e,t){return Rf.apply(this,arguments)}function Rf(){return Rf=_n(jn().m(function e(t,n){var r,a,i,s,o,c;return jn().w(function(e){for(;;)switch(e.n){case 0:r=Ja(t),a=n.query,i=3,(s=r.queries.get(a))&&(o=s.Sa.indexOf(n))>=0&&(s.Sa.splice(o,1),0===s.Sa.length?i=n.Da()?0:1:!s.ba()&&n.Da()&&(i=2)),c=i,e.n=0===c?1:1===c?2:2===c?3:4;break;case 1:return e.a(2,(r.queries.delete(a),r.onUnlisten(a,!0)));case 2:return e.a(2,(r.queries.delete(a),r.onUnlisten(a,!1)));case 3:return e.a(2,r.onLastRemoteStoreUnlisten(a));case 4:case 5:return e.a(2)}},e)})),Rf.apply(this,arguments)}function Of(e,t){var n,r=Ja(e),a=!1,i=E(t);try{for(i.s();!(n=i.n()).done;){var s=n.value,o=s.query,c=r.queries.get(o);if(c){var u,l=E(c.Sa);try{for(l.s();!(u=l.n()).done;){u.value.Fa(s)&&(a=!0)}}catch(d){l.e(d)}finally{l.f()}c.wa=s}}}catch(d){i.e(d)}finally{i.f()}a&&Mf(r)}function Lf(e,t,n){var r=Ja(e),a=r.queries.get(t);if(a){var i,s=E(a.Sa);try{for(s.s();!(i=s.n()).done;){i.value.onError(n)}}catch(o){s.e(o)}finally{s.f()}}r.queries.delete(t)}function Mf(e){e.Ca.forEach(function(e){e.next()})}(jf=Nf||(Nf={})).Ma="default",jf.Cache="cache";var Ff=function(){return y(function e(t,n,r){p(this,e),this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}},[{key:"Fa",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=E(e.docChanges);try{for(r.s();!(t=r.n()).done;){var a=t.value;3!==a.type&&n.push(a)}}catch(s){r.e(s)}finally{r.f()}e=new Ef(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}},{key:"onError",value:function(e){this.xa.error(e)}},{key:"va",value:function(e){this.onlineState=e;var t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}},{key:"La",value:function(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;var n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Ba",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ka",value:function(e){e=Ef.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}},{key:"Da",value:function(){return this.options.source!==Nf.Cache}}])}();var Vf=y(function e(t){p(this,e),this.key=t}),Uf=y(function e(t){p(this,e),this.key=t}),zf=function(){return y(function e(t,n){p(this,e),this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_c(),this.mutatedKeys=_c(),this.eu=hc(t),this.tu=new Sf(this.eu)},[{key:"nu",get:function(){return this.Ya}},{key:"ru",value:function(e,t){var n=this,r=t?t.iu:new _f,a=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,s=a,o=!1,c="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,u="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(function(e,t){var l=a.get(e),d=dc(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),h=!!d&&(d.hasLocalMutations||n.mutatedKeys.has(d.key)&&d.hasCommittedMutations),p=!1;l&&d?l.data.isEqual(d.data)?f!==h&&(r.track({type:3,doc:d}),p=!0):n.su(l,d)||(r.track({type:2,doc:d}),p=!0,(c&&n.eu(d,c)>0||u&&n.eu(d,u)<0)&&(o=!0)):!l&&d?(r.track({type:0,doc:d}),p=!0):l&&!d&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(o=!0)),p&&(d?(s=s.add(d),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){var l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),i=i.delete(l.key),r.track({type:1,doc:l})}return{tu:s,iu:r,Cs:o,mutatedKeys:i}}},{key:"su",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n,r){var a=this,i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;var s=e.iu.ya();s.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qa(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||a.eu(e.doc,t.doc)}),this.ou(n),r=null!==r&&void 0!==r&&r;var o=t&&!r?this._u():[],c=0===this.Xa.size&&this.current&&!r?1:0,u=c!==this.Za;return this.Za=c,0!==s.length||u?{snapshot:new Ef(this.query,e.tu,i,s,e.mutatedKeys,0===c,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}},{key:"va",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _f,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}},{key:"uu",value:function(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}},{key:"ou",value:function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.Ya=t.Ya.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.Ya=t.Ya.delete(e)}),this.current=e.current)}},{key:"_u",value:function(){var e=this;if(!this.current)return[];var t=this.Xa;this.Xa=_c(),this.tu.forEach(function(t){e.uu(t.key)&&(e.Xa=e.Xa.add(t.key))});var n=[];return t.forEach(function(t){e.Xa.has(t)||n.push(new Uf(t))}),this.Xa.forEach(function(e){t.has(e)||n.push(new Vf(e))}),n}},{key:"cu",value:function(e){this.Ya=e.Qs,this.Xa=_c();var t=this.ru(e.documents);return this.applyChanges(t,!0)}},{key:"lu",value:function(){return Ef.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}])}(),Bf="SyncEngine",qf=y(function e(t,n,r){p(this,e),this.query=t,this.targetId=n,this.view=r}),Hf=y(function e(t){p(this,e),this.key=t,this.hu=!1}),Wf=function(){return y(function e(t,n,r,a,i,s){p(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new mc(function(e){return uc(e)},cc),this.Iu=new Map,this.Eu=new Set,this.du=new Is(wi.comparator),this.Au=new Map,this.Ru=new Pl,this.Vu={},this.mu=new Map,this.fu=bl.cr(),this.onlineState="Unknown",this.gu=void 0},[{key:"isPrimaryClient",get:function(){return!0===this.gu}}])}();function Gf(e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=_n(jn().m(function e(t,n){var r,a,i,s,o=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:if(r=!(o.length>2&&void 0!==o[2])||o[2],a=Eh(t),!(s=a.Tu.get(n))){e.n=1;break}a.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu(),e.n=3;break;case 1:return e.n=2,Yf(a,n,r,!0);case 2:i=e.v;case 3:return e.a(2,i)}},e)})),Kf.apply(this,arguments)}function Qf(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=_n(jn().m(function e(t,n){var r;return jn().w(function(e){for(;;)switch(e.n){case 0:return r=Eh(t),e.n=1,Yf(r,n,!0,!1);case 1:return e.a(2)}},e)})),Xf.apply(this,arguments)}function Yf(e,t,n,r){return Jf.apply(this,arguments)}function Jf(){return Jf=_n(jn().m(function e(t,n,r,a){var i,s,o,c;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,nd(t.localStore,ac(n));case 1:if(i=e.v,s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r),!a){e.n=3;break}return e.n=2,$f(t,n,s,"current"===o,i.resumeToken);case 2:c=e.v;case 3:return t.isPrimaryClient&&r&&Od(t.remoteStore,i),e.a(2,c)}},e)})),Jf.apply(this,arguments)}function $f(e,t,n,r,a){return Zf.apply(this,arguments)}function Zf(){return Zf=_n(jn().m(function e(t,n,r,a,i){var s,o,c,u,l,d;return jn().w(function(e){for(;;)switch(e.n){case 0:return t.pu=function(e,n,r){return function(){var e=_n(jn().m(function e(t,n,r,a){var i,s,o,c;return jn().w(function(e){for(;;)switch(e.n){case 0:if(i=n.view.ru(r),!i.Cs){e.n=2;break}return e.n=1,id(t.localStore,n.query,!1).then(function(e){var t=e.documents;return n.view.ru(t,i)});case 1:i=e.v;case 2:return s=a&&a.targetChanges.get(n.targetId),o=a&&null!=a.targetMismatches.get(n.targetId),c=n.view.applyChanges(i,t.isPrimaryClient,s,o),e.a(2,(bh(t,n.targetId,c.au),c.snapshot))}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}()(t,e,n,r)},e.n=1,id(t.localStore,n,!0);case 1:return s=e.v,o=new zf(n,s.Qs),c=o.ru(s.documents),u=Nu.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==t.onlineState,i),l=o.applyChanges(c,t.isPrimaryClient,u),bh(t,r,l.au),d=new qf(n,r,o),e.a(2,(t.Tu.set(n,d),t.Iu.has(r)?t.Iu.get(r).push(n):t.Iu.set(r,[n]),l.snapshot))}},e)})),Zf.apply(this,arguments)}function eh(e,t,n){return th.apply(this,arguments)}function th(){return th=_n(jn().m(function e(t,n,r){var a,i,s;return jn().w(function(e){for(;;)switch(e.n){case 0:if(a=Ja(t),i=a.Tu.get(n),!((s=a.Iu.get(i.targetId)).length>1)){e.n=1;break}return e.a(2,(a.Iu.set(i.targetId,s.filter(function(e){return!cc(e,n)})),void a.Tu.delete(n)));case 1:if(!a.isPrimaryClient){e.n=3;break}if(a.sharedClientState.removeLocalQueryTarget(i.targetId),a.sharedClientState.isActiveQueryTarget(i.targetId)){e.n=2;break}return e.n=2,rd(a.localStore,i.targetId,!1).then(function(){a.sharedClientState.clearQueryState(i.targetId),r&&Ld(a.remoteStore,i.targetId),gh(a,i.targetId)}).catch(Hi);case 2:e.n=4;break;case 3:return gh(a,i.targetId),e.n=4,rd(a.localStore,i.targetId,!0);case 4:return e.a(2)}},e)})),th.apply(this,arguments)}function nh(e,t){return rh.apply(this,arguments)}function rh(){return rh=_n(jn().m(function e(t,n){var r,a,i;return jn().w(function(e){for(;;)switch(e.n){case 0:r=Ja(t),a=r.Tu.get(n),i=r.Iu.get(a.targetId),r.isPrimaryClient&&1===i.length&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Ld(r.remoteStore,a.targetId));case 1:return e.a(2)}},e)})),rh.apply(this,arguments)}function ah(e,t,n){return ih.apply(this,arguments)}function ih(){return ih=_n(jn().m(function e(t,n,r){var a,i,s,o;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return a=Ch(t),e.p=1,e.n=2,function(e,t){var n,r,a=Ja(e),i=Ri.now(),s=t.reduce(function(e,t){return e.add(t.key)},_c());return a.persistence.runTransaction("Locally write mutations","readwrite",function(e){var o=gc(),c=_c();return a.Ns.getEntries(e,s).next(function(e){(o=e).forEach(function(e,t){t.isValidDocument()||(c=c.add(e))})}).next(function(){return a.localDocuments.getOverlayedDocuments(e,o)}).next(function(r){n=r;var s,o=[],c=E(t);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=$c(u,n.get(u.key).overlayedDocument);null!=l&&o.push(new tu(u.key,l,No(l.value.mapValue),Gc.exists(!0)))}}catch(d){c.e(d)}finally{c.f()}return a.mutationQueue.addMutationBatch(e,i,o,t)}).next(function(t){r=t;var i=t.applyToLocalDocumentSet(n,c);return a.documentOverlayCache.saveOverlays(e,t.batchId,i)})}).then(function(){return{batchId:r.batchId,changes:kc(n)}})}(a.localStore,n);case 2:return i=e.v,a.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.Vu[e.currentUser.toKey()];r||(r=new Is(di)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(a,i.batchId,r),e.n=3,wh(a,i.changes);case 3:return e.n=4,ef(a.remoteStore);case 4:e.n=6;break;case 5:e.p=5,o=e.v,s=wf(o,"Failed to persist write"),r.reject(s);case 6:return e.a(2)}},e,null,[[1,5]])})),ih.apply(this,arguments)}function sh(e,t){return oh.apply(this,arguments)}function oh(){return oh=_n(jn().m(function e(t,n){var r,a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=Ja(t),e.p=1,e.n=2,Zl(r.localStore,n);case 2:return a=e.v,n.targetChanges.forEach(function(e,t){var n=r.Au.get(t);n&&(Ya(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?n.hu=!0:e.modifiedDocuments.size>0?Ya(n.hu,14607):e.removedDocuments.size>0&&(Ya(n.hu,42227),n.hu=!1))}),e.n=3,wh(r,a,n);case 3:e.n=5;break;case 4:return e.p=4,i=e.v,e.n=5,Hi(i);case 5:return e.a(2)}},e,null,[[1,4]])})),oh.apply(this,arguments)}function ch(e,t,n){var r=Ja(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var a=[];r.Tu.forEach(function(e,n){var r=n.view.va(t);r.snapshot&&a.push(r.snapshot)}),function(e,t){var n=Ja(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){var a,i=E(n.Sa);try{for(i.s();!(a=i.n()).done;){a.value.va(t)&&(r=!0)}}catch(s){i.e(s)}finally{i.f()}}),r&&Mf(n)}(r.eventManager,t),a.length&&r.Pu.H_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function uh(e,t,n){return lh.apply(this,arguments)}function lh(){return lh=_n(jn().m(function e(t,n,r){var a,i,s,o,c,u;return jn().w(function(e){for(;;)switch(e.n){case 0:if((a=Ja(t)).sharedClientState.updateQueryState(n,"rejected",r),i=a.Au.get(n),!(s=i&&i.key)){e.n=2;break}return o=(o=new Is(wi.comparator)).insert(s,jo.newNoDocument(s,Oi.min())),c=_c().add(s),u=new wu(Oi.min(),new Map,new Is(di),o,c),e.n=1,sh(a,u);case 1:a.du=a.du.remove(s),a.Au.delete(n),xh(a),e.n=3;break;case 2:return e.n=3,rd(a.localStore,n,!1).then(function(){return gh(a,n,r)}).catch(Hi);case 3:return e.a(2)}},e)})),lh.apply(this,arguments)}function dh(e,t){return fh.apply(this,arguments)}function fh(){return fh=_n(jn().m(function e(t,n){var r,a,i,s;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=Ja(t),a=n.batch.batchId,e.p=1,e.n=2,Jl(r.localStore,n);case 2:return i=e.v,vh(r,a,null),mh(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),e.n=3,wh(r,i);case 3:e.n=5;break;case 4:return e.p=4,s=e.v,e.n=5,Hi(s);case 5:return e.a(2)}},e,null,[[1,4]])})),fh.apply(this,arguments)}function hh(e,t,n){return ph.apply(this,arguments)}function ph(){return ph=_n(jn().m(function e(t,n,r){var a,i,s;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return a=Ja(t),e.p=1,e.n=2,function(e,t){var n=Ja(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next(function(t){return Ya(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)}).next(function(){return n.mutationQueue.performConsistencyCheck(e)}).next(function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)}).next(function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)}).next(function(){return n.localDocuments.getDocuments(e,r)})})}(a.localStore,n);case 2:return i=e.v,vh(a,n,r),mh(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),e.n=3,wh(a,i);case 3:e.n=5;break;case 4:return e.p=4,s=e.v,e.n=5,Hi(s);case 5:return e.a(2)}},e,null,[[1,4]])})),ph.apply(this,arguments)}function mh(e,t){(e.mu.get(t)||[]).forEach(function(e){e.resolve()}),e.mu.delete(t)}function vh(e,t,n){var r=Ja(e),a=r.Vu[r.currentUser.toKey()];if(a){var i=a.get(t);i&&(n?i.reject(n):i.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function gh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,a=E(e.Iu.get(t));try{for(a.s();!(r=a.n()).done;){var i=r.value;e.Tu.delete(i),n&&e.Pu.yu(i,n)}}catch(s){a.e(s)}finally{a.f()}e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(function(t){e.Ru.containsKey(t)||yh(e,t)})}function yh(e,t){e.Eu.delete(t.path.canonicalString());var n=e.du.get(t);null!==n&&(Ld(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),xh(e))}function bh(e,t,n){var r,a=E(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;i instanceof Vf?(e.Ru.addReference(i.key,t),kh(e,i)):i instanceof Uf?(Ha(Bf,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||yh(e,i.key)):Qa(19791,{wu:i})}}catch(s){a.e(s)}finally{a.f()}}function kh(e,t){var n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Ha(Bf,"New document in limbo: "+n),e.Eu.add(r),xh(e))}function xh(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){var t=e.Eu.values().next().value;e.Eu.delete(t);var n=new wi(bi.fromString(t)),r=e.fu.next();e.Au.set(r,new Hf(n)),e.du=e.du.insert(n,r),Od(e.remoteStore,new ll(ac(ec(n.path)),r,"TargetPurposeLimboResolution",Xi.ce))}}function wh(e,t,n){return Nh.apply(this,arguments)}function Nh(){return Nh=_n(jn().m(function e(t,n,r){var a,i,s,o;return jn().w(function(e){for(;;)switch(e.n){case 0:if(a=Ja(t),i=[],s=[],o=[],a.Tu.isEmpty()){e.n=2;break}return a.Tu.forEach(function(e,t){o.push(a.pu(t,n,r).then(function(e){if((e||r)&&a.isPrimaryClient){var n,o=e?!e.fromCache:null===r||void 0===r||null===(n=r.targetChanges.get(t.targetId))||void 0===n?void 0:n.current;a.sharedClientState.updateQueryState(t.targetId,o?"current":"not-current")}if(e){i.push(e);var c=ql.As(t.targetId,e);s.push(c)}}))}),e.n=1,Promise.all(o);case 1:return a.Pu.H_(i),e.n=2,function(){var e=_n(jn().m(function e(t,n){var r,a,i,s,o,c,u,l,d;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=Ja(t),e.p=1,e.n=2,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return Gi.forEach(n,function(t){return Gi.forEach(t.Es,function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)}).next(function(){return Gi.forEach(t.ds,function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)})})})});case 2:e.n=5;break;case 3:if(e.p=3,Qi(d=e.v)){e.n=4;break}throw d;case 4:Ha(Gl,"Failed to update sequence numbers: "+d);case 5:a=E(n);try{for(a.s();!(i=a.n()).done;)s=i.value,o=s.targetId,s.fromCache||(c=r.Ms.get(o),u=c.snapshotVersion,l=c.withLastLimboFreeSnapshotVersion(u),r.Ms=r.Ms.insert(o,l))}catch(f){a.e(f)}finally{a.f()}case 6:return e.a(2)}},e,null,[[1,3]])}));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,s);case 2:return e.a(2)}},e)})),Nh.apply(this,arguments)}function jh(e,t){return Sh.apply(this,arguments)}function Sh(){return Sh=_n(jn().m(function e(t,n){var r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:if((r=Ja(t)).currentUser.isEqual(n)){e.n=2;break}return Ha(Bf,"User change. New user:",n.toKey()),e.n=1,Xl(r.localStore,n);case 1:return a=e.v,r.currentUser=n,function(e,t){e.mu.forEach(function(e){e.forEach(function(e){e.reject(new Za($a.CANCELLED,t))})}),e.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),e.n=2,wh(r,a.Ls);case 2:return e.a(2)}},e)})),Sh.apply(this,arguments)}function _h(e,t){var n=Ja(e),r=n.Au.get(t);if(r&&r.hu)return _c().add(r.key);var a=_c(),i=n.Iu.get(t);if(!i)return a;var s,o=E(i);try{for(o.s();!(s=o.n()).done;){var c=s.value,u=n.Tu.get(c);a=a.unionWith(u.view.nu)}}catch(l){o.e(l)}finally{o.f()}return a}function Eh(e){var t=Ja(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_h.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uh.bind(null,t),t.Pu.H_=Of.bind(null,t.eventManager),t.Pu.yu=Lf.bind(null,t.eventManager),t}function Ch(e){var t=Ja(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hh.bind(null,t),t}var Th=function(){return y(function e(){p(this,e),this.kind="memory",this.synchronizeTabs=!1},[{key:"initialize",value:function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.n){case 0:return this.serializer=xd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),e.n=1,this.persistence.start();case 1:this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore);case 2:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Fu",value:function(e,t){return null}},{key:"Mu",value:function(e,t){return null}},{key:"vu",value:function(e){return Ql(this.persistence,new Wl,e.initialUser,this.serializer)}},{key:"Cu",value:function(e){return new Vl(zl.mi,this.serializer)}},{key:"Du",value:function(e){return new cd}},{key:"terminate",value:function(){var e=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.n){case 0:return null!==(t=this.gcScheduler)&&void 0!==t&&t.stop(),null!==(n=this.indexBackfillerScheduler)&&void 0!==n&&n.stop(),this.sharedClientState.shutdown(),e.n=1,this.persistence.shutdown();case 1:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()}])}();Th.provider={build:function(){return new Th}};var Ih=function(e){function t(e){var n;return p(this,t),(n=w(this,t)).cacheSizeBytes=e,n}return j(t,e),y(t,[{key:"Fu",value:function(e,t){Ya(this.persistence.referenceDelegate instanceof Bl,46915);var n=this.persistence.referenceDelegate.garbageCollector;return new jl(n,e.asyncQueue,t)}},{key:"Cu",value:function(e){var t=void 0!==this.cacheSizeBytes?yl.withCacheSize(this.cacheSizeBytes):yl.DEFAULT;return new Vl(function(e){return Bl.mi(e,t)},this.serializer)}}])}(Th),Ah=function(){return y(function e(){p(this,e)},[{key:"initialize",value:function(){var e=_n(jn().m(function e(t,n){var r=this;return jn().w(function(e){for(;;)switch(e.n){case 0:if(this.localStore){e.n=1;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ch(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=jh.bind(null,this.syncEngine),e.n=1,gf(this.remoteStore,this.syncEngine.isPrimaryClient);case 1:return e.a(2)}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Tf}},{key:"createDatastore",value:function(e){var t=xd(e.databaseInfo.databaseId),n=function(e){return new bd(e)}(e.databaseInfo);return function(e,t,n,r){return new Ed(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,a){return new Id(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,function(e){return ch(t.syncEngine,e,0)},dd.v()?new dd:new ud)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,a,i,s){var o=new Wf(e,t,n,r,a,i);return s&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){var e=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=Ja(t),Ha(Td,"RemoteStore shutting down."),n.Ea.add(5),e.n=1,Pd(n);case 1:n.Aa.shutdown(),n.Ra.set("Unknown");case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()(this.remoteStore);case 1:null!==(t=this.datastore)&&void 0!==t&&t.terminate(),null===(n=this.eventManager)||void 0===n||n.terminate();case 2:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()}])}();Ah.provider={build:function(){return new Ah}};var Dh=function(){return y(function e(t){p(this,e),this.observer=t,this.muted=!1},[{key:"next",value:function(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}},{key:"error",value:function(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wa("Uncaught Error in snapshot listener:",e.toString()))}},{key:"Nu",value:function(){this.muted=!0}},{key:"Ou",value:function(e,t){var n=this;setTimeout(function(){n.muted||e(t)},0)}}])}(),Ph=function(){return y(function e(t){p(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set},[{key:"lookup",value:function(){var e=_n(jn().m(function e(t){var n,r=this;return jn().w(function(e){for(;;)switch(e.n){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.n=1;break}throw this.lastTransactionError=new Za($a.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;case 1:return e.n=2,function(){var e=_n(jn().m(function e(t,n){var r,a,i,s,o;return jn().w(function(e){for(;;)switch(e.n){case 0:return r=Ja(t),a={documents:n.map(function(e){return qu(r.serializer,e)})},e.n=1,r.Ho("BatchGetDocuments",r.serializer.databaseId,bi.emptyPath(),a,n.length);case 1:return i=e.v,s=new Map,i.forEach(function(e){var t=Yu(r.serializer,e);s.set(t.key.toString(),t)}),o=[],e.a(2,(n.forEach(function(e){var t=s.get(e.toString());Ya(!!t,55234,{key:e}),o.push(t)}),o))}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 2:return n=e.v,e.a(2,(n.forEach(function(e){return r.recordVersion(e)}),n))}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ou(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=_n(jn().m(function e(){var t,n=this;return jn().w(function(e){for(;;)switch(e.n){case 0:if(this.ensureCommitNotCalled(),!this.lastTransactionError){e.n=1;break}throw this.lastTransactionError;case 1:return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(e,t){var r=wi.fromPath(t);n.mutations.push(new cu(r,n.precondition(r)))}),e.n=2,function(){var e=_n(jn().m(function e(t,n){var r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:return r=Ja(t),a={writes:n.map(function(e){return Ju(r.serializer,e)})},e.n=1,r.Go("Commit",r.serializer.databaseId,bi.emptyPath(),a);case 1:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 2:this.committed=!0;case 3:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Qa(50498,{Gu:e.constructor.name});t=Oi.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Za($a.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Oi.min())?Gc.exists(!1):Gc.updateTime(t):Gc.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Oi.min()))throw new Za($a.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gc.updateTime(t)}return Gc.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}])}(),Rh=function(){return y(function e(t,n,r,a,i){p(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=a,this.deferred=i,this.zu=r.maxAttempts,this.M_=new wd(this.asyncQueue,"transaction_retry")},[{key:"ju",value:function(){this.zu-=1,this.Ju()}},{key:"Ju",value:function(){var e=this;this.M_.p_(_n(jn().m(function t(){var n,r;return jn().w(function(t){for(;;)switch(t.n){case 0:n=new Ph(e.datastore),(r=e.Hu(n))&&r.then(function(t){e.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){e.deferred.resolve(t)}).catch(function(t){e.Yu(t)})})}).catch(function(t){e.Yu(t)});case 1:return t.a(2)}},t)})))}},{key:"Hu",value:function(e){try{var t=this.updateFunction(e);return!Ji(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Yu",value:function(e){var t=this;this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(function(){return t.Ju(),Promise.resolve()})):this.deferred.reject(e)}},{key:"Zu",value:function(e){if("FirebaseError"===(null===e||void 0===e?void 0:e.name)){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!hu(t)}return!1}}])}(),Oh="FirestoreClient",Lh=function(){return y(function e(t,n,r,a,i){var s=this;p(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Ua.UNAUTHENTICATED,this.clientId=li.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this._uninitializedComponentsProvider=i,this.authCredentials.start(r,function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.n){case 0:return Ha(Oh,"Received user=",t.uid),e.n=1,s.authCredentialListener(t);case 1:s.user=t;case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,function(e){return Ha(Oh,"Received new app check token=",e),s.appCheckCredentialListener(e,s.user)})},[{key:"configuration",get:function(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_n(jn().m(function n(){var r,a;return jn().w(function(n){for(;;)switch(n.p=n.n){case 0:if(n.p=0,!e._onlineComponents){n.n=1;break}return n.n=1,e._onlineComponents.terminate();case 1:if(!e._offlineComponents){n.n=2;break}return n.n=2,e._offlineComponents.terminate();case 2:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.n=4;break;case 3:n.p=3,a=n.v,r=wf(a,"Failed to shutdown persistence"),t.reject(r);case 4:return n.a(2)}},n,null,[[0,3]])}))),t.promise}}])}();function Mh(e,t){return Fh.apply(this,arguments)}function Fh(){return Fh=_n(jn().m(function e(t,n){var r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:return t.asyncQueue.verifyOperationInProgress(),Ha(Oh,"Initializing OfflineComponentProvider"),r=t.configuration,e.n=1,n.initialize(r);case 1:a=r.initialUser,t.setCredentialChangeListener(function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.n){case 0:if(a.isEqual(t)){e.n=2;break}return e.n=1,Xl(n.localStore,t);case 1:a=t;case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t._offlineComponents=n;case 2:return e.a(2)}},e)})),Fh.apply(this,arguments)}function Vh(e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=_n(jn().m(function e(t,n){var r;return jn().w(function(e){for(;;)switch(e.n){case 0:return t.asyncQueue.verifyOperationInProgress(),e.n=1,zh(t);case 1:return r=e.v,Ha(Oh,"Initializing OnlineComponentProvider"),e.n=2,n.initialize(r,t.configuration);case 2:t.setCredentialChangeListener(function(e){return mf(n.remoteStore,e)}),t.setAppCheckTokenChangeListener(function(e,t){return mf(n.remoteStore,t)}),t._onlineComponents=n;case 3:return e.a(2)}},e)})),Uh.apply(this,arguments)}function zh(e){return Bh.apply(this,arguments)}function Bh(){return Bh=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t._offlineComponents){e.n=7;break}if(!t._uninitializedComponentsProvider){e.n=6;break}return Ha(Oh,"Using user provided OfflineComponentProvider"),e.p=1,e.n=2,Mh(t,t._uninitializedComponentsProvider._offline);case 2:e.n=5;break;case 3:if(e.p=3,r=e.v,function(e){return"FirebaseError"===e.name?e.code===$a.FAILED_PRECONDITION||e.code===$a.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n=r)){e.n=4;break}throw n;case 4:return Ga("Error using user provided cache. Falling back to memory cache: "+n),e.n=5,Mh(t,new Th);case 5:e.n=7;break;case 6:return Ha(Oh,"Using default OfflineComponentProvider"),e.n=7,Mh(t,new Ih(void 0));case 7:return e.a(2,t._offlineComponents)}},e,null,[[1,3]])})),Bh.apply(this,arguments)}function qh(e){return Hh.apply(this,arguments)}function Hh(){return Hh=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.n){case 0:if(t._onlineComponents){e.n=3;break}if(!t._uninitializedComponentsProvider){e.n=2;break}return Ha(Oh,"Using user provided OnlineComponentProvider"),e.n=1,Vh(t,t._uninitializedComponentsProvider._online);case 1:e.n=3;break;case 2:return Ha(Oh,"Using default OnlineComponentProvider"),e.n=3,Vh(t,new Ah);case 3:return e.a(2,t._onlineComponents)}},e)})),Hh.apply(this,arguments)}function Wh(e){return qh(e).then(function(e){return e.syncEngine})}function Gh(e){return qh(e).then(function(e){return e.datastore})}function Kh(e){return Qh.apply(this,arguments)}function Qh(){return Qh=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,qh(t);case 1:return n=e.v,r=n.eventManager,e.a(2,(r.onListen=Gf.bind(null,n.syncEngine),r.onUnlisten=eh.bind(null,n.syncEngine),r.onFirstRemoteStoreListen=Qf.bind(null,n.syncEngine),r.onLastRemoteStoreUnlisten=nh.bind(null,n.syncEngine),r))}},e)})),Qh.apply(this,arguments)}function Xh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ei;return e.asyncQueue.enqueueAndForget(_n(jn().m(function a(){var i;return jn().w(function(a){for(;;)switch(a.n){case 0:return i=function(e,t,n,r,a){var i=new Dh({next:function(o){i.Nu(),t.enqueueAndForget(function(){return Pf(e,s)});var c=o.docs.has(n);!c&&o.fromCache?a.reject(new Za($a.UNAVAILABLE,"Failed to get document because the client is offline.")):c&&o.fromCache&&r&&"server"===r.source?a.reject(new Za($a.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(o)},error:function(e){return a.reject(e)}}),s=new Ff(ec(n.path),i,{includeMetadataChanges:!0,qa:!0});return Af(e,s)},a.n=1,Kh(e);case 1:return a.a(2,i(a.v,e.asyncQueue,t,n,r))}},a)}))),r.promise}function Yh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ei;return e.asyncQueue.enqueueAndForget(_n(jn().m(function a(){var i;return jn().w(function(a){for(;;)switch(a.n){case 0:return i=function(e,t,n,r,a){var i=new Dh({next:function(n){i.Nu(),t.enqueueAndForget(function(){return Pf(e,s)}),n.fromCache&&"server"===r.source?a.reject(new Za($a.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:function(e){return a.reject(e)}}),s=new Ff(n,i,{includeMetadataChanges:!0,qa:!0});return Af(e,s)},a.n=1,Kh(e);case 1:return a.a(2,i(a.v,e.asyncQueue,t,n,r))}},a)}))),r.promise}function Jh(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var $h=new Map,Zh="firestore.googleapis.com",ep=!0,tp=function(){return y(function e(t){var n,r;if(p(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Za($a.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zh,this.ssl=ep}else this.host=t.host,this.ssl=null!==(n=t.ssl)&&void 0!==n?n:ep;if(this.isUsingEmulator=void 0!==t.emulatorOptions,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=gl;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<xl)throw new Za($a.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Za($a.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jh(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Za($a.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Za($a.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Za($a.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams},[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}])}(),np=function(){return y(function e(t,n,r,a){p(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"},[{key:"app",get:function(){if(!this._app)throw new Za($a.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return"notTerminated"!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Za($a.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tp(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ni;switch(e.type){case"firstParty":return new si(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Za($a.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_getEmulatorOptions",value:function(){return this._emulatorOptions}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}},{key:"_restart",value:function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:if("notTerminated"!==this._terminateTask){e.n=2;break}return e.n=1,this._terminate();case 1:e.n=3;break;case 2:this._terminateTask="notTerminated";case 3:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=$h.get(e);t&&(Ha("ComponentProvider","Removing Datastore"),$h.delete(e),t.terminate())}(this),Promise.resolve()}}])}();function rp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Ci(e,np);var a=zn(t),i=e._getSettings(),s=st(st({},i),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);a&&(Bn("https://".concat(o)),Kn("Firestore",!0)),i.host!==Zh&&i.host!==o&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");var c=st(st({},i),{},{host:o,ssl:a,emulatorOptions:r});if(!ar(c,s)&&(e._setSettings(c),r.mockUserToken)){var u,l;if("string"==typeof r.mockUserToken)u=r.mockUserToken,l=Ua.MOCK_USER;else{var d;u=Hn(r.mockUserToken,null===(d=e._app)||void 0===d?void 0:d.options.projectId);var f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Za($a.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ua(f)}e._authCredentials=new ri(new ti(u,l))}}var ap=function(){function e(t,n,r){p(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return y(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}])}(),ip=function(){function e(t,n,r){p(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return y(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new sp(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}},{key:"toJSON",value:function(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}}],[{key:"fromJSON",value:function(t,n,r){if(Ai(n,e._jsonSchema))return new e(t,r||null,new wi(bi.fromString(n.referencePath)))}}])}();ip._jsonSchemaVersion="firestore/documentReference/1.0",ip._jsonSchema={type:Ii("string",ip._jsonSchemaVersion),referencePath:Ii("string")};var sp=function(e){function t(e,n,r){var a;return p(this,t),(a=w(this,t,[e,n,ec(r)]))._path=r,a.type="collection",a}return j(t,e),y(t,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ip(this.firestore,null,new wi(e))}},{key:"withConverter",value:function(e){return new t(this.firestore,e,this._path)}}])}(ap);function op(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=dr(e),Ni("collection","path",t),e instanceof np){var i=bi.fromString.apply(bi,[t].concat(r));return Si(i),new sp(e,null,i)}if(!(e instanceof ip||e instanceof sp))throw new Za($a.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=e._path.child(bi.fromString.apply(bi,[t].concat(r)));return Si(s),new sp(e.firestore,null,s)}function cp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=dr(e),1===arguments.length&&(t=li.newId()),Ni("doc","path",t),e instanceof np){var i=bi.fromString.apply(bi,[t].concat(r));return ji(i),new ip(e,null,new wi(i))}if(!(e instanceof ip||e instanceof sp))throw new Za($a.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=e._path.child(bi.fromString.apply(bi,[t].concat(r)));return ji(s),new ip(e.firestore,e instanceof sp?e.converter:null,new wi(s))}var up="AsyncQueue",lp=function(){return y(function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();p(this,e),this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wd(this,"async_queue_retry"),this._c=function(){var e=kd();e&&Ha(up,"Visibility state changed to "+e.visibilityState),t.M_.w_()},this.ac=n;var r=kd();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this._c)},[{key:"isShuttingDown",get:function(){return this.ec}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.uc(),this.cc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ec){this.ec=!0,this.sc=e||!1;var t=kd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}},{key:"enqueue",value:function(e){var t=this;if(this.uc(),this.ec)return new Promise(function(){});var n=new ei;return this.cc(function(){return t.ec&&t.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget(function(){return t.Xu.push(e),t.lc()})}},{key:"lc",value:function(){var e=_n(jn().m(function e(){var t,n=this;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(0===this.Xu.length){e.n=6;break}return e.p=1,e.n=2,this.Xu[0]();case 2:this.Xu.shift(),this.M_.reset(),e.n=5;break;case 3:if(e.p=3,Qi(t=e.v)){e.n=4;break}throw t;case 4:Ha(up,"Operation failed with retryable error: "+t);case 5:this.Xu.length>0&&this.M_.p_(function(){return n.lc()});case 6:return e.a(2)}},e,this,[[1,3]])}));return function(){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){var t=this,n=this.ac.then(function(){return t.rc=!0,e().catch(function(e){throw t.nc=e,t.rc=!1,Wa("INTERNAL UNHANDLED ERROR: ",dp(e)),e}).then(function(e){return t.rc=!1,e})});return this.ac=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.uc(),this.oc.indexOf(e)>-1&&(t=0);var a=xf.createAndSchedule(this,e,t,n,function(e){return r.hc(e)});return this.tc.push(a),a}},{key:"uc",value:function(){this.nc&&Qa(47125,{Pc:dp(this.nc)})}},{key:"verifyOperationInProgress",value:function(){}},{key:"Tc",value:function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.n){case 0:return t=this.ac,e.n=1,t;case 1:if(t!==this.ac){e.n=0;break}case 2:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){var t,n=E(this.tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ec",value:function(e){var t=this;return this.Tc().then(function(){t.tc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});var n,r=E(t.tc);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.skipDelay(),"all"!==e&&a.timerId===e)break}}catch(i){r.e(i)}finally{r.f()}return t.Tc()})}},{key:"dc",value:function(e){this.oc.push(e)}},{key:"hc",value:function(e){var t=this.tc.indexOf(e);this.tc.splice(t,1)}}])}();function dp(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function fp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,a=E(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i in r&&"function"==typeof r[i])return!0}}catch(s){a.e(s)}finally{a.f()}return!1}(e,["next","error","complete"])}var hp=function(e){function t(e,n,r,a){var i;return p(this,t),(i=w(this,t,[e,n,r,a])).type="firestore",i._queue=new lp,i._persistenceKey=(null===a||void 0===a?void 0:a.name)||"[DEFAULT]",i}return j(t,e),y(t,[{key:"_terminate",value:function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!this._firestoreClient){e.n=1;break}return t=this._firestoreClient.terminate(),this._queue=new lp(t),this._firestoreClient=void 0,e.n=1,t;case 1:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()}])}(np);function pp(e){if(e._terminated)throw new Za($a.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||mp(e),e._firestoreClient}function mp(e){var t,n,r,a=e._freezeSettings(),i=function(e,t,n,r){return new Xs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Jh(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||null!==(n=a.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=a.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Lh(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){var t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}var vp=function(){function e(t){p(this,e),this._byteString=t}return y(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}},{key:"toJSON",value:function(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}}],[{key:"fromBase64String",value:function(t){try{return new e(Ms.fromBase64String(t))}catch(t){throw new Za($a.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ms.fromUint8Array(t))}},{key:"fromJSON",value:function(t){if(Ai(t,e._jsonSchema))return e.fromBase64String(t.bytes)}}])}();vp._jsonSchemaVersion="firestore/bytes/1.0",vp._jsonSchema={type:Ii("string",vp._jsonSchemaVersion),bytes:Ii("string")};var gp=function(){return y(function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0;a<n.length;++a)if(0===n[a].length)throw new Za($a.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(n)},[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}])}();var yp=y(function e(t){p(this,e),this._methodName=t}),bp=function(){function e(t,n){if(p(this,e),!isFinite(t)||t<-90||t>90)throw new Za($a.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Za($a.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return y(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"_compareTo",value:function(e){return di(this._lat,e._lat)||di(this._long,e._long)}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}}],[{key:"fromJSON",value:function(t){if(Ai(t,e._jsonSchema))return new e(t.latitude,t.longitude)}}])}();bp._jsonSchemaVersion="firestore/geoPoint/1.0",bp._jsonSchema={type:Ii("string",bp._jsonSchemaVersion),latitude:Ii("number"),longitude:Ii("number")};var kp=function(){function e(t){p(this,e),this._values=(t||[]).map(function(e){return e})}return y(e,[{key:"toArray",value:function(){return this._values.map(function(e){return e})}},{key:"isEqual",value:function(e){return function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}},{key:"toJSON",value:function(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}}],[{key:"fromJSON",value:function(t){if(Ai(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(function(e){return"number"==typeof e}))return new e(t.vectorValues);throw new Za($a.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}])}();kp._jsonSchemaVersion="firestore/vectorValue/1.0",kp._jsonSchema={type:Ii("string",kp._jsonSchemaVersion),vectorValues:Ii("object")};var xp=/^__.*__$/,wp=function(){return y(function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r},[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new tu(e,this.data,this.fieldMask,t,this.fieldTransforms):new eu(e,this.data,t,this.fieldTransforms)}}])}(),Np=function(){return y(function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r},[{key:"toMutation",value:function(e,t){return new tu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}])}();function jp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qa(40011,{Ac:e})}}var Sp=function(){function e(t,n,r,a,i,s){p(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return y(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ac",get:function(){return this.settings.Ac}},{key:"Vc",value:function(t){return new e(st(st({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}},{key:"yc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}},{key:"wc",value:function(e){return this.Vc({path:void 0,fc:!0})}},{key:"Sc",value:function(e){return zp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})}},{key:"Rc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.gc(this.path.get(e))}},{key:"gc",value:function(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(jp(this.Ac)&&xp.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}])}(),_p=function(){return y(function e(t,n,r){p(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||xd(t)},[{key:"Cc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Sp({Ac:e,methodName:t,Dc:n,path:xi.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}])}();function Ep(e){var t=e._freezeSettings(),n=xd(e._databaseId);return new _p(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Cp(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=e.Cc(i.merge||i.mergeFields?2:0,t,n,a);Mp("Data must be an object, but it was:",s,r);var o,c,u=Op(r,s);if(i.merge)o=new Os(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){var l,d=[],f=E(i.mergeFields);try{for(f.s();!(l=f.n()).done;){var h=Fp(t,l.value,n);if(!s.contains(h))throw new Za($a.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));Bp(d,h)||d.push(h)}}catch(p){f.e(p)}finally{f.f()}o=new Os(d),c=s.fieldTransforms.filter(function(e){return o.covers(e.field)})}else o=null,c=s.fieldTransforms;return new wp(new wo(u),o,c)}var Tp=function(e){function t(){return p(this,t),w(this,t,arguments)}return j(t,e),y(t,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof t}}])}(yp);var Ip=function(e){function t(){return p(this,t),w(this,t,arguments)}return j(t,e),y(t,[{key:"_toFieldTransform",value:function(e){return new Hc(e.path,new Lc)}},{key:"isEqual",value:function(e){return e instanceof t}}])}(yp);function Ap(e,t,n,r){var a=e.Cc(1,t,n);Mp("Data must be an object, but it was:",a,r);var i=[],s=wo.empty();Cs(r,function(e,r){var o=Up(t,e,n);r=dr(r);var c=a.yc(o);if(r instanceof Tp)i.push(o);else{var u=Rp(r,c);null!=u&&(i.push(o),s.set(o,u))}});var o=new Os(i);return new Np(s,o,a.fieldTransforms)}function Dp(e,t,n,r,a,i){var s=e.Cc(1,t,n),o=[Fp(t,r,n)],c=[a];if(i.length%2!=0)throw new Za($a.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var u=0;u<i.length;u+=2)o.push(Fp(t,i[u])),c.push(i[u+1]);for(var l=[],d=wo.empty(),f=o.length-1;f>=0;--f)if(!Bp(l,o[f])){var h=o[f],p=c[f];p=dr(p);var m=s.yc(h);if(p instanceof Tp)l.push(h);else{var v=Rp(p,m);null!=v&&(l.push(h),d.set(h,v))}}var g=new Os(l);return new Np(d,g,s.fieldTransforms)}function Pp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Rp(n,e.Cc(r?4:3,t))}function Rp(e,t){if(Lp(e=dr(e)))return Mp("Unsupported field value:",t,e),Op(e,t);if(e instanceof yp)return function(e,t){if(!jp(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){var n,r=[],a=0,i=E(e);try{for(i.s();!(n=i.n()).done;){var s=Rp(n.value,t.wc(a));null==s&&(s={nullValue:"NULL_VALUE"}),r.push(s),a++}}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=dr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ac(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ri.fromDate(e);return{timestampValue:Lu(t.serializer,n)}}if(e instanceof Ri){var r=new Ri(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Lu(t.serializer,r)}}if(e instanceof bp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vp)return{bytesValue:Mu(t.serializer,e._byteString)};if(e instanceof ip){var a=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(a))throw t.Sc("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(a.projectId,"/").concat(a.database));return{referenceValue:Uu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof kp)return function(e,t){return{mapValue:{fields:at(at({},$s,{stringValue:to}),no,{arrayValue:{values:e.toArray().map(function(e){if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Tc(t.serializer,e)})}})}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Ei(e)))}(e,t)}function Op(e,t){var n={};return Ts(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cs(e,function(e,r){var a=Rp(r,t.mc(e));null!=a&&(n[e]=a)}),{mapValue:{fields:n}}}function Lp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ri||e instanceof bp||e instanceof vp||e instanceof ip||e instanceof yp||e instanceof kp)}function Mp(e,t,n){if(!Lp(n)||!_i(n)){var r=Ei(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Fp(e,t,n){if((t=dr(t))instanceof gp)return t._internalPath;if("string"==typeof t)return Up(e,t);throw zp("Field path arguments must be of type string or ",e,!1,void 0,n)}var Vp=new RegExp("[~\\*/\\[\\]]");function Up(e,t,n){if(t.search(Vp)>=0)throw zp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(gp,h(t.split(".")))._internalPath}catch(r){throw zp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zp(e,t,n,r,a){var i=r&&!r.isEmpty(),s=void 0!==a,o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";var c="";return(i||s)&&(c+=" (found",i&&(c+=" in field ".concat(r)),s&&(c+=" in document ".concat(a)),c+=")"),new Za($a.INVALID_ARGUMENT,o+e+c)}function Bp(e,t){return e.some(function(e){return e.isEqual(t)})}var qp=function(){return y(function e(t,n,r,a,i){p(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=i},[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ip(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Hp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Wp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}])}(),Hp=function(e){function t(){return p(this,t),w(this,t,arguments)}return j(t,e),y(t,[{key:"data",value:function(){return Cn(t,"data",this,3)([])}}])}(qp);function Wp(e,t){return"string"==typeof t?Up(e,t):t instanceof gp?t._internalPath:t._delegate._internalPath}function Gp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Za($a.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Kp=y(function e(){p(this,e)}),Qp=function(e){function t(){return p(this,t),w(this,t,arguments)}return j(t,e),y(t)}(Kp);function Xp(e,t){for(var n=[],r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];t instanceof Kp&&n.push(t),function(e){var t=e.filter(function(e){return e instanceof $p}).length,n=e.filter(function(e){return e instanceof Yp}).length;if(t>1||t>0&&n>0)throw new Za($a.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(a));var s,o=E(n);try{for(o.s();!(s=o.n()).done;){e=s.value._apply(e)}}catch(c){o.e(c)}finally{o.f()}return e}var Yp=function(e){function t(e,n,r){var a;return p(this,t),(a=w(this,t))._field=e,a._op=n,a._value=r,a.type="where",a}return j(t,e),y(t,[{key:"_apply",value:function(e){var t=this._parse(e);return im(e._query,t),new ap(e.firestore,e.converter,sc(e._query,t))}},{key:"_parse",value:function(e){var t=Ep(e.firestore),n=function(e,t,n,r,a,i,s){var o;if(a.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Za($a.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){am(s,i);var c,u=[],l=E(s);try{for(l.s();!(c=l.n()).done;){var d=c.value;u.push(rm(r,e,d))}}catch(f){l.e(f)}finally{l.f()}o={arrayValue:{values:u}}}else o=rm(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||am(s,i),o=Pp(n,t,s,"in"===i||"not-in"===i);return Ao.create(a,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}])}(Qp);function Jp(e,t,n){var r=t,a=Wp("where",e);return Yp._create(a,r,n)}var $p=function(e){function t(e,n){var r;return p(this,t),(r=w(this,t)).type=e,r._queryConstraints=n,r}return j(t,e),y(t,[{key:"_parse",value:function(e){var t=this._queryConstraints.map(function(t){return t._parse(e)}).filter(function(e){return e.getFilters().length>0});return 1===t.length?t[0]:Do.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,a=E(t.getFlattenedFilters());try{for(a.s();!(n=a.n()).done;){var i=n.value;im(r,i),r=sc(r,i)}}catch(s){a.e(s)}finally{a.f()}}(e._query,t),new ap(e.firestore,e.converter,sc(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,n){return new t(e,n)}}])}(Kp);var Zp=function(e){function t(e,n){var r;return p(this,t),(r=w(this,t))._field=e,r._direction=n,r.type="orderBy",r}return j(t,e),y(t,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Za($a.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Za($a.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Co(t,n)}(e._query,this._field,this._direction);return new ap(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new $o(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,n){return new t(e,n)}}])}(Qp);function em(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Wp("orderBy",e);return Zp._create(n,t)}var tm=function(e){function t(e,n,r){var a;return p(this,t),(a=w(this,t)).type=e,a._limit=n,a._limitType=r,a}return j(t,e),y(t,[{key:"_apply",value:function(e){return new ap(e.firestore,e.converter,oc(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}])}(Qp);function nm(e){return Ti("limit",e),tm._create("limit",e,"F")}function rm(e,t,n){if("string"==typeof(n=dr(n))){if(""===n)throw new Za($a.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nc(t)&&-1!==n.indexOf("/"))throw new Za($a.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(bi.fromString(n));if(!wi.isDocumentKey(r))throw new Za($a.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ho(e,new wi(r))}if(n instanceof ip)return ho(e,n._key);throw new Za($a.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ei(n),"."))}function am(e,t){if(!Array.isArray(e)||0===e.length)throw new Za($a.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function im(e,t){var n=function(e,t){var n,r=E(e);try{for(r.s();!(n=r.n()).done;){var a,i=E(n.value.getFlattenedFilters());try{for(i.s();!(a=i.n()).done;){var s=a.value;if(t.indexOf(s.op)>=0)return s.op}}catch(o){i.e(o)}finally{i.f()}}}catch(o){r.e(o)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Za($a.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Za($a.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var sm=function(){return y(function e(){p(this,e)},[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Us(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Qa(62114,{value:e})}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Cs(e,function(e,a){r[e]=t.convertValue(a,n)}),r}},{key:"convertVectorValue",value:function(e){var t,n=null===(t=e.fields)||void 0===t||null===(t=t[no].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(function(e){return Us(e.doubleValue)});return new kp(n)}},{key:"convertGeoPoint",value:function(e){return new bp(Us(e.latitude),Us(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ks(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Qs(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Vs(e);return new Ri(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=bi.fromString(e);Ya(ul(n),9688,{name:e});var r=new Js(n.get(1),n.get(3)),a=new wi(n.popFirst(5));return r.isEqual(t)||Wa("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}])}();function om(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var cm=function(e){function t(e){var n;return p(this,t),(n=w(this,t)).firestore=e,n}return j(t,e),y(t,[{key:"convertBytes",value:function(e){return new vp(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ip(this.firestore,null,t)}}])}(sm);var um=function(){return y(function e(t,n){p(this,e),this.hasPendingWrites=t,this.fromCache=n},[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}])}(),lm=function(e){function t(e,n,r,a,i,s){var o;return p(this,t),(o=w(this,t,[e,n,r,a,s]))._firestore=e,o._firestoreImpl=e,o.metadata=i,o}return j(t,e),y(t,[{key:"exists",value:function(){return Cn(t,"exists",this,3)([])}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Wp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}},{key:"toJSON",value:function(){if(this.metadata.hasPendingWrites)throw new Za($a.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");var e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n):n}}])}(qp);lm._jsonSchemaVersion="firestore/documentSnapshot/1.0",lm._jsonSchema={type:Ii("string",lm._jsonSchemaVersion),bundleSource:Ii("string","DocumentSnapshot"),bundleName:Ii("string"),bundle:Ii("string")};var dm=function(e){function t(){return p(this,t),w(this,t,arguments)}return j(t,e),y(t,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Cn(t,"data",this,3)([e])}}])}(lm),fm=function(){function e(t,n,r,a){p(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new um(a.hasPendingWrites,a.fromCache),this.query=r}return y(e,[{key:"docs",get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new dm(n._firestore,n._userDataWriter,r.key,r,new um(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Za($a.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){var r=new dm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new um(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new dm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new um(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),a=-1,i=-1;return 0!==t.type&&(a=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(i=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:hm(t.type),doc:n,oldIndex:a,newIndex:i}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}},{key:"toJSON",value:function(){var t=this;if(this.metadata.hasPendingWrites)throw new Za($a.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");var n={};n.type=e._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=li.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;var r=[],a=[],i=[];return this.docs.forEach(function(e){null!==e._document&&(r.push(e._document),a.push(t._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),i.push(e.ref.path))}),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}])}();function hm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qa(61501,{type:e})}}function pm(e){e=Ci(e,ip);var t=Ci(e.firestore,hp);return Xh(pp(t),e._key).then(function(n){return Nm(t,e,n)})}fm._jsonSchemaVersion="firestore/querySnapshot/1.0",fm._jsonSchema={type:Ii("string",fm._jsonSchemaVersion),bundleSource:Ii("string","QuerySnapshot"),bundleName:Ii("string"),bundle:Ii("string")};var mm=function(e){function t(e){var n;return p(this,t),(n=w(this,t)).firestore=e,n}return j(t,e),y(t,[{key:"convertBytes",value:function(e){return new vp(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ip(this.firestore,null,t)}}])}(sm);function vm(e){e=Ci(e,ap);var t=Ci(e.firestore,hp),n=pp(t),r=new mm(t);return Gp(e._query),Yh(n,e._query).then(function(n){return new fm(t,r,e,n)})}function gm(e,t,n){e=Ci(e,ip);var r=Ci(e.firestore,hp),a=om(e.converter,t,n);return wm(r,[Cp(Ep(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,Gc.none())])}function ym(e,t,n){e=Ci(e,ip);for(var r=Ci(e.firestore,hp),a=Ep(r),i=arguments.length,s=new Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return wm(r,[("string"==typeof(t=dr(t))||t instanceof gp?Dp(a,"updateDoc",e._key,t,n,s):Ap(a,"updateDoc",e._key,t)).toMutation(e._key,Gc.exists(!0))])}function bm(e){return wm(Ci(e.firestore,hp),[new ou(e._key,Gc.none())])}function km(e,t){var n=Ci(e.firestore,hp),r=cp(e),a=om(e.converter,t);return wm(n,[Cp(Ep(e.firestore),"addDoc",r._key,a,null!==e.converter,{}).toMutation(r._key,Gc.exists(!1))]).then(function(){return r})}function xm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=dr(e);var a={includeMetadataChanges:!1,source:"default"},i=0;"object"!=typeof n[i]||fp(n[i])||(a=n[i++]);var s,o,c,u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(fp(n[i])){var l,d,f,h=n[i];n[i]=null===(l=h.next)||void 0===l?void 0:l.bind(h),n[i+1]=null===(d=h.error)||void 0===d?void 0:d.bind(h),n[i+2]=null===(f=h.complete)||void 0===f?void 0:f.bind(h)}if(e instanceof ip)o=Ci(e.firestore,hp),c=ec(e._key.path),s={next:function(t){n[i]&&n[i](Nm(o,e,t))},error:n[i+1],complete:n[i+2]};else{var p=Ci(e,ap);o=Ci(p.firestore,hp),c=p._query;var m=new mm(o);s={next:function(e){n[i]&&n[i](new fm(o,m,p,e))},error:n[i+1],complete:n[i+2]},Gp(e._query)}return function(e,t,n,r){var a=new Dh(r),i=new Ff(t,a,n);return e.asyncQueue.enqueueAndForget(_n(jn().m(function t(){var n;return jn().w(function(t){for(;;)switch(t.n){case 0:return n=Af,t.n=1,Kh(e);case 1:return t.a(2,n(t.v,i))}},t)}))),function(){a.Nu(),e.asyncQueue.enqueueAndForget(_n(jn().m(function t(){var n;return jn().w(function(t){for(;;)switch(t.n){case 0:return n=Pf,t.n=1,Kh(e);case 1:return t.a(2,n(t.v,i))}},t)})))}}(pp(o),c,u,s)}function wm(e,t){return function(e,t){var n=new ei;return e.asyncQueue.enqueueAndForget(_n(jn().m(function r(){var a;return jn().w(function(r){for(;;)switch(r.n){case 0:return a=ah,r.n=1,Wh(e);case 1:return r.a(2,a(r.v,t,n))}},r)}))),n.promise}(pp(e),t)}function Nm(e,t,n){var r=n.docs.get(t._key),a=new mm(e);return new lm(e,a,t._key,r,new um(n.hasPendingWrites,n.fromCache),t.converter)}var jm={maxAttempts:5},Sm=function(){return y(function e(t,n){p(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ep(t)},[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=_m(e,this._firestore),a=om(r.converter,t,n),i=Cp(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,Gc.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,a=_m(e,this._firestore),i=arguments.length,s=new Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return r="string"==typeof(t=dr(t))||t instanceof gp?Dp(this._dataReader,"WriteBatch.update",a._key,t,n,s):Ap(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(r.toMutation(a._key,Gc.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=_m(e,this._firestore);return this._mutations=this._mutations.concat(new ou(t._key,Gc.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Za($a.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}])}();function _m(e,t){if((e=dr(e)).firestore!==t)throw new Za($a.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Em=function(){return y(function e(t,n){p(this,e),this._firestore=t,this._transaction=n,this._dataReader=Ep(t)},[{key:"get",value:function(e){var t=this,n=_m(e,this._firestore),r=new cm(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return Qa(24041);var a=e[0];if(a.isFoundDocument())return new qp(t._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new qp(t._firestore,r,n._key,null,n.converter);throw Qa(18433,{doc:a})})}},{key:"set",value:function(e,t,n){var r=_m(e,this._firestore),a=om(r.converter,t,n),i=Cp(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,n);return this._transaction.set(r._key,i),this}},{key:"update",value:function(e,t,n){for(var r,a=_m(e,this._firestore),i=arguments.length,s=new Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return r="string"==typeof(t=dr(t))||t instanceof gp?Dp(this._dataReader,"Transaction.update",a._key,t,n,s):Ap(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,r),this}},{key:"delete",value:function(e){var t=_m(e,this._firestore);return this._transaction.delete(t._key),this}}])}(),Cm=function(e){function t(e,n){var r;return p(this,t),(r=w(this,t,[e,n]))._firestore=e,r}return j(t,e),y(t,[{key:"get",value:function(e){var n=this,r=_m(e,this._firestore),a=new mm(this._firestore);return Cn(t,"get",this,3)([e]).then(function(e){return new lm(n._firestore,a,r._key,e._document,new um(!1,!1),r.converter)})}}])}(Em);function Tm(e,t,n){e=Ci(e,hp);var r=st(st({},jm),n);return function(e){if(e.maxAttempts<1)throw new Za($a.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new ei;return e.asyncQueue.enqueueAndForget(_n(jn().m(function a(){var i;return jn().w(function(a){for(;;)switch(a.n){case 0:return a.n=1,Gh(e);case 1:i=a.v,new Rh(e.asyncQueue,i,n,t,r).ju();case 2:return a.a(2)}},a)}))),r.promise}(pp(e),function(n){return t(new Cm(e,n))},r)}function Im(){return new Ip("serverTimestamp")}function Am(e){return pp(e=Ci(e,hp)),new Sm(e,function(t){return wm(e,t)})}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){za=e}(ia),Zr(new fr("firestore",function(e,n){var r=n.instanceIdentifier,a=n.options,i=e.getProvider("app").getImmediate(),s=new hp(new ai(e.getProvider("auth-internal")),new ci(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Za($a.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Js(e.options.projectId,t)}(i,r),i);return a=st({useFetchStreams:t},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),ca(Fa,Va,e),ca(Fa,Va,"esm2020")}();function Dm(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}ca("firebase","12.5.0","app");var Pm,Rm=["providerId"],Om=["uid","auth","stsTokenManager"],Lm=["providerId","signInMethod"];function Mm(){return at({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Fm=Mm,Vm=new tr("auth","Firebase",Mm()),Um=new wr("@firebase/auth");function zm(e){if(Um.logLevel<=mr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Um.warn.apply(Um,["Auth (".concat(ia,"): ").concat(e)].concat(n))}}function Bm(e){if(Um.logLevel<=mr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Um.error.apply(Um,["Auth (".concat(ia,"): ").concat(e)].concat(n))}}function qm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Km.apply(void 0,[e].concat(n))}function Hm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Km.apply(void 0,[e].concat(n))}function Wm(e,t,n){var r=st(st({},Fm()),{},at({},t,n));return new tr("auth","Firebase",r).create(t,{appName:e.name})}function Gm(e){return Wm(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Km(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var a,i=n[0],s=h(n.slice(1));return s[0]&&(s[0].appName=e.name),(a=e._errorFactory).create.apply(a,[i].concat(h(s)))}return Vm.create.apply(Vm,[e].concat(n))}function Qm(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw Km.apply(void 0,[t].concat(r))}}function Xm(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Bm(t),new Error(t)}function Ym(e,t){e||Xm(t)}function Jm(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $m(){return"http:"===Zm()||"https:"===Zm()}function Zm(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function ev(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&($m()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var tv=function(){return y(function e(t,n){p(this,e),this.shortDelay=t,this.longDelay=n,Ym(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())||"object"===typeof navigator&&"ReactNative"===navigator.product},[{key:"get",value:function(){return ev()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}])}();function nv(e,t){Ym(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var rv=function(){return y(function e(){p(this,e)},null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Xm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")})},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Xm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Xm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}])}(),av=(at(at(at(at(at(at(at(at(at(at(Pm={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),"MISSING_CUSTOM_TOKEN","internal-error"),"INVALID_IDENTIFIER","invalid-email"),"MISSING_CONTINUE_URI","internal-error"),"INVALID_PASSWORD","wrong-password"),"MISSING_PASSWORD","missing-password"),"INVALID_LOGIN_CREDENTIALS","invalid-credential"),"EMAIL_EXISTS","email-already-in-use"),"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),"INVALID_IDP_RESPONSE","invalid-credential"),at(at(at(at(at(at(at(at(at(at(Pm,"INVALID_PENDING_TOKEN","invalid-credential"),"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),"MISSING_REQ_TYPE","internal-error"),"EMAIL_NOT_FOUND","user-not-found"),"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),"EXPIRED_OOB_CODE","expired-action-code"),"INVALID_OOB_CODE","invalid-action-code"),"MISSING_OOB_CODE","internal-error"),"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),"INVALID_ID_TOKEN","invalid-user-token"),at(at(at(at(at(at(at(at(at(at(Pm,"TOKEN_EXPIRED","user-token-expired"),"USER_NOT_FOUND","user-token-expired"),"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),"INVALID_CODE","invalid-verification-code"),"INVALID_SESSION_INFO","invalid-verification-id"),"INVALID_TEMPORARY_PROOF","invalid-credential"),"MISSING_SESSION_INFO","missing-verification-id"),"SESSION_EXPIRED","code-expired"),"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),at(at(at(at(at(at(at(at(at(at(Pm,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),"ADMIN_ONLY_OPERATION","admin-restricted-operation"),"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),at(at(at(at(at(at(at(at(Pm,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),"MISSING_CLIENT_TYPE","missing-client-type"),"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),"INVALID_REQ_TYPE","invalid-req-type")),iv=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sv=new tv(3e4,6e4);function ov(e,t){return e.tenantId&&!t.tenantId?st(st({},t),{},{tenantId:e.tenantId}):t}function cv(e,t,n,r){return uv.apply(this,arguments)}function uv(){return uv=_n(jn().m(function e(t,n,r,a){var i,s=arguments;return jn().w(function(e){for(;;)if(0===e.n)return i=s.length>4&&void 0!==s[4]?s[4]:{},e.a(2,lv(t,i,_n(jn().m(function e(){var i,s,o,c,u,l;return jn().w(function(e){for(;;)switch(e.n){case 0:return i={},s={},a&&("GET"===n?s=a:i={body:JSON.stringify(a)}),o=sr(st({key:t.config.apiKey},s)).slice(1),e.n=1,t._getAdditionalHeaders();case 1:return(c=e.v)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),u=st({method:n,headers:c},i),Yn()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&zn(t.emulatorConfig.host)&&(u.credentials="include"),l=rv.fetch(),e.n=2,pv(t,t.config.apiHost,r,o);case 2:return e.a(2,l(e.v,u))}},e)}))))},e)})),uv.apply(this,arguments)}function lv(e,t,n){return dv.apply(this,arguments)}function dv(){return dv=_n(jn().m(function e(t,n,r){var a,i,s,o,u,l,d,f,h,p,m;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return t._canInitEmulator=!1,a=st(st({},av),n),e.p=1,i=new gv(t),e.n=2,Promise.race([r(),i.promise]);case 2:return s=e.v,i.clearNetworkTimeout(),e.n=3,s.json();case 3:if(!("needConfirmation"in(o=e.v))){e.n=4;break}throw yv(t,"account-exists-with-different-credential",o);case 4:if(!s.ok||"errorMessage"in o){e.n=5;break}return e.a(2,o);case 5:if(u=s.ok?o.errorMessage:o.error.message,l=u.split(" : "),d=c(l,2),f=d[0],h=d[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.n=6;break}throw yv(t,"credential-already-in-use",o);case 6:if("EMAIL_EXISTS"!==f){e.n=7;break}throw yv(t,"email-already-in-use",o);case 7:if("USER_DISABLED"!==f){e.n=8;break}throw yv(t,"user-disabled",o);case 8:if(p=a[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.n=9;break}throw Wm(t,p,h);case 9:qm(t,p);case 10:e.n=13;break;case 11:if(e.p=11,!((m=e.v)instanceof er)){e.n=12;break}throw m;case 12:qm(t,"network-request-failed",{message:String(m)});case 13:return e.a(2)}},e,null,[[1,11]])})),dv.apply(this,arguments)}function fv(e,t,n,r){return hv.apply(this,arguments)}function hv(){return hv=_n(jn().m(function e(t,n,r,a){var i,s,o=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:return i=o.length>4&&void 0!==o[4]?o[4]:{},e.n=1,cv(t,n,r,a,i);case 1:return"mfaPendingCredential"in(s=e.v)&&qm(t,"multi-factor-auth-required",{_serverResponse:s}),e.a(2,s)}},e)})),hv.apply(this,arguments)}function pv(e,t,n,r){return mv.apply(this,arguments)}function mv(){return mv=_n(jn().m(function e(t,n,r,a){var i,s,o,c;return jn().w(function(e){for(;;)switch(e.n){case 0:if(i="".concat(n).concat(r,"?").concat(a),o=(s=t).config.emulator?nv(t.config,i):"".concat(t.config.apiScheme,"://").concat(i),!iv.includes(r)){e.n=2;break}return e.n=1,s._persistenceManagerAvailable;case 1:if("COOKIE"!==s._getPersistenceType()){e.n=2;break}return c=s._getPersistence(),e.a(2,c._getFinalTarget(o).toString());case 2:return e.a(2,o)}},e)})),mv.apply(this,arguments)}function vv(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var gv=function(){return y(function e(t){var n=this;p(this,e),this.auth=t,this.timer=null,this.promise=new Promise(function(e,t){n.timer=setTimeout(function(){return t(Hm(n.auth,"network-request-failed"))},sv.get())})},[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}])}();function yv(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var a=Hm(e,t,r);return a.customData._tokenResponse=n,a}function bv(e){return void 0!==e&&void 0!==e.enterprise}var kv=function(){return y(function e(t){if(p(this,e),this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState},[{key:"getProviderEnforcementState",value:function(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;var t,n=E(this.recaptchaEnforcementState);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.provider&&r.provider===e)return vv(r.enforcementState)}}catch(a){n.e(a)}finally{n.f()}return null}},{key:"isProviderEnabled",value:function(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}},{key:"isAnyProviderEnabled",value:function(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}])}();function xv(e,t){return wv.apply(this,arguments)}function wv(){return wv=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,cv(t,"GET","/v2/recaptchaConfig",ov(t,n)))},e)})),wv.apply(this,arguments)}function Nv(e,t){return jv.apply(this,arguments)}function jv(){return jv=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,cv(t,"POST","/v1/accounts:delete",n))},e)})),jv.apply(this,arguments)}function Sv(e,t){return _v.apply(this,arguments)}function _v(){return _v=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,cv(t,"POST","/v1/accounts:lookup",n))},e)})),_v.apply(this,arguments)}function Ev(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(ot){}}function Cv(){return Cv=_n(jn().m(function e(t){var n,r,a,i,s,o,c=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=dr(t),e.n=1,r.getIdToken(n);case 1:return a=e.v,Qm((i=Iv(a))&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error"),s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider,e.a(2,{claims:i,token:a,authTime:Ev(Tv(i.auth_time)),issuedAtTime:Ev(Tv(i.iat)),expirationTime:Ev(Tv(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null})}},e)})),Cv.apply(this,arguments)}function Tv(e){return 1e3*Number(e)}function Iv(e){var t=c(e.split("."),3),n=t[0],r=t[1],a=t[2];if(void 0===n||void 0===r||void 0===a)return Bm("JWT malformed, contained fewer than 3 sections"),null;try{var i=Pn(r);return i?JSON.parse(i):(Bm("Failed to decode base64 JWT payload"),null)}catch(ot){return Bm("Caught error parsing JWT payload as JSON",null===ot||void 0===ot?void 0:ot.toString()),null}}function Av(e){var t=Iv(e);return Qm(t,"internal-error"),Qm("undefined"!==typeof t.exp,"internal-error"),Qm("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}function Dv(e,t){return Pv.apply(this,arguments)}function Pv(){return Pv=_n(jn().m(function e(t,n){var r,a=arguments;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!(a.length>2&&void 0!==a[2]&&a[2])){e.n=1;break}return e.a(2,n);case 1:return e.p=1,e.n=2,n;case 2:return e.a(2,e.v);case 3:if(e.p=3,!((r=e.v)instanceof er&&Rv(r))){e.n=4;break}if(t.auth.currentUser!==t){e.n=4;break}return e.n=4,t.auth.signOut();case 4:throw r;case 5:return e.a(2)}},e,null,[[1,3]])})),Pv.apply(this,arguments)}function Rv(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ov=function(){return y(function e(t){p(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4},[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){if(e){var t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}var n;this.errorBackoff=3e4;var r=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(_n(jn().m(function t(){return jn().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.iteration();case 1:return t.a(2)}},t)})),n)}}},{key:"iteration",value:function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,this.user.getIdToken(!0);case 1:e.n=3;break;case 2:return e.p=2,(null===(t=e.v)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.a(2);case 3:this.schedule();case 4:return e.a(2)}},e,this,[[0,2]])}));return function(){return e.apply(this,arguments)}}()}])}(),Lv=function(){return y(function e(t,n){p(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()},[{key:"_initializeTime",value:function(){this.lastSignInTime=Ev(this.lastLoginAt),this.creationTime=Ev(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}])}();function Mv(e){return Fv.apply(this,arguments)}function Fv(){return Fv=_n(jn().m(function e(t){var n,r,a,i,s,o,c,u,l,d,f;return jn().w(function(e){for(;;)switch(e.n){case 0:return r=t.auth,e.n=1,t.getIdToken();case 1:return a=e.v,e.n=2,Dv(t,Sv(r,{idToken:a}));case 2:Qm(null===(i=e.v)||void 0===i?void 0:i.users.length,r,"internal-error"),s=i.users[0],t._notifyReloadListener(s),o=null!==(n=s.providerUserInfo)&&void 0!==n&&n.length?zv(s.providerUserInfo):[],c=Uv(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(null!==c&&void 0!==c&&c.length),d=!!u&&l,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Lv(s.createdAt,s.lastLoginAt),isAnonymous:d},Object.assign(t,f);case 3:return e.a(2)}},e)})),Fv.apply(this,arguments)}function Vv(){return(Vv=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=dr(t),e.n=1,Mv(n);case 1:return e.n=2,n.auth._persistUserIfCurrent(n);case 2:n.auth._notifyListenersIfCurrent(n);case 3:return e.a(2)}},e)}))).apply(this,arguments)}function Uv(e,t){var n=e.filter(function(e){return!t.some(function(t){return t.providerId===e.providerId})});return[].concat(h(n),h(t))}function zv(e){return e.map(function(e){var t=e.providerId,n=Dm(e,Rm);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function Bv(e,t){return qv.apply(this,arguments)}function qv(){return qv=_n(jn().m(function e(t,n){var r;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,lv(t,{},_n(jn().m(function e(){var r,a,i,s,o,c,u;return jn().w(function(e){for(;;)switch(e.n){case 0:return r=sr({grant_type:"refresh_token",refresh_token:n}).slice(1),a=t.config,i=a.tokenApiHost,s=a.apiKey,e.n=1,pv(t,i,"/v1/token","key=".concat(s));case 1:return o=e.v,e.n=2,t._getAdditionalHeaders();case 2:return(c=e.v)["Content-Type"]="application/x-www-form-urlencoded",u={method:"POST",headers:c,body:r},t.emulatorConfig&&zn(t.emulatorConfig.host)&&(u.credentials="include"),e.a(2,rv.fetch()(o,u))}},e)})));case 1:return r=e.v,e.a(2,{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token})}},e)})),qv.apply(this,arguments)}function Hv(e,t){return Wv.apply(this,arguments)}function Wv(){return Wv=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,cv(t,"POST","/v2/accounts:revokeToken",ov(t,n)))},e)})),Wv.apply(this,arguments)}var Gv=function(){function e(){p(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return y(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Qm(e.idToken,"internal-error"),Qm("undefined"!==typeof e.idToken,"internal-error"),Qm("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Av(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"updateFromIdToken",value:function(e){Qm(0!==e.length,"internal-error");var t=Av(e);this.updateTokensAndExpiration(e,null,t)}},{key:"getToken",value:function(){var e=_n(jn().m(function e(t){var n=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:if(n.length>1&&void 0!==n[1]&&n[1]||!this.accessToken||this.isExpired){e.n=1;break}return e.a(2,this.accessToken);case 1:if(Qm(this.refreshToken,t,"user-token-expired"),!this.refreshToken){e.n=3;break}return e.n=2,this.refresh(t,this.refreshToken);case 2:return e.a(2,this.accessToken);case 3:return e.a(2,null)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=_n(jn().m(function e(t,n){var r,a,i,s;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bv(t,n);case 1:r=e.v,a=r.accessToken,i=r.refreshToken,s=r.expiresIn,this.updateTokensAndExpiration(a,i,Number(s));case 2:return e.a(2)}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Xm("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,a=n.accessToken,i=n.expirationTime,s=new e;return r&&(Qm("string"===typeof r,"internal-error",{appName:t}),s.refreshToken=r),a&&(Qm("string"===typeof a,"internal-error",{appName:t}),s.accessToken=a),i&&(Qm("number"===typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}}])}();function Kv(e,t){Qm("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Qv=function(){function e(t){var n=t.uid,r=t.auth,a=t.stsTokenManager,i=Dm(t,Om);p(this,e),this.providerId="firebase",this.proactiveRefresh=new Ov(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?h(i.providerData):[],this.metadata=new Lv(i.createdAt||void 0,i.lastLoginAt||void 0)}return y(e,[{key:"getIdToken",value:function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Dv(this,this.stsTokenManager.getToken(this.auth,t));case 1:if(Qm(n=e.v,this.auth,"internal-error"),this.accessToken===n){e.n=3;break}return this.accessToken=n,e.n=2,this.auth._persistUserIfCurrent(this);case 2:this.auth._notifyListenersIfCurrent(this);case 3:return e.a(2,n)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Cv.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Vv.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Qm(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(e){return st({},e)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(st(st({},this),{},{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Qm(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=_n(jn().m(function e(t){var n,r,a=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.n=1;break}return e.n=1,Mv(this);case 1:return e.n=2,this.auth._persistUserIfCurrent(this);case 2:r&&this.auth._notifyListenersIfCurrent(this);case 3:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!ta(this.auth.app)){e.n=1;break}return e.a(2,Promise.reject(Gm(this.auth)));case 1:return e.n=2,this.getIdToken();case 2:return t=e.v,e.n=3,Dv(this,Nv(this.auth,{idToken:t}));case 3:return this.stsTokenManager.clearRefreshToken(),e.a(2,this.auth.signOut())}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return st(st({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return st({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,a,i,s,o,c,u,l,d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(a=n.email)&&void 0!==a?a:void 0,h=null!==(i=n.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,m=null!==(o=n.tenantId)&&void 0!==o?o:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,g=null!==(u=n.createdAt)&&void 0!==u?u:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,x=n.isAnonymous,w=n.providerData,N=n.stsTokenManager;Qm(b&&N,t,"internal-error");var j=Gv.fromJSON(this.name,N);Qm("string"===typeof b,t,"internal-error"),Kv(d,t.name),Kv(f,t.name),Qm("boolean"===typeof k,t,"internal-error"),Qm("boolean"===typeof x,t,"internal-error"),Kv(h,t.name),Kv(p,t.name),Kv(m,t.name),Kv(v,t.name),Kv(g,t.name),Kv(y,t.name);var S=new e({uid:b,auth:t,email:f,emailVerified:k,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:j,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(S.providerData=w.map(function(e){return st({},e)})),v&&(S._redirectEventId=v),S}},{key:"_fromIdTokenResponse",value:function(){var t=_n(jn().m(function t(n,r){var a,i,s,o=arguments;return jn().w(function(t){for(;;)switch(t.n){case 0:return a=o.length>2&&void 0!==o[2]&&o[2],(i=new Gv).updateFromServerResponse(r),s=new e({uid:r.localId,auth:n,stsTokenManager:i,isAnonymous:a}),t.n=1,Mv(s);case 1:return t.a(2,s)}},t)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"_fromGetAccountInfoResponse",value:function(){var t=_n(jn().m(function t(n,r,a){var i,s,o,c,u,l;return jn().w(function(t){for(;;)if(0===t.n)return Qm(void 0!==(i=r.users[0]).localId,"internal-error"),s=void 0!==i.providerUserInfo?zv(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(null!==s&&void 0!==s&&s.length),(c=new Gv).updateFromIdToken(a),u=new e({uid:i.localId,auth:n,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Lv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(null!==s&&void 0!==s&&s.length)},Object.assign(u,l),t.a(2,u)},t)}));return function(e,n,r){return t.apply(this,arguments)}}()}])}(),Xv=new Map;function Yv(e){Ym(e instanceof Function,"Expected a class definition");var t=Xv.get(e);return t?(Ym(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xv.set(e,t),t)}var Jv=function(){return y(function e(){p(this,e),this.type="NONE",this.storage={}},[{key:"_isAvailable",value:function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,!0)},e)}));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)switch(e.n){case 0:this.storage[t]=n;case 1:return e.a(2)}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)if(0===e.n)return n=this.storage[t],e.a(2,void 0===n?null:n)},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.n){case 0:delete this.storage[t];case 1:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}])}();Jv.type="NONE";var $v=Jv;function Zv(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var eg=function(){function e(t,n,r){p(this,e),this.persistence=t,this.auth=n,this.userKey=r;var a=this.auth,i=a.config,s=a.name;this.fullUserKey=Zv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return y(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.persistence._get(this.fullUserKey);case 1:if(t=e.v){e.n=2;break}return e.a(2,null);case 2:if("string"!==typeof t){e.n=5;break}return e.n=3,Sv(this.auth,{idToken:t}).catch(function(){});case 3:if(n=e.v){e.n=4;break}return e.a(2,null);case 4:return e.a(2,Qv._fromGetAccountInfoResponse(this.auth,n,t));case 5:return e.a(2,Qv._fromJSON(this.auth,t))}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:if(this.persistence!==t){e.n=1;break}return e.a(2);case 1:return e.n=2,this.getCurrentUser();case 2:return n=e.v,e.n=3,this.removeCurrentUser();case 3:if(this.persistence=t,!n){e.n=4;break}return e.a(2,this.setCurrentUser(n));case 4:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=_n(jn().m(function t(n,r){var a,i,s,o,c,u,l,d,f,h,p,m,v,g=arguments;return jn().w(function(t){for(;;)switch(t.p=t.n){case 0:if(a=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.n=1;break}return t.a(2,new e(Yv($v),n,a));case 1:return t.n=2,Promise.all(r.map(function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t._isAvailable();case 1:if(!e.v){e.n=2;break}return e.a(2,t);case 2:return e.a(2,void 0)}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:i=t.v.filter(function(e){return e}),s=i[0]||Yv($v),o=Zv(a,n.config.apiKey,n.name),c=null,u=E(r),t.p=3,u.s();case 4:if((l=u.n()).done){t.n=15;break}return d=l.value,t.p=5,t.n=6,d._get(o);case 6:if(!(f=t.v)){t.n=12;break}if(h=void 0,"string"!==typeof f){t.n=10;break}return t.n=7,Sv(n,{idToken:f}).catch(function(){});case 7:if(p=t.v){t.n=8;break}return t.a(3,15);case 8:return t.n=9,Qv._fromGetAccountInfoResponse(n,p,f);case 9:h=t.v,t.n=11;break;case 10:h=Qv._fromJSON(n,f);case 11:return d!==s&&(c=h),s=d,t.a(3,15);case 12:t.n=14;break;case 13:t.p=13,t.v;case 14:t.n=4;break;case 15:t.n=17;break;case 16:t.p=16,v=t.v,u.e(v);case 17:return t.p=17,u.f(),t.f(17);case 18:if(m=i.filter(function(e){return e._shouldAllowMigration}),s._shouldAllowMigration&&m.length){t.n=19;break}return t.a(2,new e(s,n,a));case 19:if(s=m[0],!c){t.n=20;break}return t.n=20,s._set(o,c.toJSON());case 20:return t.n=21,Promise.all(r.map(function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t===s){e.n=4;break}return e.p=1,e.n=2,t._remove(o);case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}()));case 21:return t.a(2,new e(s,n,a))}},t,null,[[5,13],[3,16,17,18]])}));return function(e,n){return t.apply(this,arguments)}}()}])}();function tg(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ig(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ng(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(og(t))return"Blackberry";if(cg(t))return"Webos";if(rg(t))return"Safari";if((t.includes("chrome/")||ag(t))&&!t.includes("edge/"))return"Chrome";if(sg(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ng(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/firefox\//i.test(e)}function rg(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ag(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/crios\//i.test(e)}function ig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/iemobile/i.test(e)}function sg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/android/i.test(e)}function og(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/blackberry/i.test(e)}function cg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/webos/i.test(e)}function ug(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function lg(){return function(){var e=Qn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function dg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return ug(e)||sg(e)||cg(e)||og(e)||/windows phone/i.test(e)||ig(e)}function fg(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=tg(Qn());break;case"Worker":t="".concat(tg(Qn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ia,"/").concat(r)}var hg=function(){return y(function e(t){p(this,e),this.auth=t,this.queue=[]},[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise(function(n,r){try{n(e(t))}catch(ot){r(ot)}})};r.onAbort=t,this.queue.push(r);var a=this.queue.length-1;return function(){n.queue[a]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=_n(jn().m(function e(t){var n,r,a,i,s,o,c,u,l;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.auth.currentUser!==t){e.n=1;break}return e.a(2);case 1:n=[],e.p=2,r=E(this.queue),e.p=3,r.s();case 4:if((a=r.n()).done){e.n=7;break}return i=a.value,e.n=5,i(t);case 5:i.onAbort&&n.push(i.onAbort);case 6:e.n=4;break;case 7:e.n=9;break;case 8:e.p=8,u=e.v,r.e(u);case 9:return e.p=9,r.f(),e.f(9);case 10:e.n=12;break;case 11:e.p=11,l=e.v,n.reverse(),s=E(n);try{for(s.s();!(o=s.n()).done;){c=o.value;try{c()}catch(Kt){}}}catch(d){s.e(d)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===l||void 0===l?void 0:l.message});case 12:return e.a(2)}},e,this,[[3,8,9,10],[2,11]])}));return function(t){return e.apply(this,arguments)}}()}])}();function pg(e){return mg.apply(this,arguments)}function mg(){return mg=_n(jn().m(function e(t){var n,r=arguments;return jn().w(function(e){for(;;)if(0===e.n)return n=r.length>1&&void 0!==r[1]?r[1]:{},e.a(2,cv(t,"GET","/v2/passwordPolicy",ov(t,n)))},e)})),mg.apply(this,arguments)}var vg=function(){return y(function e(t){var n,r,a,i;p(this,e);var s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(a=t.allowedNonAlphanumericCharacters)||void 0===a?void 0:a.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=t.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=t.schemaVersion},[{key:"validatePassword",value:function(e){var t,n,r,a,i,s,o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(a=o.containsUppercaseLetter)||void 0===a||a),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}])}(),gg=function(){return y(function e(t,n,r,a){var i=this;p(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bg(this),this.idTokenSubscription=new bg(this),this.beforeStateQueue=new hg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(function(e){return i._resolvePersistenceManagerAvailable=e})},[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Yv(t)),this._initializationPromise=this.queue(_n(jn().m(function r(){var a,i,s;return jn().w(function(r){for(;;)switch(r.p=r.n){case 0:if(!n._deleted){r.n=1;break}return r.a(2);case 1:return r.n=2,eg.create(n,e);case 2:if(n.persistenceManager=r.v,null===(a=n._resolvePersistenceManagerAvailable)||void 0===a||a.call(n),!n._deleted){r.n=3;break}return r.a(2);case 3:if(null===(i=n._popupRedirectResolver)||void 0===i||!i._shouldInitProactively){r.n=7;break}return r.p=4,r.n=5,n._popupRedirectResolver._initialize(n);case 5:r.n=7;break;case 6:r.p=6,r.v;case 7:return r.n=8,n.initializeCurrentUser(t);case 8:if(n.lastNotifiedUid=(null===(s=n.currentUser)||void 0===s?void 0:s.uid)||null,!n._deleted){r.n=9;break}return r.a(2);case 9:n._isInitialized=!0;case 10:return r.a(2)}},r,null,[[4,6]])}))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!this._deleted){e.n=1;break}return e.a(2);case 1:return e.n=2,this.assertedPersistence.getCurrentUser();case 2:if(t=e.v,this.currentUser||t){e.n=3;break}return e.a(2);case 3:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.n=5;break}return this._currentUser._assign(t),e.n=4,this.currentUser.getIdToken();case 4:case 6:return e.a(2);case 5:return e.n=6,this._updateCurrentUser(t,!0)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUserFromIdToken",value:function(){var e=_n(jn().m(function e(t){var n,r,a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Sv(this,{idToken:t});case 1:return n=e.v,e.n=2,Qv._fromGetAccountInfoResponse(this,n,t);case 2:return r=e.v,e.n=3,this.directlySetCurrentUser(r);case 3:e.n=5;break;case 4:return e.p=4,a=e.v,console.warn("FirebaseServerApp could not login user with provided authIdToken: ",a),e.n=5,this.directlySetCurrentUser(null);case 5:return e.a(2)}},e,this,[[0,4]])}));return function(t){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=_n(jn().m(function e(t){var n,r,a,i,s,o,c,u,l,d,f=this;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!ta(this.app)){e.n=2;break}if(!(n=this.app.settings.authIdToken)){e.n=1;break}return e.a(2,new Promise(function(e){setTimeout(function(){return f.initializeCurrentUserFromIdToken(n).then(e,e)})}));case 1:return e.a(2,this.directlySetCurrentUser(null));case 2:return e.n=3,this.assertedPersistence.getCurrentUser();case 3:if(r=e.v,a=r,i=!1,!t||!this.config.authDomain){e.n=6;break}return e.n=4,this.getOrInitRedirectPersistenceManager();case 4:return c=null===(s=this.redirectUser)||void 0===s?void 0:s._redirectEventId,u=null===(o=a)||void 0===o?void 0:o._redirectEventId,e.n=5,this.tryRedirectSignIn(t);case 5:l=e.v,c&&c!==u||null===l||void 0===l||!l.user||(a=l.user,i=!0);case 6:if(a){e.n=7;break}return e.a(2,this.directlySetCurrentUser(null));case 7:if(a._redirectEventId){e.n=13;break}if(!i){e.n=11;break}return e.p=8,e.n=9,this.beforeStateQueue.runMiddleware(a);case 9:e.n=11;break;case 10:e.p=10,d=e.v,a=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(d)});case 11:if(!a){e.n=12;break}return e.a(2,this.reloadAndSetCurrentUserOrClear(a));case 12:return e.a(2,this.directlySetCurrentUser(null));case 13:return Qm(this._popupRedirectResolver,this,"argument-error"),e.n=14,this.getOrInitRedirectPersistenceManager();case 14:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.n=15;break}return e.a(2,this.directlySetCurrentUser(a));case 15:return e.a(2,this.reloadAndSetCurrentUserOrClear(a))}},e,this,[[8,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=null,e.p=1,e.n=2,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 2:n=e.v,e.n=4;break;case 3:return e.p=3,e.v,e.n=4,this._setRedirectUser(null);case 4:return e.a(2,n)}},e,this,[[1,3]])}));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Mv(t);case 1:e.n=3;break;case 2:if(e.p=2,(null===(n=e.v)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.n=3;break}return e.a(2,this.directlySetCurrentUser(null));case 3:return e.a(2,this.directlySetCurrentUser(t))}},e,this,[[0,2]])}));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:this._deleted=!0;case 1:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!ta(this.app)){e.n=1;break}return e.a(2,Promise.reject(Gm(this)));case 1:return(n=t?dr(t):null)&&Qm(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.a(2,this._updateCurrentUser(n&&n._clone(this)))}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=_n(jn().m(function e(t){var n,r=this,a=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!this._deleted){e.n=1;break}return e.a(2);case 1:if(t&&Qm(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.n=2;break}return e.n=2,this.beforeStateQueue.runMiddleware(t);case 2:return e.a(2,this.queue(_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r.directlySetCurrentUser(t);case 1:r.notifyAuthListeners();case 2:return e.a(2)}},e)}))))}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:if(!ta(this.app)){e.n=1;break}return e.a(2,Promise.reject(Gm(this)));case 1:return e.n=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.n=3;break}return e.n=3,this._setRedirectUser(null);case 3:return e.a(2,this._updateCurrentUser(null,!0))}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return ta(this.app)?Promise.reject(Gm(this)):this.queue(_n(jn().m(function n(){return jn().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,t.assertedPersistence.setPersistence(Yv(e));case 1:return n.a(2)}},n)})))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:if(this._getPasswordPolicyInternal()){e.n=1;break}return e.n=1,this._updatePasswordPolicy();case 1:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.n=2;break}return e.a(2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 2:return e.a(2,n.validatePassword(t))}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,pg(this);case 1:t=e.v,n=new vg(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 2:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistenceType",value:function(){return this.assertedPersistence.persistence.type}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new tr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise(function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged(function(){r(),t()},n)})}},{key:"revokeAccessToken",value:function(){var e=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!this.currentUser){e.n=2;break}return e.n=1,this.currentUser.getIdToken();case 1:return n=e.v,r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n},null!=this.tenantId&&(r.tenantId=this.tenantId),e.n=2,Hv(this,r);case 2:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=_n(jn().m(function e(t,n){var r;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.getOrInitRedirectPersistenceManager(n);case 1:return r=e.v,e.a(2,null===t?r.removeCurrentUser():r.setCurrentUser(t))}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:if(this.redirectPersistenceManager){e.n=3;break}return Qm(n=t&&Yv(t)||this._popupRedirectResolver,this,"argument-error"),e.n=1,eg.create(this,[Yv(n._redirectPersistence)],"redirectUser");case 1:return this.redirectPersistenceManager=e.v,e.n=2,this.redirectPersistenceManager.getCurrentUser();case 2:this.redirectUser=e.v;case 3:return e.a(2,this.redirectPersistenceManager)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!this._isInitialized){e.n=1;break}return e.n=1,this.queue(_n(jn().m(function e(){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)})));case 1:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.n=2;break}return e.a(2,this._currentUser);case 2:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.n=3;break}return e.a(2,this.redirectUser);case 3:return e.a(2,null)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=_n(jn().m(function e(t){var n=this;return jn().w(function(e){for(;;)switch(e.n){case 0:if(t!==this.currentUser){e.n=1;break}return e.a(2,this.queue(_n(jn().m(function e(){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,n.directlySetCurrentUser(t))},e)}))));case 1:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var a=this;if(this._deleted)return function(){};var i="function"===typeof t?t:t.next.bind(t),s=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qm(o,this,"internal-error"),o.then(function(){s||i(a.currentUser)}),"function"===typeof t){var c=e.addObserver(t,n,r);return function(){s=!0,c()}}var u=e.addObserver(t);return function(){s=!0,u()}}},{key:"directlySetCurrentUser",value:function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.n){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.n=2;break}return e.n=1,this.assertedPersistence.setCurrentUser(t);case 1:e.n=3;break;case 2:return e.n=3,this.assertedPersistence.removeCurrentUser();case 3:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Qm(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fg(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=_n(jn().m(function e(){var t,n,r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=at({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.n=1,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 1:return(r=e.v)&&(n["X-Firebase-Client"]=r),e.n=2,this._getAppCheckToken();case 2:return(a=e.v)&&(n["X-Firebase-AppCheck"]=a),e.a(2,n)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!ta(this.app)||!this.app.settings.appCheckToken){e.n=1;break}return e.a(2,this.app.settings.appCheckToken);case 1:return e.n=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return null!==(n=e.v)&&void 0!==n&&n.error&&zm("Error while retrieving App Check token: ".concat(n.error)),e.a(2,null===n||void 0===n?void 0:n.token)}},e,this)}));return function(){return e.apply(this,arguments)}}()}])}();function yg(e){return dr(e)}var bg=function(){return y(function e(t){var n=this;p(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new ur(e,t);return n.subscribe.bind(n)}(function(e){return n.observer=e})},[{key:"next",get:function(){return Qm(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}])}(),kg={loadJS:function(){return _n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:throw new Error("Unable to load external scripts");case 1:return e.a(2)}},e)}))()},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xg(e){return kg.loadJS(e)}function wg(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ng=function(){return y(function e(){p(this,e),this.enterprise=new jg},[{key:"ready",value:function(e){e()}},{key:"execute",value:function(e,t){return Promise.resolve("token")}},{key:"render",value:function(e,t){return""}}])}(),jg=function(){return y(function e(){p(this,e)},[{key:"ready",value:function(e){e()}},{key:"execute",value:function(e,t){return Promise.resolve("token")}},{key:"render",value:function(e,t){return""}}])}();var Sg="NO_RECAPTCHA",_g=function(){return y(function e(t){p(this,e),this.type="recaptcha-enterprise",this.auth=yg(t)},[{key:"verify",value:function(){var e=_n(jn().m(function e(){var t,n,r,a,i,s,o=this,c=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:if(i=function(e,n,r){var a=window.grecaptcha;bv(a)?a.enterprise.ready(function(){a.enterprise.execute(e,{action:t}).then(function(e){n(e)}).catch(function(){n(Sg)})}):r(Error("No reCAPTCHA enterprise script loaded."))},a=function(){return a=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.n){case 0:if(n){e.n=2;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.n=1;break}return e.a(2,t._agentRecaptchaConfig.siteKey);case 1:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.n=2;break}return e.a(2,t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 2:return e.a(2,new Promise(function(){var e=_n(jn().m(function e(n,r){return jn().w(function(e){for(;;)switch(e.n){case 0:xv(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(e){if(void 0!==e.recaptchaKey){var a=new kv(e);return null==t.tenantId?t._agentRecaptchaConfig=a:t._tenantRecaptchaConfigs[t.tenantId]=a,n(a.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))}).catch(function(e){r(e)});case 1:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}()))}},e)})),a.apply(this,arguments)},r=function(e){return a.apply(this,arguments)},t=c.length>0&&void 0!==c[0]?c[0]:"verify",n=c.length>1&&void 0!==c[1]&&c[1],!this.auth.settings.appVerificationDisabledForTesting){e.n=1;break}return s=new Ng,e.a(2,s.execute("siteKey",{action:"verify"}));case 1:return e.a(2,new Promise(function(e,t){r(o.auth).then(function(r){if(!n&&bv(window.grecaptcha))i(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));var a=kg.recaptchaEnterpriseScript;0!==a.length&&(a+=r),xg(a).then(function(){i(r,e,t)}).catch(function(e){t(e)})}}).catch(function(e){t(e)})}))}},e,this)}));return function(){return e.apply(this,arguments)}}()}])}();function Eg(e,t,n){return Cg.apply(this,arguments)}function Cg(){return Cg=_n(jn().m(function e(t,n,r){var a,i,s,o,c,u,l,d,f=arguments;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a=f.length>3&&void 0!==f[3]&&f[3],i=f.length>4&&void 0!==f[4]&&f[4],s=new _g(t),!i){e.n=1;break}o=Sg,e.n=5;break;case 1:return e.p=1,e.n=2,s.verify(r);case 2:o=e.v,e.n=5;break;case 3:return e.p=3,e.v,e.n=4,s.verify(r,!0);case 4:o=e.v;case 5:if(c=st({},n),"mfaSmsEnrollment"!==r&&"mfaSmsSignIn"!==r){e.n=6;break}return"phoneEnrollmentInfo"in c?(u=c.phoneEnrollmentInfo.phoneNumber,l=c.phoneEnrollmentInfo.recaptchaToken,Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})):"phoneSignInInfo"in c&&(d=c.phoneSignInInfo.recaptchaToken,Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})),e.a(2,c);case 6:return a?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.a(2,c)}},e,null,[[1,3]])})),Cg.apply(this,arguments)}function Tg(e,t,n,r,a){return Ig.apply(this,arguments)}function Ig(){return Ig=_n(jn().m(function e(t,n,r,a,i){var s,o,c,u,l;return jn().w(function(e){for(;;)switch(e.n){case 0:if("EMAIL_PASSWORD_PROVIDER"!==i){e.n=4;break}if(null===(s=t._getRecaptchaConfig())||void 0===s||!s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){e.n=2;break}return e.n=1,Eg(t,n,r,"getOobCode"===r);case 1:return o=e.v,e.a(2,a(t,o));case 2:return e.a(2,a(t,n).catch(function(){var e=_n(jn().m(function e(i){var s;return jn().w(function(e){for(;;)switch(e.n){case 0:if(i.code!=="auth/".concat("missing-recaptcha-token")){e.n=2;break}return console.log("".concat(r," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),e.n=1,Eg(t,n,r,"getOobCode"===r);case 1:return s=e.v,e.a(2,a(t,s));case 2:return e.a(2,Promise.reject(i));case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()));case 3:case 8:e.n=10;break;case 4:if("PHONE_PROVIDER"!==i){e.n=9;break}if(null===(c=t._getRecaptchaConfig())||void 0===c||!c.isProviderEnabled("PHONE_PROVIDER")){e.n=6;break}return e.n=5,Eg(t,n,r);case 5:return u=e.v,e.a(2,a(t,u).catch(function(){var e=_n(jn().m(function e(i){var s,o;return jn().w(function(e){for(;;)switch(e.n){case 0:if("AUDIT"!==(null===(s=t._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))){e.n=2;break}if(i.code!=="auth/".concat("missing-recaptcha-token")&&i.code!=="auth/".concat("invalid-app-credential")){e.n=2;break}return console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(r," flow.")),e.n=1,Eg(t,n,r,!1,!0);case 1:return o=e.v,e.a(2,a(t,o));case 2:return e.a(2,Promise.reject(i))}},e)}));return function(t){return e.apply(this,arguments)}}()));case 6:return e.n=7,Eg(t,n,r,!1,!0);case 7:return l=e.v,e.a(2,a(t,l));case 9:return e.a(2,Promise.reject(i+" provider is not supported."));case 10:return e.a(2)}},e)})),Ig.apply(this,arguments)}function Ag(e){return Dg.apply(this,arguments)}function Dg(){return Dg=_n(jn().m(function e(t){var n,r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=yg(t),e.n=1,xv(n,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 1:r=e.v,a=new kv(r),null==n.tenantId?n._agentRecaptchaConfig=a:n._tenantRecaptchaConfigs[n.tenantId]=a,a.isAnyProviderEnabled()&&new _g(n).verify();case 2:return e.a(2)}},e)})),Dg.apply(this,arguments)}function Pg(e,t,n){var r=yg(e);Qm(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var a=!(null===n||void 0===n||!n.disableWarnings),i=Rg(t),s=function(e){var t=Rg(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){var i=a[1];return{host:i,port:Og(r.substr(i.length+1))}}var s=c(r.split(":"),2);return{host:s[0],port:Og(s[1])}}(t),o=s.host,u=s.port,l=null===u?"":":".concat(u),d={url:"".concat(i,"//").concat(o).concat(l,"/")},f=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator)return Qm(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Qm(ar(d,r.config.emulator)&&ar(f,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,zn(o)?(Bn("".concat(i,"//").concat(o).concat(l)),Kn("Auth",!0)):a||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Rg(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Og(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Lg=function(){return y(function e(t,n){p(this,e),this.providerId=t,this.signInMethod=n},[{key:"toJSON",value:function(){return Xm("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Xm("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Xm("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Xm("not implemented")}}])}();function Mg(e,t){return Fg.apply(this,arguments)}function Fg(){return Fg=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,cv(t,"POST","/v1/accounts:signUp",n))},e)})),Fg.apply(this,arguments)}function Vg(e,t){return Ug.apply(this,arguments)}function Ug(){return Ug=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,fv(t,"POST","/v1/accounts:signInWithPassword",ov(t,n)))},e)})),Ug.apply(this,arguments)}function zg(e,t){return Bg.apply(this,arguments)}function Bg(){return Bg=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,fv(t,"POST","/v1/accounts:signInWithEmailLink",ov(t,n)))},e)})),Bg.apply(this,arguments)}function qg(e,t){return Hg.apply(this,arguments)}function Hg(){return Hg=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,fv(t,"POST","/v1/accounts:signInWithEmailLink",ov(t,n)))},e)})),Hg.apply(this,arguments)}var Wg=function(e){function t(e,n,r){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(this,t),(a=w(this,t,["password",r]))._email=e,a._password=n,a._tenantId=i,a}return j(t,e),y(t,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.n){case 0:r=this.signInMethod,e.n="password"===r?1:"emailLink"===r?2:3;break;case 1:return n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.a(2,Tg(t,n,"signInWithPassword",Vg,"EMAIL_PASSWORD_PROVIDER"));case 2:return e.a(2,zg(t,{email:this._email,oobCode:this._password}));case 3:qm(t,"internal-error");case 4:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=_n(jn().m(function e(t,n){var r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:a=this.signInMethod,e.n="password"===a?1:"emailLink"===a?2:3;break;case 1:return r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.a(2,Tg(t,r,"signUpPassword",Mg,"EMAIL_PASSWORD_PROVIDER"));case 2:return e.a(2,qg(t,{idToken:n,email:this._email,oobCode:this._password}));case 3:qm(t,"internal-error");case 4:return e.a(2)}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,n){return new t(e,n,"password")}},{key:"_fromEmailAndCode",value:function(e,n){return new t(e,n,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}])}(Lg);function Gg(e,t){return Kg.apply(this,arguments)}function Kg(){return Kg=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,fv(t,"POST","/v1/accounts:signInWithIdp",ov(t,n)))},e)})),Kg.apply(this,arguments)}var Qg=function(e){function t(){var e;return p(this,t),(e=w(this,t,arguments)).pendingToken=null,e}return j(t,e),y(t,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Gg(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gg(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gg(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sr(t)}return e}}],[{key:"_fromParams",value:function(e){var n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qm("argument-error"),n}},{key:"fromJSON",value:function(e){var n="string"===typeof e?JSON.parse(e):e,r=n.providerId,a=n.signInMethod,i=Dm(n,Lm);if(!r||!a)return null;var s=new t(r,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}}])}(Lg);function Xg(e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,cv(t,"POST","/v1/accounts:sendVerificationCode",ov(t,n)))},e)})),Yg.apply(this,arguments)}function Jg(){return Jg=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,fv(t,"POST","/v1/accounts:signInWithPhoneNumber",ov(t,n)))},e)})),Jg.apply(this,arguments)}function $g(){return $g=_n(jn().m(function e(t,n){var r;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,fv(t,"POST","/v1/accounts:signInWithPhoneNumber",ov(t,n));case 1:if(!(r=e.v).temporaryProof){e.n=2;break}throw yv(t,"account-exists-with-different-credential",r);case 2:return e.a(2,r)}},e)})),$g.apply(this,arguments)}var Zg=at({},"USER_NOT_FOUND","user-not-found");function ey(){return ey=_n(jn().m(function e(t,n){var r;return jn().w(function(e){for(;;)if(0===e.n)return r=st(st({},n),{},{operation:"REAUTH"}),e.a(2,fv(t,"POST","/v1/accounts:signInWithPhoneNumber",ov(t,r),Zg))},e)})),ey.apply(this,arguments)}var ty=function(e){function t(e){var n;return p(this,t),(n=w(this,t,["phone","phone"])).params=e,n}return j(t,e),y(t,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Jg.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return $g.apply(this,arguments)}(e,st({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ey.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,a=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:a}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,n){return new t({verificationId:e,verificationCode:n})}},{key:"_fromTokenResponse",value:function(e,n){return new t({phoneNumber:e,temporaryProof:n})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var n=e,r=n.verificationId,a=n.verificationCode,i=n.phoneNumber,s=n.temporaryProof;return a||r||i||s?new t({verificationId:r,verificationCode:a,phoneNumber:i,temporaryProof:s}):null}}])}(Lg);var ny=function(){function e(t){var n,r,a,i,s,o;p(this,e);var c=or(cr(t)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(a=c.mode)&&void 0!==a?a:null);Qm(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(i=c.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=c.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=c.tenantId)&&void 0!==o?o:null}return y(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=or(cr(e)).link,n=t?or(cr(t)).deep_link_id:null,r=or(cr(e)).deep_link_id;return(r?or(cr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}])}();var ry=function(){return y(function e(){p(this,e),this.providerId=e.PROVIDER_ID},null,[{key:"credential",value:function(e,t){return Wg._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ny.parseLink(t);return Qm(n,"argument-error"),Wg._fromEmailAndCode(e,n.code,n.tenantId)}}])}();ry.PROVIDER_ID="password",ry.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ry.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ay=function(){return y(function e(t){p(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}},[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}])}(),iy=function(e){function t(){var e;return p(this,t),(e=w(this,t,arguments)).scopes=[],e}return j(t,e),y(t,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}])}(ay),sy=function(e){function t(){return p(this,t),w(this,t,["facebook.com"])}return j(t,e),y(t,null,[{key:"credential",value:function(e){return Qg._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}])}(iy);sy.FACEBOOK_SIGN_IN_METHOD="facebook.com",sy.PROVIDER_ID="facebook.com";var oy=function(e){function t(){var e;return p(this,t),(e=w(this,t,["google.com"])).addScope("profile"),e}return j(t,e),y(t,null,[{key:"credential",value:function(e,n){return Qg._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthIdToken,a=n.oauthAccessToken;if(!r&&!a)return null;try{return t.credential(r,a)}catch(i){return null}}}])}(iy);oy.GOOGLE_SIGN_IN_METHOD="google.com",oy.PROVIDER_ID="google.com";var cy=function(e){function t(){return p(this,t),w(this,t,["github.com"])}return j(t,e),y(t,null,[{key:"credential",value:function(e){return Qg._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}])}(iy);cy.GITHUB_SIGN_IN_METHOD="github.com",cy.PROVIDER_ID="github.com";var uy=function(e){function t(){return p(this,t),w(this,t,["twitter.com"])}return j(t,e),y(t,null,[{key:"credential",value:function(e,n){return Qg._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthAccessToken,a=n.oauthTokenSecret;if(!r||!a)return null;try{return t.credential(r,a)}catch(i){return null}}}])}(iy);uy.TWITTER_SIGN_IN_METHOD="twitter.com",uy.PROVIDER_ID="twitter.com";var ly=function(){function e(t){p(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return y(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=_n(jn().m(function t(n,r,a){var i,s,o,c,u=arguments;return jn().w(function(t){for(;;)switch(t.n){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],t.n=1,Qv._fromIdTokenResponse(n,a,i);case 1:return s=t.v,o=dy(a),c=new e({user:s,providerId:o,_tokenResponse:a,operationType:r}),t.a(2,c)}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=_n(jn().m(function t(n,r,a){var i;return jn().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,n._updateTokensIfNecessary(a,!0);case 1:return i=dy(a),t.a(2,new e({user:n,providerId:i,_tokenResponse:a,operationType:r}))}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()}])}();function dy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var fy=function(e){function t(e,n,r,a){var i,s;return p(this,t),(s=w(this,t,[n.code,n.message])).operationType=r,s.user=a,Object.setPrototypeOf(s,t.prototype),s.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r},s}return j(t,e),y(t,null,[{key:"_fromErrorAndOperation",value:function(e,n,r,a){return new t(e,n,r,a)}}])}(er);function hy(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw fy._fromErrorAndOperation(e,n,t,r);throw n})}function py(e,t){return my.apply(this,arguments)}function my(){return my=_n(jn().m(function e(t,n){var r,a,i,s,o,c,u=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Dv,s=t,o=n,c=t.auth,e.n=1,t.getIdToken();case 1:return e.n=2,i(s,o._linkToIdToken.call(o,c,e.v),r);case 2:return a=e.v,e.a(2,ly._forOperation(t,"link",a))}},e)})),my.apply(this,arguments)}function vy(e,t){return gy.apply(this,arguments)}function gy(){return gy=_n(jn().m(function e(t,n){var r,a,i,s,o,c,u,l=arguments;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=l.length>2&&void 0!==l[2]&&l[2],!ta((a=t.auth).app)){e.n=1;break}return e.a(2,Promise.reject(Gm(a)));case 1:return i="reauthenticate",e.p=2,e.n=3,Dv(t,hy(a,i,n,t),r);case 3:return Qm((s=e.v).idToken,a,"internal-error"),Qm(o=Iv(s.idToken),a,"internal-error"),c=o.sub,Qm(t.uid===c,a,"user-mismatch"),e.a(2,ly._forOperation(t,i,s));case 4:throw e.p=4,(null===(u=e.v)||void 0===u?void 0:u.code)==="auth/".concat("user-not-found")&&qm(a,"user-mismatch"),u;case 5:return e.a(2)}},e,null,[[2,4]])})),gy.apply(this,arguments)}function yy(e,t){return by.apply(this,arguments)}function by(){return by=_n(jn().m(function e(t,n){var r,a,i,s,o=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:if(r=o.length>2&&void 0!==o[2]&&o[2],!ta(t.app)){e.n=1;break}return e.a(2,Promise.reject(Gm(t)));case 1:return a="signIn",e.n=2,hy(t,a,n);case 2:return i=e.v,e.n=3,ly._fromIdTokenResponse(t,a,i);case 3:if(s=e.v,r){e.n=4;break}return e.n=4,t._updateCurrentUser(s.user);case 4:return e.a(2,s)}},e)})),by.apply(this,arguments)}function ky(e,t){return xy.apply(this,arguments)}function xy(){return xy=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,yy(yg(t),n))},e)})),xy.apply(this,arguments)}function wy(e){return Ny.apply(this,arguments)}function Ny(){return Ny=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!(n=yg(t))._getPasswordPolicyInternal()){e.n=1;break}return e.n=1,n._updatePasswordPolicy();case 1:return e.a(2)}},e)})),Ny.apply(this,arguments)}function jy(e,t,n){return ta(e.app)?Promise.reject(Gm(e)):ky(dr(e),ry.credential(t,n)).catch(function(){var t=_n(jn().m(function t(n){return jn().w(function(t){for(;;)switch(t.n){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&wy(e),n;case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())}function Sy(e,t,n,r){return dr(e).onAuthStateChanged(t,n,r)}function _y(e){return dr(e).signOut()}function Ey(e,t){return cv(e,"POST","/v2/accounts/mfaEnrollment:start",ov(e,t))}function Cy(e,t){return cv(e,"POST","/v2/accounts/mfaEnrollment:start",ov(e,t))}function Ty(e,t){return cv(e,"POST","/v2/accounts/mfaEnrollment:finalize",ov(e,t))}new WeakMap;var Iy="__sak",Ay=function(){return y(function e(t,n){p(this,e),this.storageRetriever=t,this.type=n},[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Iy,"1"),this.storage.removeItem(Iy),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}])}(),Dy=function(e){function t(){var e;return p(this,t),(e=w(this,t,[function(){return window.localStorage},"LOCAL"])).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.fallbackToPolling=dg(),e._shouldAllowMigration=!0,e}return j(t,e),y(t,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],a=this.storage.getItem(r),i=this.localCache[r];a!==i&&e(r,i,a)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;n?this.detachListener():this.stopPolling();var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},i=this.storage.getItem(r);lg()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys(function(e,n,r){t.notifyListeners(e,r)})}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,a=Array.from(n);r<a.length;r++){(0,a[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(function(){e.forAllChangedKeys(function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=_n(jn().m(function e(n,r){return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Cn(t,"_set",this,3)([n,r]);case 1:this.localCache[n]=JSON.stringify(r);case 2:return e.a(2)}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_n(jn().m(function e(n){var r;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Cn(t,"_get",this,3)([n]);case 1:return r=e.v,this.localCache[n]=JSON.stringify(r),e.a(2,r)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_n(jn().m(function e(n){return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Cn(t,"_remove",this,3)([n]);case 1:delete this.localCache[n];case 2:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()}])}(Ay);Dy.type="LOCAL";var Py=Dy;function Ry(e){var t,n,r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(a))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Oy(e){var t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}var Ly=function(){return y(function e(){p(this,e),this.type="COOKIE",this.listenerUnsubscribes=new Map},[{key:"_getFinalTarget",value:function(e){if(void 0===typeof window)return e;var t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}},{key:"_isAvailable",value:function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.n){case 0:if("boolean"!==typeof isSecureContext||isSecureContext){e.n=1;break}return e.a(2,!1);case 1:if("undefined"!==typeof navigator&&"undefined"!==typeof document){e.n=2;break}return e.a(2,!1);case 2:return e.a(2,null===(t=navigator.cookieEnabled)||void 0===t||t)}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.n){case 0:if(this._isAvailable()){e.n=1;break}return e.a(2,null);case 1:if(n=Oy(t),!window.cookieStore){e.n=3;break}return e.n=2,window.cookieStore.get(n);case 2:return r=e.v,e.a(2,null===r||void 0===r?void 0:r.value);case 3:return e.a(2,Ry(n))}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:if(this._isAvailable()){e.n=1;break}return e.a(2);case 1:return e.n=2,this._get(t);case 2:if(e.v){e.n=3;break}return e.a(2);case 3:return n=Oy(t),document.cookie="".concat(n,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),e.n=4,fetch("/__cookies__",{method:"DELETE"}).catch(function(){});case 4:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){if(this._isAvailable()){var n=Oy(e);if(window.cookieStore){var r=function(e){var r=e.changed.find(function(e){return e.name===n});r&&t(r.value),e.deleted.find(function(e){return e.name===n})&&t(null)};return this.listenerUnsubscribes.set(t,function(){return window.cookieStore.removeEventListener("change",r)}),window.cookieStore.addEventListener("change",r)}var a=Ry(n),i=setInterval(function(){var e=Ry(n);e!==a&&(t(e),a=e)},1e3);this.listenerUnsubscribes.set(t,function(){return clearInterval(i)})}}},{key:"_removeListener",value:function(e,t){var n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}])}();Ly.type="COOKIE";var My=function(e){function t(){return p(this,t),w(this,t,[function(){return window.sessionStorage},"SESSION"])}return j(t,e),y(t,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}])}(Ay);My.type="SESSION";var Fy=My;function Vy(e){return Promise.all(e.map(function(){var e=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t;case 1:return n=e.v,e.a(2,{fulfilled:!0,value:n});case 2:return e.p=2,r=e.v,e.a(2,{fulfilled:!1,reason:r})}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}()))}var Uy=function(){function e(t){p(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return y(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=_n(jn().m(function e(t){var n,r,a,i,s,o,c,u;return jn().w(function(e){for(;;)switch(e.n){case 0:if(r=(n=t).data,a=r.eventId,i=r.eventType,s=r.data,null!==(o=this.handlersMap[i])&&void 0!==o&&o.size){e.n=1;break}return e.a(2);case 1:return n.ports[0].postMessage({status:"ack",eventId:a,eventType:i}),c=Array.from(o).map(function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,t(n.origin,s))},e)}));return function(t){return e.apply(this,arguments)}}()),e.n=2,Vy(c);case 2:u=e.v,n.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:u});case 3:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find(function(e){return e.isListeningto(t)});if(n)return n;var r=new e(t);return this.receivers.push(r),r}}])}();function zy(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Uy.receivers=[];var By=function(){return y(function e(t){p(this,e),this.target=t,this.handlers=new Set},[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=_n(jn().m(function e(t,n){var r,a,i,s,o=this,c=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,a="undefined"!==typeof MessageChannel?new MessageChannel:null){e.n=1;break}throw new Error("connection_unavailable");case 1:return e.a(2,new Promise(function(e,c){var u=zy("",20);a.port1.start();var l=setTimeout(function(){c(new Error("unsupported_event"))},r);s={messageChannel:a,onMessage:function(t){var n=t;if(n.data.eventId===u)switch(n.data.status){case"ack":clearTimeout(l),i=setTimeout(function(){c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),e(n.data.response);break;default:clearTimeout(l),clearTimeout(i),c(new Error("invalid_response"))}}},o.handlers.add(s),a.port1.addEventListener("message",s.onMessage),o.target.postMessage({eventType:t,eventId:u,data:n},[a.port2])}).finally(function(){s&&o.removeMessageHandler(s)}))}},e)}));return function(t,n){return e.apply(this,arguments)}}()}])}();function qy(){return window}function Hy(e){qy().location.href=e}function Wy(){return"undefined"!==typeof qy().WorkerGlobalScope&&"function"===typeof qy().importScripts}function Gy(){return Ky.apply(this,arguments)}function Ky(){return(Ky=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null!==(t=navigator)&&void 0!==t&&t.serviceWorker){e.n=1;break}return e.a(2,null);case 1:return e.p=1,e.n=2,navigator.serviceWorker.ready;case 2:return n=e.v,e.a(2,n.active);case 3:return e.p=3,e.v,e.a(2,null)}},e,null,[[1,3]])}))).apply(this,arguments)}function Qy(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}function Xy(){return Wy()?self:null}var Yy="firebaseLocalStorageDb",Jy="firebaseLocalStorage",$y="fbase_key",Zy=function(){return y(function e(t){p(this,e),this.request=t},[{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.request.addEventListener("success",function(){t(e.request.result)}),e.request.addEventListener("error",function(){n(e.request.error)})})}}])}();function eb(e,t){return e.transaction([Jy],t?"readwrite":"readonly").objectStore(Jy)}function tb(){var e=indexedDB.deleteDatabase(Yy);return new Zy(e).toPromise()}function nb(){var e=indexedDB.open(Yy,1);return new Promise(function(t,n){e.addEventListener("error",function(){n(e.error)}),e.addEventListener("upgradeneeded",function(){var t=e.result;try{t.createObjectStore(Jy,{keyPath:$y})}catch(ot){n(ot)}}),e.addEventListener("success",_n(jn().m(function n(){var r,a;return jn().w(function(n){for(;;)switch(n.n){case 0:if((r=e.result).objectStoreNames.contains(Jy)){n.n=3;break}return r.close(),n.n=1,tb();case 1:return a=t,n.n=2,nb();case 2:a(n.v),n.n=4;break;case 3:t(r);case 4:return n.a(2)}},n)})))})}function rb(e,t,n){return ab.apply(this,arguments)}function ab(){return ab=_n(jn().m(function e(t,n,r){var a;return jn().w(function(e){for(;;)if(0===e.n)return a=eb(t,!0).put(at(at({},$y,n),"value",r)),e.a(2,new Zy(a).toPromise())},e)})),ab.apply(this,arguments)}function ib(e,t){return sb.apply(this,arguments)}function sb(){return sb=_n(jn().m(function e(t,n){var r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:return r=eb(t,!1).get(n),e.n=1,new Zy(r).toPromise();case 1:return a=e.v,e.a(2,void 0===a?null:a.value)}},e)})),sb.apply(this,arguments)}function ob(e,t){var n=eb(e,!0).delete(t);return new Zy(n).toPromise()}var cb=function(){return y(function e(){p(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})},[{key:"_openDb",value:function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:if(!this.db){e.n=1;break}return e.a(2,this.db);case 1:return e.n=2,nb();case 2:return this.db=e.v,e.a(2,this.db)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=_n(jn().m(function e(t){var n,r,a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:n=0;case 1:return e.p=2,e.n=3,this._openDb();case 3:return r=e.v,e.n=4,t(r);case 4:return e.a(2,e.v);case 5:if(e.p=5,a=e.v,!(n++>3)){e.n=6;break}throw a;case 6:this.db&&(this.db.close(),this.db=void 0),e.n=1;break;case 7:return e.a(2)}},e,this,[[2,5]])}));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,Wy()?this.initializeReceiver():this.initializeSender())},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=_n(jn().m(function e(){var t=this;return jn().w(function(e){for(;;)switch(e.n){case 0:this.receiver=Uy._getInstance(Xy()),this.receiver._subscribe("keyChanged",function(){var e=_n(jn().m(function e(n,r){var a;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t._poll();case 1:return a=e.v,e.a(2,{keyProcessed:a.includes(r.key)})}},e)}));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,["keyChanged"])},e)}));return function(t,n){return e.apply(this,arguments)}}());case 1:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=_n(jn().m(function e(){var t,n,r;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Gy();case 1:if(this.activeServiceWorker=e.v,this.activeServiceWorker){e.n=2;break}return e.a(2);case 2:return this.sender=new By(this.activeServiceWorker),e.n=3,this.sender._send("ping",{},800);case 3:if(r=e.v){e.n=4;break}return e.a(2);case 4:null!==(t=r[0])&&void 0!==t&&t.fulfilled&&null!==(n=r[0])&&void 0!==n&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0);case 5:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.sender&&this.activeServiceWorker&&Qy()===this.activeServiceWorker){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,this,[[1,3]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,indexedDB){e.n=1;break}return e.a(2,!1);case 1:return e.n=2,nb();case 2:return t=e.v,e.n=3,rb(t,Iy,"1");case 3:return e.n=4,ob(t,Iy);case 4:return e.a(2,!0);case 5:return e.p=5,e.v,e.a(2,!1)}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return this.pendingWrites++,e.p=1,e.n=2,t();case 2:return e.p=2,this.pendingWrites--,e.f(2);case 3:return e.a(2)}},e,this,[[1,,2,3]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=_n(jn().m(function e(t,n){var r=this;return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,this._withPendingWrite(_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r._withRetries(function(e){return rb(e,t,n)});case 1:return r.localCache[t]=n,e.a(2,r.notifyServiceWorker(t))}},e)}))))},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._withRetries(function(e){return ib(e,t)});case 1:return n=e.v,this.localCache[t]=n,e.a(2,n)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_n(jn().m(function e(t){var n=this;return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,this._withPendingWrite(_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n._withRetries(function(e){return ob(e,t)});case 1:return delete n.localCache[t],e.a(2,n.notifyServiceWorker(t))}},e)}))))},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=_n(jn().m(function e(){var t,n,r,a,i,s,o,c,u,l,d;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._withRetries(function(e){var t=eb(e,!1).getAll();return new Zy(t).toPromise()});case 1:if(t=e.v){e.n=2;break}return e.a(2,[]);case 2:if(0===this.pendingWrites){e.n=3;break}return e.a(2,[]);case 3:if(n=[],r=new Set,0!==t.length){a=E(t);try{for(a.s();!(i=a.n()).done;)s=i.value,o=s.fbase_key,c=s.value,r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o))}catch(f){a.e(f)}finally{a.f()}}for(u=0,l=Object.keys(this.localCache);u<l.length;u++)d=l[u],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.a(2,n)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,a=Array.from(n);r<a.length;r++){(0,a[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(_n(jn().m(function t(){return jn().w(function(t){for(;;)if(0===t.n)return t.a(2,e._poll())},t)})),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}])}();cb.type="LOCAL";var ub=cb;function lb(e,t){return cv(e,"POST","/v2/accounts/mfaSignIn:start",ov(e,t))}function db(e,t){return cv(e,"POST","/v2/accounts/mfaSignIn:finalize",ov(e,t))}wg("rcb"),new tv(3e4,6e4);var fb="recaptcha";function hb(e,t,n){return pb.apply(this,arguments)}function pb(){return pb=_n(jn().m(function e(t,n,r){var a,i,s,o,c,u,l,d,f,h,p,m,v,g,y,b;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t._getRecaptchaConfig()){e.n=4;break}return e.p=1,e.n=2,Ag(t);case 2:e.n=4;break;case 3:e.p=3,e.v,console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.");case 4:if(e.p=4,!("session"in(a="string"===typeof n?{phoneNumber:n}:n))){e.n=9;break}if(i=a.session,!("phoneNumber"in a)){e.n=6;break}return Qm("enroll"===i.type,t,"internal-error"),s={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=function(){var e=_n(jn().m(function e(t,n){var a;return jn().w(function(e){for(;;)switch(e.n){case 0:if(n.phoneEnrollmentInfo.captchaResponse!==Sg){e.n=2;break}return Qm((null===r||void 0===r?void 0:r.type)===fb,t,"argument-error"),e.n=1,mb(t,n,r);case 1:return a=e.v,e.a(2,Ey(t,a));case 2:return e.a(2,Ey(t,n))}},e)}));return function(t,n){return e.apply(this,arguments)}}(),c=Tg(t,s,"mfaSmsEnrollment",o,"PHONE_PROVIDER"),e.n=5,c.catch(function(e){return Promise.reject(e)});case 5:return u=e.v,e.a(2,u.phoneSessionInfo.sessionInfo);case 6:return Qm("signin"===i.type,t,"internal-error"),Qm(d=(null===(l=a.multiFactorHint)||void 0===l?void 0:l.uid)||a.multiFactorUid,t,"missing-multi-factor-info"),f={mfaPendingCredential:i.credential,mfaEnrollmentId:d,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},h=function(){var e=_n(jn().m(function e(t,n){var a;return jn().w(function(e){for(;;)switch(e.n){case 0:if(n.phoneSignInInfo.captchaResponse!==Sg){e.n=2;break}return Qm((null===r||void 0===r?void 0:r.type)===fb,t,"argument-error"),e.n=1,mb(t,n,r);case 1:return a=e.v,e.a(2,lb(t,a));case 2:return e.a(2,lb(t,n))}},e)}));return function(t,n){return e.apply(this,arguments)}}(),p=Tg(t,f,"mfaSmsSignIn",h,"PHONE_PROVIDER"),e.n=7,p.catch(function(e){return Promise.reject(e)});case 7:return m=e.v,e.a(2,m.phoneResponseInfo.sessionInfo);case 8:e.n=11;break;case 9:return v={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"},g=function(){var e=_n(jn().m(function e(t,n){var a;return jn().w(function(e){for(;;)switch(e.n){case 0:if(n.captchaResponse!==Sg){e.n=2;break}return Qm((null===r||void 0===r?void 0:r.type)===fb,t,"argument-error"),e.n=1,mb(t,n,r);case 1:return a=e.v,e.a(2,Xg(t,a));case 2:return e.a(2,Xg(t,n))}},e)}));return function(t,n){return e.apply(this,arguments)}}(),y=Tg(t,v,"sendVerificationCode",g,"PHONE_PROVIDER"),e.n=10,y.catch(function(e){return Promise.reject(e)});case 10:return b=e.v,e.a(2,b.sessionInfo);case 11:return e.p=11,null===r||void 0===r||r._reset(),e.f(11);case 12:return e.a(2)}},e,null,[[4,,11,12],[1,3]])})),pb.apply(this,arguments)}function mb(e,t,n){return vb.apply(this,arguments)}function vb(){return vb=_n(jn().m(function e(t,n,r){var a,i,s,o,c,u,l,d,f;return jn().w(function(e){for(;;)switch(e.n){case 0:return Qm(r.type===fb,t,"argument-error"),e.n=1,r.verify();case 1:if(Qm("string"===typeof(a=e.v),t,"argument-error"),!("phoneEnrollmentInfo"in(i=st({},n)))){e.n=2;break}return s=i.phoneEnrollmentInfo.phoneNumber,o=i.phoneEnrollmentInfo.captchaResponse,c=i.phoneEnrollmentInfo.clientType,u=i.phoneEnrollmentInfo.recaptchaVersion,Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:a,captchaResponse:o,clientType:c,recaptchaVersion:u}}),e.a(2,i);case 2:if(!("phoneSignInInfo"in i)){e.n=3;break}return l=i.phoneSignInInfo.captchaResponse,d=i.phoneSignInInfo.clientType,f=i.phoneSignInInfo.recaptchaVersion,Object.assign(i,{phoneSignInInfo:{recaptchaToken:a,captchaResponse:l,clientType:d,recaptchaVersion:f}}),e.a(2,i);case 3:return Object.assign(i,{recaptchaToken:a}),e.a(2,i);case 4:return e.a(2)}},e)})),vb.apply(this,arguments)}var gb=function(){function e(t){p(this,e),this.providerId=e.PROVIDER_ID,this.auth=yg(t)}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return hb(this.auth,e,dr(t))}}],[{key:"credential",value:function(e,t){return ty._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ty._fromTokenResponse(n,r):null}}])}();function yb(e,t){return t?Yv(t):(Qm(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}gb.PROVIDER_ID="phone",gb.PHONE_SIGN_IN_METHOD="phone";var bb=function(e){function t(e){var n;return p(this,t),(n=w(this,t,["custom","custom"])).params=e,n}return j(t,e),y(t,[{key:"_getIdTokenResponse",value:function(e){return Gg(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Gg(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Gg(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}])}(Lg);function kb(e){return yy(e.auth,new bb(e),e.bypassAuthState)}function xb(e){var t=e.auth,n=e.user;return Qm(n,t,"internal-error"),vy(n,new bb(e),e.bypassAuthState)}function wb(e){return Nb.apply(this,arguments)}function Nb(){return Nb=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)if(0===e.n)return n=t.auth,Qm(r=t.user,n,"internal-error"),e.a(2,py(r,new bb(t),t.bypassAuthState))},e)})),Nb.apply(this,arguments)}var jb=function(){return y(function e(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];p(this,e),this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]},[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=_n(jn().m(function t(n,r){var a;return jn().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.pendingPromise={resolve:n,reject:r},t.p=1,t.n=2,e.resolver._initialize(e.auth);case 2:return e.eventManager=t.v,t.n=3,e.onExecution();case 3:e.eventManager.registerConsumer(e),t.n=5;break;case 4:t.p=4,a=t.v,e.reject(a);case 5:return t.a(2)}},t,null,[[1,4]])}));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=_n(jn().m(function e(t){var n,r,a,i,s,o,c,u,l;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=t.urlResponse,r=t.sessionId,a=t.postBody,i=t.tenantId,s=t.error,o=t.type,!s){e.n=1;break}return this.reject(s),e.a(2);case 1:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.p=2,u=this,e.n=3,this.getIdpTask(o)(c);case 3:u.resolve.call(u,e.v),e.n=5;break;case 4:e.p=4,l=e.v,this.reject(l);case 5:return e.a(2)}},e,this,[[2,4]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kb;case"linkViaPopup":case"linkViaRedirect":return wb;case"reauthViaPopup":case"reauthViaRedirect":return xb;default:qm(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ym(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ym(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}])}(),Sb=new tv(2e3,1e4);var _b=function(e){function t(e,n,r,a,i){var s;return p(this,t),(s=w(this,t,[e,n,a,i])).provider=r,s.authWindow=null,s.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=s,s}return j(t,e),y(t,[{key:"executeNotNull",value:function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.execute();case 1:return Qm(t=e.v,this.auth,"internal-error"),e.a(2,t)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=_n(jn().m(function e(){var t,n=this;return jn().w(function(e){for(;;)switch(e.n){case 0:return Ym(1===this.filter.length,"Popup operations only handle one event"),t=zy(),e.n=1,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 1:this.authWindow=e.v,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(function(e){n.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,function(e){e||n.reject(Hm(n.auth,"web-storage-unsupported"))}),this.pollUserCancellation();case 2:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Hm(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this,t=function(){var n;null!==(n=e.authWindow)&&void 0!==n&&null!==(n=n.window)&&void 0!==n&&n.closed?e.pollId=window.setTimeout(function(){e.pollId=null,e.reject(Hm(e.auth,"popup-closed-by-user"))},8e3):e.pollId=window.setTimeout(t,Sb.get())};t()}}])}(jb);_b.currentPopupAction=null;var Eb=new Map,Cb=function(e){function t(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p(this,t),(r=w(this,t,[e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a])).eventId=null,r}return j(t,e),y(t,[{key:"execute",value:function(){var e=_n(jn().m(function e(){var n,r,a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=Eb.get(this.auth._key())){e.n=8;break}return e.p=1,e.n=2,Tb(this.resolver,this.auth);case 2:if(!e.v){e.n=4;break}return e.n=3,Cn(t,"execute",this,3)([]);case 3:a=e.v,e.n=5;break;case 4:a=null;case 5:r=a,n=function(){return Promise.resolve(r)},e.n=7;break;case 6:e.p=6,i=e.v,n=function(){return Promise.reject(i)};case 7:Eb.set(this.auth._key(),n);case 8:return this.bypassAuthState||Eb.set(this.auth._key(),function(){return Promise.resolve(null)}),e.a(2,n())}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=_n(jn().m(function e(n){var r;return jn().w(function(e){for(;;)switch(e.n){case 0:if("signInViaRedirect"!==n.type){e.n=1;break}return e.a(2,Cn(t,"onAuthEvent",this,3)([n]));case 1:if("unknown"!==n.type){e.n=2;break}return this.resolve(null),e.a(2);case 2:if(!n.eventId){e.n=5;break}return e.n=3,this.auth._redirectUserForId(n.eventId);case 3:if(!(r=e.v)){e.n=4;break}return this.user=r,e.a(2,Cn(t,"onAuthEvent",this,3)([n]));case 4:this.resolve(null);case 5:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}])}(jb);function Tb(e,t){return Ib.apply(this,arguments)}function Ib(){return Ib=_n(jn().m(function e(t,n){var r,a,i,s;return jn().w(function(e){for(;;)switch(e.n){case 0:return r=Pb(n),a=Db(t),e.n=1,a._isAvailable();case 1:if(e.v){e.n=2;break}return e.a(2,!1);case 2:return e.n=3,a._get(r);case 3:return s=e.v,i="true"===s,e.n=4,a._remove(r);case 4:return e.a(2,i)}},e)})),Ib.apply(this,arguments)}function Ab(e,t){Eb.set(e._key(),t)}function Db(e){return Yv(e._redirectPersistence)}function Pb(e){return Zv("pendingRedirect",e.config.apiKey,e.name)}function Rb(e,t){return Ob.apply(this,arguments)}function Ob(){return Ob=_n(jn().m(function e(t,n){var r,a,i,s,o,c=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:if(r=c.length>2&&void 0!==c[2]&&c[2],!ta(t.app)){e.n=1;break}return e.a(2,Promise.reject(Gm(t)));case 1:return a=yg(t),i=yb(a,n),s=new Cb(a,i,r),e.n=2,s.execute();case 2:if(!(o=e.v)||r){e.n=4;break}return delete o.user._redirectEventId,e.n=3,a._persistUserIfCurrent(o.user);case 3:return e.n=4,a._setRedirectUser(null,n);case 4:return e.a(2,o)}},e)})),Ob.apply(this,arguments)}var Lb=function(){return y(function e(t){p(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()},[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach(function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fb(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){if(e.error&&!Fb(e)){var n,r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Hm(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mb(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Mb(e)),this.lastProcessedEventTime=Date.now()}}])}();function Mb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(function(e){return e}).join("-")}function Fb(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Vb(e){return Ub.apply(this,arguments)}function Ub(){return Ub=_n(jn().m(function e(t){var n,r=arguments;return jn().w(function(e){for(;;)if(0===e.n)return n=r.length>1&&void 0!==r[1]?r[1]:{},e.a(2,cv(t,"GET","/v1/projects",n))},e)})),Ub.apply(this,arguments)}var zb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bb=/^https?/;function qb(){return qb=_n(jn().m(function e(t){var n,r,a,i,s,o;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!t.config.emulator){e.n=1;break}return e.a(2);case 1:return e.n=2,Vb(t);case 2:n=e.v,r=n.authorizedDomains,a=E(r),e.p=3,a.s();case 4:if((i=a.n()).done){e.n=9;break}if(s=i.value,e.p=5,!Hb(s)){e.n=6;break}return e.a(2);case 6:e.n=8;break;case 7:e.p=7,e.v;case 8:e.n=4;break;case 9:e.n=11;break;case 10:e.p=10,o=e.v,a.e(o);case 11:return e.p=11,a.f(),e.f(11);case 12:qm(t,"unauthorized-domain");case 13:return e.a(2)}},e,null,[[5,7],[3,10,11,12]])})),qb.apply(this,arguments)}function Hb(e){var t=Jm(),n=new URL(t),r=n.protocol,a=n.hostname;if(e.startsWith("chrome-extension://")){var i=new URL(e);return""===i.hostname&&""===a?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&i.hostname===a}if(!Bb.test(r))return!1;if(zb.test(e))return a===e;var s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(a)}var Wb=new tv(3e4,6e4);function Gb(){var e=qy().___jsl;if(null!==e&&void 0!==e&&e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var a=0;a<e.CP.length;a++)e.CP[a]=null}}function Kb(e){return new Promise(function(t,n){var r,a;function i(){Gb(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Gb(),n(Hm(e,"network-request-failed"))},timeout:Wb.get()})}if(null!==(r=qy().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(a=qy().gapi)||void 0===a||!a.load){var s=wg("iframefcb");return qy()[s]=function(){gapi.load?i():n(Hm(e,"network-request-failed"))},xg("".concat(kg.gapiScript,"?onload=").concat(s)).catch(function(e){return n(e)})}i()}}).catch(function(e){throw Qb=null,e})}var Qb=null;function Xb(e){return Qb=Qb||Kb(e)}var Yb=new tv(5e3,15e3),Jb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$b=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zb(e){var t=e.config;Qm(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?nv(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ia},a=$b.get(e.config.apiHost);a&&(r.eid=a);var i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(sr(r).slice(1))}function ek(e){return tk.apply(this,arguments)}function tk(){return tk=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Xb(t);case 1:return n=e.v,Qm(r=qy().gapi,t,"internal-error"),e.a(2,n.open({where:document.body,url:Zb(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jb,dontclear:!0},function(e){return new Promise(function(){var n=_n(jn().m(function n(r,a){var i,s,o;return jn().w(function(n){for(;;)switch(n.n){case 0:return o=function(){qy().clearTimeout(s),r(e)},n.n=1,e.restyle({setHideOnLeave:!1});case 1:i=Hm(t,"network-request-failed"),s=qy().setTimeout(function(){a(i)},Yb.get()),e.ping(o).then(o,function(){a(i)});case 2:return n.a(2)}},n)}));return function(e,t){return n.apply(this,arguments)}}())}))}},e)})),tk.apply(this,arguments)}var nk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rk=function(){return y(function e(t){p(this,e),this.window=t,this.associatedEvent=null},[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(ot){}}}])}();function ak(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",u=st(st({},nk),{},{width:r.toString(),height:a.toString(),top:i,left:s}),l=Qn().toLowerCase();n&&(o=ag(l)?"_blank":n),ng(l)&&(t=t||"http://localhost",u.scrollbars="yes");var d=Object.entries(u).reduce(function(e,t){var n=c(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")},"");if(function(){var e;return ug(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==o)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new rk(null);var f=window.open(t||"",o,d);Qm(f,e,"popup-blocked");try{f.focus()}catch(ot){}return new rk(f)}var ik=encodeURIComponent("fac");function sk(e,t,n,r,a,i){return ok.apply(this,arguments)}function ok(){return ok=_n(jn().m(function e(t,n,r,a,i,s){var o,u,l,d,f,h,p,m,v,g,y,b,k;return jn().w(function(e){for(;;)switch(e.n){case 0:if(Qm(t.config.authDomain,t,"auth-domain-config-required"),Qm(t.config.apiKey,t,"invalid-api-key"),o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:a,v:ia,eventId:i},n instanceof ay)for(n.setDefaultLanguage(t.languageCode),o.providerId=n.providerId||"",rr(n.getCustomParameters())||(o.customParameters=JSON.stringify(n.getCustomParameters())),u=0,l=Object.entries(s||{});u<l.length;u++)d=c(l[u],2),f=d[0],h=d[1],o[f]=h;for(n instanceof iy&&(p=n.getScopes().filter(function(e){return""!==e})).length>0&&(o.scopes=p.join(",")),t.tenantId&&(o.tid=t.tenantId),m=o,v=0,g=Object.keys(m);v<g.length;v++)y=g[v],void 0===m[y]&&delete m[y];return e.n=1,t._getAppCheckToken();case 1:return b=e.v,k=b?"#".concat(ik,"=").concat(encodeURIComponent(b)):"",e.a(2,"".concat(ck(t),"?").concat(sr(m).slice(1)).concat(k))}},e)})),ok.apply(this,arguments)}function ck(e){var t=e.config;return t.emulator?nv(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/").concat("__/auth/handler")}var uk="webStorageSupport",lk=function(){return y(function e(){p(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fy,this._completeRedirectFn=Rb,this._overrideRedirectResult=Ab},[{key:"_openPopup",value:function(){var e=_n(jn().m(function e(t,n,r,a){var i,s;return jn().w(function(e){for(;;)switch(e.n){case 0:return Ym(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),e.n=1,sk(t,n,r,Jm(),a);case 1:return s=e.v,e.a(2,ak(t,s,zy()))}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=_n(jn().m(function e(t,n,r,a){return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._originValidation(t);case 1:return e.n=2,sk(t,n,r,Jm(),a);case 2:return Hy(e.v),e.a(2,new Promise(function(){}))}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],a=r.manager,i=r.promise;return a?Promise.resolve(a):(Ym(i,"If manager is not set, promise should be"),i)}var s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(function(){delete t.eventManagers[n]}),s}},{key:"initAndGetManager",value:function(){var e=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ek(t);case 1:return n=e.v,r=new Lb(t),n.register("authEvent",function(e){return Qm(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.a(2,r)}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(uk,{type:uk},function(n){var r,a=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[uk];void 0!==a&&t(!!a),qm(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return qb.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return dg()||rg()||ug()}}])}(),dk=lk,fk=function(){return y(function e(t){p(this,e),this.factorId=t},[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Xm("unexpected MultiFactorSessionType")}}}])}(),hk=function(e){function t(e){var n;return p(this,t),(n=w(this,t,["phone"])).credential=e,n}return j(t,e),y(t,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return cv(e,"POST","/v2/accounts/mfaEnrollment:finalize",ov(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return cv(e,"POST","/v2/accounts/mfaSignIn:finalize",ov(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new t(e)}}])}(fk);(function(){return y(function e(){p(this,e)},null,[{key:"assertion",value:function(e){return hk._fromCredential(e)}}])}()).FACTOR_ID="phone",(function(){return y(function e(){p(this,e)},null,[{key:"assertionForEnrollment",value:function(e,t){return pk._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return pk._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=_n(jn().m(function e(t){var n,r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:return Qm("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.n=1,Cy(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 1:return a=e.v,e.a(2,mk._fromStartTotpMfaEnrollmentResponse(a,r.user.auth))}},e)}));return function(t){return e.apply(this,arguments)}}()}])}()).FACTOR_ID="totp";var pk=function(e){function t(e,n,r){var a;return p(this,t),(a=w(this,t,["totp"])).otp=e,a.enrollmentId=n,a.secret=r,a}return j(t,e),y(t,[{key:"_finalizeEnroll",value:function(){var e=_n(jn().m(function e(t,n,r){return jn().w(function(e){for(;;)if(0===e.n)return Qm("undefined"!==typeof this.secret,t,"argument-error"),e.a(2,Ty(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=_n(jn().m(function e(t,n){var r;return jn().w(function(e){for(;;)if(0===e.n)return Qm(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.a(2,db(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}))},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,n){return new t(n,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,n){return new t(n,e)}}])}(fk),mk=function(){function e(t,n,r,a,i,s,o){p(this,e),this.sessionInfo=s,this.auth=o,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=a,this.enrollmentCompletionDeadline=i}return y(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n=!1;if((vk(e)||vk(t))&&(n=!0),n){var r;if(vk(e))e=(null===(r=this.auth.currentUser)||void 0===r?void 0:r.email)||"unknownuser";vk(t)&&(t=this.auth.name)}return"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}])}();function vk(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var gk="@firebase/auth",yk="1.11.1",bk=function(){return y(function e(t){p(this,e),this.auth=t,this.internalListeners=new Map},[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:return this.assertAuthConfigured(),e.n=1,this.auth._initializationPromise;case 1:if(this.auth.currentUser){e.n=2;break}return e.a(2,null);case 2:return e.n=3,this.auth.currentUser.getIdToken(t);case 3:return n=e.v,e.a(2,{accessToken:n})}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged(function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Qm(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}])}();var kk,xk=Vn("authIdTokenMaxAge")||300,wk=null;!function(e){kg=e}({loadJS:function(e){return new Promise(function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Hm("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),kk="Browser",Zr(new fr("auth",function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),s=r.options,o=s.apiKey,c=s.authDomain;Qm(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});var u={apiKey:o,authDomain:c,clientPlatform:kk,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fg(kk)},l=new gg(r,a,i,u);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yv);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider("auth-internal").initialize()})),Zr(new fr("auth-internal",function(e){return function(e){return new bk(e)}(yg(e.getProvider("auth").getImmediate()))},"PRIVATE").setInstantiationMode("EXPLICIT")),ca(gk,yk,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(kk)),ca(gk,yk,"esm2020");var Nk,jk="firebasestorage.googleapis.com",Sk="storageBucket",_k=function(e){function t(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return p(this,t),(r=w(this,t,[Ek(e),"Firebase Storage: ".concat(n," (").concat(Ek(e),")")])).status_=a,r.customData={serverResponse:null},r._baseMessage=r.message,Object.setPrototypeOf(r,t.prototype),r}return j(t,e),y(t,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Ek(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}])}(er);function Ek(e){return"storage/"+e}function Ck(){return new _k(Nk.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Tk(){return new _k(Nk.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ik(){return new _k(Nk.CANCELED,"User canceled the upload/download.")}function Ak(){return new _k(Nk.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dk(e){return new _k(Nk.INVALID_ARGUMENT,e)}function Pk(){return new _k(Nk.APP_DELETED,"The Firebase app was deleted.")}function Rk(e,t){return new _k(Nk.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ok(e){throw new _k(Nk.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Nk||(Nk={}));var Lk,Mk=function(){function e(t,n){p(this,e),this.bucket=t,this.path_=n}return y(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,a;try{r=e.makeFromUrl(t,n)}catch(ot){return new e(t,"")}if(""===r.path)return r;throw a=t,new _k(Nk.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,a="([A-Za-z0-9.\\-_]+)";var i=new RegExp("^gs://"+a+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}for(var o=n.replace(/[.]/g,"\\."),c=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(a,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(n===jk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(a,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}],u=0;u<c.length;u++){var l=c[u],d=l.regex.exec(t);if(d){var f=d[l.indices.bucket],h=d[l.indices.path];h||(h=""),r=new e(f,h),l.postModify(r);break}}if(null==r)throw function(e){return new _k(Nk.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}])}(),Fk=function(){return y(function e(t){p(this,e),this.promise_=Promise.reject(t)},[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}])}();function Vk(e){return"string"===typeof e||e instanceof String}function Uk(e){return zk()&&e instanceof Blob}function zk(){return"undefined"!==typeof Blob}function Bk(e,t,n,r){if(r<t)throw Dk("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Dk("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function qk(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Hk(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function Wk(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==t.indexOf(e);return n||r||a}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Lk||(Lk={}));var Gk=function(){return y(function e(t,n,r,a,i,s,o,c,u,l,d){var f=this,h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],m=arguments.length>12&&void 0!==arguments[12]&&arguments[12];p(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(function(e,t){f.resolve_=e,f.reject_=t,f.start_()})},[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,a=e.reject_,i=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(i,i.getResponse());!function(e){return void 0!==e}(s)?r():r(s)}catch(ot){a(ot)}else if(null!==i){var o=Ck();o.serverResponse=i.getErrorText(),e.errorCallback_?a(e.errorCallback_(i,o)):a(o)}else{if(n.canceled)a(e.appDelete_?Pk():Ik());else a(Tk())}};this.canceled_?t(0,new Kk(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,a=null,i=null,s=!1,o=0;function c(){return 2===o}var u=!1;function l(){if(!u){u=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){a=setTimeout(function(){a=null,e(h,c())},t)}function f(){i&&clearTimeout(i)}function h(e){if(u)f();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(e)return f(),void l.call.apply(l,[null,e].concat(n));var i;if(c()||s)return f(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===o?(o=2,i=0):i=1e3*(r+Math.random()),d(i)}}var p=!1;function m(e){p||(p=!0,f(),u||(null!==a?(e||(o=2),clearTimeout(a),d(0)):e||(o=1)))}return d(0),i=setTimeout(function(){s=!0,m(!0)},n),m}(function(t,n){if(n)t(!1,new Kk(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var a=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(a),r.send(e.url_,e.method_,e.isUsingEmulator,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&r.removeUploadProgressListener(a),e.pendingConnection_=null;var n=r.getErrorCode()===Lk.NO_ERROR,i=r.getStatus();if(!n||Wk(i,e.additionalRetryCodes_)&&e.retry){var s=r.getErrorCode()===Lk.ABORT;t(!1,new Kk(!1,null,s))}else{var o=-1!==e.successCodes_.indexOf(i);t(!0,new Kk(o,r))}})}},t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}])}(),Kk=y(function e(t,n,r){p(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r});function Qk(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Xk(){for(var e=Qk(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var a=new e,i=0;i<n.length;i++)a.append(n[i]);return a.getBlob()}if(zk())return new Blob(n);throw new _k(Nk.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Yk(e){if("undefined"===typeof atob)throw t="base-64",new _k(Nk.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var Jk="raw",$k="base64",Zk="base64url",ex="data_url",tx=y(function e(t,n){p(this,e),this.data=t,this.contentType=n||null});function nx(e,t){switch(e){case Jk:return new tx(rx(t));case $k:case Zk:return new tx(ax(e,t));case ex:return new tx(function(e){var t=new ix(e);return t.base64?ax($k,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(ot){throw Rk(ex,"Malformed data URL.")}return rx(t)}(t.rest)}(t),new ix(t).contentType)}throw Ck()}function rx(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ax(e,t){switch(e){case $k:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Rk(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Zk:var a=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(a||i)throw Rk(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=Yk(t)}catch(ot){if(ot.message.includes("polyfill"))throw ot;throw Rk(e,"Invalid character found")}for(var o=new Uint8Array(s.length),c=0;c<s.length;c++)o[c]=s.charCodeAt(c);return o}var ix=y(function e(t){p(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Rk(ex,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)});var sx=function(){function e(t,n){p(this,e);var r=0,a="";Uk(t)?(this.data_=t,r=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=a}return y(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Uk(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(zk()){var a=n.map(function(t){return t instanceof e?t.data_:t});return new e(Xk.apply(null,a))}var i=n.map(function(e){return Vk(e)?nx(Jk,e).data:e.data_}),s=0;i.forEach(function(e){s+=e.byteLength});var o=new Uint8Array(s),c=0;return i.forEach(function(e){for(var t=0;t<e.length;t++)o[c++]=e[t]}),new e(o,!0)}}])}();function ox(e){var t;try{t=JSON.parse(e)}catch(ot){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function cx(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ux(e,t){return t}var lx=y(function e(t,n,r,a){p(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=a||ux}),dx=null;function fx(){if(dx)return dx;var e=[];e.push(new lx("bucket")),e.push(new lx("generation")),e.push(new lx("metageneration")),e.push(new lx("name","fullPath",!0));var t=new lx("name");t.xform=function(e,t){return function(e){return!Vk(e)||e.length<2?e:cx(e)}(t)},e.push(t);var n=new lx("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new lx("timeCreated")),e.push(new lx("updated")),e.push(new lx("md5Hash",null,!0)),e.push(new lx("cacheControl",null,!0)),e.push(new lx("contentDisposition",null,!0)),e.push(new lx("contentEncoding",null,!0)),e.push(new lx("contentLanguage",null,!0)),e.push(new lx("contentType",null,!0)),e.push(new lx("metadata","customMetadata",!0)),dx=e}function hx(e,t,n){for(var r={type:"file"},a=n.length,i=0;i<a;i++){var s=n[i];r[s.local]=s.xform(r,t[s.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,a=new Mk(n,r);return t._makeStorageReference(a)}})}(r,e),r}function px(e,t,n){var r=ox(t);return null===r?null:hx(e,r,n)}function mx(e,t){for(var n={},r=t.length,a=0;a<r;a++){var i=t[a];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}var vx=y(function e(t,n,r,a){p(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]});function gx(e){if(!e)throw Ck()}function yx(e,t){return function(n,r){var a=px(e,r,t);return gx(null!==a),a}}function bx(e,t){return function(n,r){var a=px(e,r,t);return gx(null!==a),function(e,t,n,r){var a=ox(t);if(null===a)return null;if(!Vk(a.downloadTokens))return null;var i=a.downloadTokens;if(0===i.length)return null;var s=encodeURIComponent;return i.split(",").map(function(t){var a=e.bucket,i=e.fullPath;return qk("/b/"+s(a)+"/o/"+s(i),n,r)+Hk({alt:"media",token:t})})[0]}(a,r,e.host,e._protocol)}}function kx(e){return function(t,n){var r,a,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new _k(Nk.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new _k(Nk.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new _k(Nk.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(a=e.path,r=new _k(Nk.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function xx(e){var t=kx(e);return function(n,r){var a,i=t(n,r);return 404===n.getStatus()&&(a=e.path,i=new _k(Nk.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function wx(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Nx(e,t,n,r,a){var i=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};var o=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+o;var c=wx(t,r,a),u="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mx(c,n)+"\r\n--"+o+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",l="\r\n--"+o+"--",d=sx.getBlob(u,r,l);if(null===d)throw Ak();var f={name:c.fullPath},h=qk(i,e.host,e._protocol),p=e.maxUploadRetryTime,m=new vx(h,"POST",yx(e,n),p);return m.urlParams=f,m.headers=s,m.body=d.uploadData(),m.errorHandler=kx(t),m}var jx=function(){return y(function e(){var t=this;p(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lk.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Lk.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Lk.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})},[{key:"send",value:function(e,t,n,r,a){if(this.sent_)throw Ok("cannot .send() more than once");if(zn(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==a)for(var i in a)a.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,a[i].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Ok("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Ok("cannot .getStatus() before sending");try{return this.xhr_.status}catch(ot){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Ok("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Ok("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}])}(),Sx=function(e){function t(){return p(this,t),w(this,t,arguments)}return j(t,e),y(t,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}])}(jx);function _x(){return new Sx}var Ex=function(){function e(t,n){p(this,e),this._service=t,this._location=n instanceof Mk?n:Mk.makeFromUrl(n,t.host)}return y(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Mk(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return cx(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Mk(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new _k(Nk.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}])}();function Cx(e,t,n){e._throwIfRoot("uploadBytes");var r=Nx(e.storage,e._location,fx(),new sx(t,!0),n);return e.storage.makeRequestWithTokens(r,_x).then(function(t){return{metadata:t,ref:e}})}function Tx(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=qk(t.fullServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,i=new vx(r,"GET",bx(e,n),a);return i.errorHandler=xx(t),i}(e.storage,e._location,fx());return e.storage.makeRequestWithTokens(t,_x).then(function(e){if(null===e)throw new _k(Nk.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function Ix(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=qk(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,a=new vx(n,"DELETE",function(e,t){},r);return a.successCodes=[200,204],a.errorHandler=xx(t),a}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,_x)}function Ax(e,t){var n=function(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Mk(e._location.bucket,n);return new Ex(e.storage,r)}function Dx(e,t){if(e instanceof Ox){var n=e;if(null==n._bucket)throw new _k(Nk.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Sk+"' property when initializing the app?");var r=new Ex(n,n._bucket);return null!=t?Dx(r,t):r}return void 0!==t?Ax(e,t):e}function Px(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Ox)return new Ex(e,t);throw Dk("To use ref(service, url), the first argument must be a Storage instance.")}return Dx(e,t)}function Rx(e,t){var n=null===t||void 0===t?void 0:t[Sk];return null==n?null:Mk.makeFromBucketSpec(n,e)}var Ox=function(){return y(function e(t,n,r,a,i){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];p(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=jk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?Mk.makeFromBucketSpec(a,this._host):Rx(this._host,this.app.options)},[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Mk.makeFromBucketSpec(this._url,e):this._bucket=Rx(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Bk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Bk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!this._overrideAuthToken){e.n=1;break}return e.a(2,this._overrideAuthToken);case 1:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.n=3;break}return e.n=2,t.getToken();case 2:if(null===(n=e.v)){e.n=3;break}return e.a(2,n.accessToken);case 3:return e.a(2,null)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!ta(this.app)||!this.app.settings.appCheckToken){e.n=1;break}return e.a(2,this.app.settings.appCheckToken);case 1:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.n=3;break}return e.n=2,t.getToken();case 2:return n=e.v,e.a(2,n.token);case 3:return e.a(2,null)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Ex(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var a=this,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Fk(Pk());var s=function(e,t,n,r,a,i){var s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=Hk(e.urlParams),u=e.url+c,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new Gk(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,s,o)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(function(){return a._requests.delete(s)},function(){return a._requests.delete(s)}),s}},{key:"makeRequestWithTokens",value:function(){var e=_n(jn().m(function e(t,n){var r,a,i,s;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 1:return r=e.v,a=c(r,2),i=a[0],s=a[1],e.a(2,this._makeRequest(t,n,i,s).getPromise())}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}])}(),Lx="@firebase/storage",Mx="0.14.0",Fx="storage";function Vx(e,t,n){return Cx(e=dr(e),t,n)}function Ux(e){return Tx(e=dr(e))}function zx(e){return Ix(e=dr(e))}function Bx(e,t){return Px(e=dr(e),t)}function qx(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);var a=zn(t);a&&(Bn("https://".concat(e.host,"/b")),Kn("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Hn(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function Hx(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Ox(r,a,i,n,ia)}Zr(new fr(Fx,Hx,"PUBLIC").setMultipleInstances(!0)),ca(Lx,Mx,""),ca(Lx,Mx,"esm2020");var Wx="@firebase/installations",Gx="0.6.19",Kx=1e4,Qx="w:".concat(Gx),Xx="FIS_v2",Yx=36e5,Jx=at(at(at(at(at(at({},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),"not-registered","Firebase Installation is not registered."),"installation-not-found","Firebase Installation not found."),"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),"app-offline","Could not process request. Application offline."),"delete-pending-registration","Can't delete installation while there is a pending registration request."),$x=new tr("installations","Installations",Jx);function Zx(e){return e instanceof er&&e.code.includes("request-failed")}function ew(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function tw(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function nw(e,t){return rw.apply(this,arguments)}function rw(){return(rw=_n(jn().m(function e(t,n){var r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.json();case 1:return r=e.v,a=r.error,e.a(2,$x.create("request-failed",{requestName:t,serverCode:a.code,serverMessage:a.message,serverStatus:a.status}))}},e)}))).apply(this,arguments)}function aw(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function iw(e,t){var n=t.refreshToken,r=aw(e);return r.append("Authorization",function(e){return"".concat(Xx," ").concat(e)}(n)),r}function sw(e){return ow.apply(this,arguments)}function ow(){return(ow=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t();case 1:if(!((n=e.v).status>=500&&n.status<600)){e.n=2;break}return e.a(2,t());case 2:return e.a(2,n)}},e)}))).apply(this,arguments)}function cw(e,t){return uw.apply(this,arguments)}function uw(){return(uw=_n(jn().m(function e(t,n){var r,a,i,s,o,c,u,l,d,f,h,p;return jn().w(function(e){for(;;)switch(e.n){case 0:if(r=t.appConfig,a=t.heartbeatServiceProvider,i=n.fid,s=ew(r),o=aw(r),!(c=a.getImmediate({optional:!0}))){e.n=2;break}return e.n=1,c.getHeartbeatsHeader();case 1:(u=e.v)&&o.append("x-firebase-client",u);case 2:return l={fid:i,authVersion:Xx,appId:r.appId,sdkVersion:Qx},d={method:"POST",headers:o,body:JSON.stringify(l)},e.n=3,sw(function(){return fetch(s,d)});case 3:if(!(f=e.v).ok){e.n=5;break}return e.n=4,f.json();case 4:return h=e.v,p={fid:h.fid||i,registrationStatus:2,refreshToken:h.refreshToken,authToken:tw(h.authToken)},e.a(2,p);case 5:return e.n=6,nw("Create Installation",f);case 6:throw e.v;case 7:return e.a(2)}},e)}))).apply(this,arguments)}function lw(e){return new Promise(function(t){setTimeout(t,e)})}var dw=/^[cdef][\w-]{21}$/;function fw(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,h(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return dw.test(t)?t:""}catch(n){return""}}function hw(e){return"".concat(e.appName,"!").concat(e.appId)}var pw=new Map;function mw(e,t){var n=hw(e);vw(n,t),function(e,t){var n=yw();n&&n.postMessage({key:e,fid:t});bw()}(n,t)}function vw(e,t){var n=pw.get(e);if(n){var r,a=E(n);try{for(a.s();!(r=a.n()).done;){(0,r.value)(t)}}catch(i){a.e(i)}finally{a.f()}}}var gw=null;function yw(){return!gw&&"BroadcastChannel"in self&&((gw=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){vw(e.data.key,e.data.fid)}),gw}function bw(){0===pw.size&&gw&&(gw.close(),gw=null)}var kw="firebase-installations-store",xw=null;function ww(){return xw||(xw=Or("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(kw)}})),xw}function Nw(e,t){return jw.apply(this,arguments)}function jw(){return jw=_n(jn().m(function e(t,n){var r,a,i,s,o;return jn().w(function(e){for(;;)switch(e.n){case 0:return r=hw(t),e.n=1,ww();case 1:return a=e.v,i=a.transaction(kw,"readwrite"),s=i.objectStore(kw),e.n=2,s.get(r);case 2:return o=e.v,e.n=3,s.put(n,r);case 3:return e.n=4,i.done;case 4:return o&&o.fid===n.fid||mw(t,n.fid),e.a(2,n)}},e)})),jw.apply(this,arguments)}function Sw(e){return _w.apply(this,arguments)}function _w(){return _w=_n(jn().m(function e(t){var n,r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=hw(t),e.n=1,ww();case 1:return r=e.v,a=r.transaction(kw,"readwrite"),e.n=2,a.objectStore(kw).delete(n);case 2:return e.n=3,a.done;case 3:return e.a(2)}},e)})),_w.apply(this,arguments)}function Ew(e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=_n(jn().m(function e(t,n){var r,a,i,s,o,c;return jn().w(function(e){for(;;)switch(e.n){case 0:return r=hw(t),e.n=1,ww();case 1:return a=e.v,i=a.transaction(kw,"readwrite"),s=i.objectStore(kw),e.n=2,s.get(r);case 2:if(o=e.v,void 0!==(c=n(o))){e.n=4;break}return e.n=3,s.delete(r);case 3:e.n=5;break;case 4:return e.n=5,s.put(c,r);case 5:return e.n=6,i.done;case 6:return!c||o&&o.fid===c.fid||mw(t,c.fid),e.a(2,c)}},e)})),Cw.apply(this,arguments)}function Tw(e){return Iw.apply(this,arguments)}function Iw(){return Iw=_n(jn().m(function e(t){var n,r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ew(t.appConfig,function(e){var r=Aw(e),a=Dw(t,r);return n=a.registrationPromise,a.installationEntry});case 1:if(""!==(r=e.v).fid){e.n=3;break}return e.n=2,n;case 2:return a=e.v,e.a(2,{installationEntry:a});case 3:return e.a(2,{installationEntry:r,registrationPromise:n})}},e)})),Iw.apply(this,arguments)}function Aw(e){return Mw(e||{fid:fw(),registrationStatus:0})}function Dw(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject($x.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return Pw.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Rw(e)}:{installationEntry:t}}function Pw(){return(Pw=_n(jn().m(function e(t,n){var r,a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,cw(t,n);case 1:return r=e.v,e.a(2,Nw(t.appConfig,r));case 2:if(e.p=2,!Zx(a=e.v)||409!==a.customData.serverCode){e.n=4;break}return e.n=3,Sw(t.appConfig);case 3:e.n=5;break;case 4:return e.n=5,Nw(t.appConfig,{fid:n.fid,registrationStatus:0});case 5:throw a;case 6:return e.a(2)}},e,null,[[0,2]])}))).apply(this,arguments)}function Rw(e){return Ow.apply(this,arguments)}function Ow(){return(Ow=_n(jn().m(function e(t){var n,r,a,i;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Lw(t.appConfig);case 1:n=e.v;case 2:if(1!==n.registrationStatus){e.n=5;break}return e.n=3,lw(100);case 3:return e.n=4,Lw(t.appConfig);case 4:n=e.v,e.n=2;break;case 5:if(0!==n.registrationStatus){e.n=8;break}return e.n=6,Tw(t);case 6:if(r=e.v,a=r.installationEntry,!(i=r.registrationPromise)){e.n=7;break}return e.a(2,i);case 7:return e.a(2,a);case 8:return e.a(2,n)}},e)}))).apply(this,arguments)}function Lw(e){return Ew(e,function(e){if(!e)throw $x.create("installation-not-found");return Mw(e)})}function Mw(e){return 1===(t=e).registrationStatus&&t.registrationTime+Kx<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Fw(e,t){return Vw.apply(this,arguments)}function Vw(){return(Vw=_n(jn().m(function e(t,n){var r,a,i,s,o,c,u,l,d,f,h;return jn().w(function(e){for(;;)switch(e.n){case 0:if(r=t.appConfig,a=t.heartbeatServiceProvider,i=Uw(r,n),s=iw(r,n),!(o=a.getImmediate({optional:!0}))){e.n=2;break}return e.n=1,o.getHeartbeatsHeader();case 1:(c=e.v)&&s.append("x-firebase-client",c);case 2:return u={installation:{sdkVersion:Qx,appId:r.appId}},l={method:"POST",headers:s,body:JSON.stringify(u)},e.n=3,sw(function(){return fetch(i,l)});case 3:if(!(d=e.v).ok){e.n=5;break}return e.n=4,d.json();case 4:return f=e.v,h=tw(f),e.a(2,h);case 5:return e.n=6,nw("Generate Auth Token",d);case 6:throw e.v;case 7:return e.a(2)}},e)}))).apply(this,arguments)}function Uw(e,t){var n=t.fid;return"".concat(ew(e),"/").concat(n,"/authTokens:generate")}function zw(e){return Bw.apply(this,arguments)}function Bw(){return Bw=_n(jn().m(function e(t){var n,r,a,i,s,o=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.n=1,Ew(t.appConfig,function(e){if(!Qw(e))throw $x.create("not-registered");var a=e.authToken;if(!n&&Xw(a))return e;if(1===a.requestStatus)return r=qw(t,n),e;if(!navigator.onLine)throw $x.create("app-offline");var i=Yw(e);return r=Gw(t,i),i});case 1:if(a=e.v,!r){e.n=3;break}return e.n=2,r;case 2:s=e.v,e.n=4;break;case 3:s=a.authToken;case 4:return i=s,e.a(2,i)}},e)})),Bw.apply(this,arguments)}function qw(e,t){return Hw.apply(this,arguments)}function Hw(){return(Hw=_n(jn().m(function e(t,n){var r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ww(t.appConfig);case 1:r=e.v;case 2:if(1!==r.authToken.requestStatus){e.n=5;break}return e.n=3,lw(100);case 3:return e.n=4,Ww(t.appConfig);case 4:r=e.v,e.n=2;break;case 5:if(0!==(a=r.authToken).requestStatus){e.n=6;break}return e.a(2,zw(t,n));case 6:return e.a(2,a);case 7:return e.a(2)}},e)}))).apply(this,arguments)}function Ww(e){return Ew(e,function(e){if(!Qw(e))throw $x.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Kx<Date.now()?st(st({},e),{},{authToken:{requestStatus:0}}):e})}function Gw(e,t){return Kw.apply(this,arguments)}function Kw(){return(Kw=_n(jn().m(function e(t,n){var r,a,i,s;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Fw(t,n);case 1:return r=e.v,a=st(st({},n),{},{authToken:r}),e.n=2,Nw(t.appConfig,a);case 2:return e.a(2,r);case 3:if(e.p=3,!Zx(s=e.v)||401!==s.customData.serverCode&&404!==s.customData.serverCode){e.n=5;break}return e.n=4,Sw(t.appConfig);case 4:e.n=6;break;case 5:return i=st(st({},n),{},{authToken:{requestStatus:0}}),e.n=6,Nw(t.appConfig,i);case 6:throw s;case 7:return e.a(2)}},e,null,[[0,3]])}))).apply(this,arguments)}function Qw(e){return void 0!==e&&2===e.registrationStatus}function Xw(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Yx}(e)}function Yw(e){var t={requestStatus:1,requestTime:Date.now()};return st(st({},e),{},{authToken:t})}function Jw(){return(Jw=_n(jn().m(function e(t){var n,r,a,i;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=t,e.n=1,Tw(n);case 1:return r=e.v,a=r.installationEntry,(i=r.registrationPromise)?i.catch(console.error):zw(n).catch(console.error),e.a(2,a.fid)}},e)}))).apply(this,arguments)}function $w(){return $w=_n(jn().m(function e(t){var n,r,a,i=arguments;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=t,e.n=1,Zw(r);case 1:return e.n=2,zw(r,n);case 2:return a=e.v,e.a(2,a.token)}},e)})),$w.apply(this,arguments)}function Zw(e){return eN.apply(this,arguments)}function eN(){return(eN=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Tw(t);case 1:if(n=e.v,!(r=n.registrationPromise)){e.n=2;break}return e.n=2,r;case 2:return e.a(2)}},e)}))).apply(this,arguments)}function tN(e){return $x.create("missing-app-config-values",{valueName:e})}var nN,rN="installations",aN=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw tN("App Configuration");if(!e.name)throw tN("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw tN(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ea(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},iN=function(e){var t=ea(e.getProvider("app").getImmediate(),rN).getImmediate(),n={getId:function(){return function(e){return Jw.apply(this,arguments)}(t)},getToken:function(e){return function(e){return $w.apply(this,arguments)}(t,e)}};return n};Zr(new fr(rN,aN,"PUBLIC")),Zr(new fr("installations-internal",iN,"PRIVATE")),ca(Wx,Gx),ca(Wx,Gx,"esm2020");var sN,oN,cN="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",uN="google.c.a.c_id";function lN(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,h(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dN(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),a=0;a<n.length;++a)r[a]=n.charCodeAt(a);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(sN||(sN={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(oN||(oN={}));var fN="fcm_token_details_db",hN="fcm_token_object_Store";function pN(e){return mN.apply(this,arguments)}function mN(){return mN=_n(jn().m(function e(t){var n,r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!("databases"in indexedDB)){e.n=2;break}return e.n=1,indexedDB.databases();case 1:if(n=e.v,r=n.map(function(e){return e.name}),r.includes(fN)){e.n=2;break}return e.a(2,null);case 2:return a=null,e.n=3,Or(fN,5,{upgrade:function(){var e=_n(jn().m(function e(n,r,i,s){var o,c,u,l,d,f;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!(r<2)){e.n=1;break}return e.a(2);case 1:if(n.objectStoreNames.contains(hN)){e.n=2;break}return e.a(2);case 2:return o=s.objectStore(hN),e.n=3,o.index("fcmSenderId").get(t);case 3:return c=e.v,e.n=4,o.clear();case 4:if(c){e.n=5;break}return e.a(2);case 5:if(2!==r){e.n=7;break}if((l=c).auth&&l.p256dh&&l.endpoint){e.n=6;break}return e.a(2);case 6:a={token:l.fcmToken,createTime:null!==(u=l.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"===typeof l.vapidKey?l.vapidKey:lN(l.vapidKey)}},e.n=8;break;case 7:3===r?a={token:(d=c).fcmToken,createTime:d.createTime,subscriptionOptions:{auth:lN(d.auth),p256dh:lN(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:lN(d.vapidKey)}}:4===r&&(a={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:lN(f.auth),p256dh:lN(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:lN(f.vapidKey)}});case 8:return e.a(2)}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}()});case 3:return e.v.close(),e.n=4,Lr(fN);case 4:return e.n=5,Lr("fcm_vapid_details_db");case 5:return e.n=6,Lr("undefined");case 6:return e.a(2,vN(a)?a:null)}},e)})),mN.apply(this,arguments)}function vN(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var gN="firebase-messaging-store",yN=null;function bN(){return yN||(yN=Or("firebase-messaging-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(gN)}})),yN}function kN(e){return xN.apply(this,arguments)}function xN(){return xN=_n(jn().m(function e(t){var n,r,a,i;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=jN(t),e.n=1,bN();case 1:return r=e.v,e.n=2,r.transaction(gN).objectStore(gN).get(n);case 2:if(!(a=e.v)){e.n=3;break}return e.a(2,a);case 3:return e.n=4,pN(t.appConfig.senderId);case 4:if(!(i=e.v)){e.n=6;break}return e.n=5,wN(t,i);case 5:return e.a(2,i);case 6:return e.a(2)}},e)})),xN.apply(this,arguments)}function wN(e,t){return NN.apply(this,arguments)}function NN(){return NN=_n(jn().m(function e(t,n){var r,a,i;return jn().w(function(e){for(;;)switch(e.n){case 0:return r=jN(t),e.n=1,bN();case 1:return a=e.v,i=a.transaction(gN,"readwrite"),e.n=2,i.objectStore(gN).put(n,r);case 2:return e.n=3,i.done;case 3:return e.a(2,n)}},e)})),NN.apply(this,arguments)}function jN(e){return e.appConfig.appId}var SN=(at(at(at(at(at(at(at(at(at(at(nN={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),"only-available-in-window","This method is available in a Window context."),"only-available-in-sw","This method is available in a service worker context."),"permission-default","The notification permission was not granted and dismissed instead."),"permission-blocked","The notification permission was not granted and blocked instead."),"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),at(at(at(at(at(at(at(at(nN,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),"token-update-no-token","FCM returned no token when updating the user to push."),"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),"invalid-vapid-key","The public VAPID key must be a string."),"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.")),_N=new tr("messaging","Messaging",SN);function EN(e,t){return CN.apply(this,arguments)}function CN(){return CN=_n(jn().m(function e(t,n){var r,a,i,s,o,c,u;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,RN(t);case 1:return r=e.v,a=LN(n),i={method:"POST",headers:r,body:JSON.stringify(a)},e.p=2,e.n=3,fetch(PN(t.appConfig),i);case 3:return o=e.v,e.n=4,o.json();case 4:s=e.v,e.n=6;break;case 5:throw e.p=5,u=e.v,_N.create("token-subscribe-failed",{errorInfo:null===u||void 0===u?void 0:u.toString()});case 6:if(!s.error){e.n=7;break}throw c=s.error.message,_N.create("token-subscribe-failed",{errorInfo:c});case 7:if(s.token){e.n=8;break}throw _N.create("token-subscribe-no-token");case 8:return e.a(2,s.token)}},e,null,[[2,5]])})),CN.apply(this,arguments)}function TN(e,t){return IN.apply(this,arguments)}function IN(){return(IN=_n(jn().m(function e(t,n){var r,a,i,s,o,c,u;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,RN(t);case 1:return r=e.v,a=LN(n.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(a)},e.p=2,e.n=3,fetch("".concat(PN(t.appConfig),"/").concat(n.token),i);case 3:return o=e.v,e.n=4,o.json();case 4:s=e.v,e.n=6;break;case 5:throw e.p=5,u=e.v,_N.create("token-update-failed",{errorInfo:null===u||void 0===u?void 0:u.toString()});case 6:if(!s.error){e.n=7;break}throw c=s.error.message,_N.create("token-update-failed",{errorInfo:c});case 7:if(s.token){e.n=8;break}throw _N.create("token-update-no-token");case 8:return e.a(2,s.token)}},e,null,[[2,5]])}))).apply(this,arguments)}function AN(e,t){return DN.apply(this,arguments)}function DN(){return(DN=_n(jn().m(function e(t,n){var r,a,i,s,o,c;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,RN(t);case 1:return r=e.v,a={method:"DELETE",headers:r},e.p=2,e.n=3,fetch("".concat(PN(t.appConfig),"/").concat(n),a);case 3:return i=e.v,e.n=4,i.json();case 4:if(!(s=e.v).error){e.n=5;break}throw o=s.error.message,_N.create("token-unsubscribe-failed",{errorInfo:o});case 5:e.n=7;break;case 6:throw e.p=6,c=e.v,_N.create("token-unsubscribe-failed",{errorInfo:null===c||void 0===c?void 0:c.toString()});case 7:return e.a(2)}},e,null,[[2,6]])}))).apply(this,arguments)}function PN(e){var t=e.projectId;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}function RN(e){return ON.apply(this,arguments)}function ON(){return(ON=_n(jn().m(function e(t){var n,r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=t.appConfig,r=t.installations,e.n=1,r.getToken();case 1:return a=e.v,e.a(2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(a)}))}},e)}))).apply(this,arguments)}function LN(e){var t=e.p256dh,n=e.auth,r=e.endpoint,a=e.vapidKey,i={web:{endpoint:r,auth:n,p256dh:t}};return a!==cN&&(i.web.applicationPubKey=a),i}function MN(e){return FN.apply(this,arguments)}function FN(){return FN=_n(jn().m(function e(t){var n,r,a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,qN(t.swRegistration,t.vapidKey);case 1:return n=e.v,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:lN(n.getKey("auth")),p256dh:lN(n.getKey("p256dh"))},e.n=2,kN(t.firebaseDependencies);case 2:if(a=e.v){e.n=3;break}return e.a(2,zN(t.firebaseDependencies,r));case 3:if(WN(a.subscriptionOptions,r)){e.n=8;break}return e.p=4,e.n=5,AN(t.firebaseDependencies,a.token);case 5:e.n=7;break;case 6:e.p=6,i=e.v,console.warn(i);case 7:return e.a(2,zN(t.firebaseDependencies,r));case 8:if(!(Date.now()>=a.createTime+6048e5)){e.n=9;break}return e.a(2,VN(t,{token:a.token,createTime:Date.now(),subscriptionOptions:r}));case 9:return e.a(2,a.token);case 10:return e.a(2)}},e,null,[[4,6]])})),FN.apply(this,arguments)}function VN(e,t){return UN.apply(this,arguments)}function UN(){return UN=_n(jn().m(function e(t,n){var r,a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,TN(t.firebaseDependencies,n);case 1:return r=e.v,a=st(st({},n),{},{token:r,createTime:Date.now()}),e.n=2,wN(t.firebaseDependencies,a);case 2:return e.a(2,r);case 3:throw e.p=3,e.v;case 4:return e.a(2)}},e,null,[[0,3]])})),UN.apply(this,arguments)}function zN(e,t){return BN.apply(this,arguments)}function BN(){return(BN=_n(jn().m(function e(t,n){var r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,EN(t,n);case 1:return r=e.v,a={token:r,createTime:Date.now(),subscriptionOptions:n},e.n=2,wN(t,a);case 2:return e.a(2,a.token)}},e)}))).apply(this,arguments)}function qN(e,t){return HN.apply(this,arguments)}function HN(){return(HN=_n(jn().m(function e(t,n){var r;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.pushManager.getSubscription();case 1:if(!(r=e.v)){e.n=2;break}return e.a(2,r);case 2:return e.a(2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dN(n)}))}},e)}))).apply(this,arguments)}function WN(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,a=t.auth===e.auth,i=t.p256dh===e.p256dh;return n&&r&&a&&i}function GN(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var a=t.notification.image;a&&(e.notification.image=a);var i=t.notification.icon;i&&(e.notification.icon=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,a,i,s;if(!t.fcmOptions&&(null===(n=t.notification)||void 0===n||!n.click_action))return;e.fcmOptions={};var o=null!==(r=null===(a=t.fcmOptions)||void 0===a?void 0:a.link)&&void 0!==r?r:null===(i=t.notification)||void 0===i?void 0:i.click_action;o&&(e.fcmOptions.link=o);var c=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}(t,e),t}function KN(e){return"object"===typeof e&&!!e&&uN in e}function QN(e){return _N.create("missing-app-config-values",{valueName:e})}!function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var XN=function(){return y(function e(t,n,r){p(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var a=function(e){if(!e||!e.options)throw QN("App Configuration Object");if(!e.name)throw QN("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var a=r[n];if(!t[a])throw QN(a)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:a,installations:n,analyticsProvider:r}},[{key:"_delete",value:function(){return Promise.resolve()}}])}();function YN(e){return JN.apply(this,arguments)}function JN(){return JN=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"});case 1:return t.swRegistration=e.v,t.swRegistration.update().catch(function(){}),e.n=2,$N(t.swRegistration);case 2:e.n=4;break;case 3:throw e.p=3,n=e.v,_N.create("failed-service-worker-registration",{browserErrorMessage:null===n||void 0===n?void 0:n.message});case 4:return e.a(2)}},e,null,[[0,3]])})),JN.apply(this,arguments)}function $N(e){return ZN.apply(this,arguments)}function ZN(){return(ZN=_n(jn().m(function e(t){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,new Promise(function(e,n){var r=setTimeout(function(){return n(new Error("Service worker not registered after ".concat(1e4," ms")))},1e4),a=t.installing||t.waiting;t.active?(clearTimeout(r),e()):a?a.onstatechange=function(t){var n;"activated"===(null===(n=t.target)||void 0===n?void 0:n.state)&&(a.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))}))},e)}))).apply(this,arguments)}function ej(e,t){return tj.apply(this,arguments)}function tj(){return tj=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)switch(e.n){case 0:if(n||t.swRegistration){e.n=1;break}return e.n=1,YN(t);case 1:if(n||!t.swRegistration){e.n=2;break}return e.a(2);case 2:if(n instanceof ServiceWorkerRegistration){e.n=3;break}throw _N.create("invalid-sw-registration");case 3:t.swRegistration=n;case 4:return e.a(2)}},e)})),tj.apply(this,arguments)}function nj(e,t){return rj.apply(this,arguments)}function rj(){return rj=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)switch(e.n){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=cN);case 1:return e.a(2)}},e)})),rj.apply(this,arguments)}function aj(e,t){return ij.apply(this,arguments)}function ij(){return ij=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)switch(e.n){case 0:if(navigator){e.n=1;break}throw _N.create("only-available-in-window");case 1:if("default"!==Notification.permission){e.n=2;break}return e.n=2,Notification.requestPermission();case 2:if("granted"===Notification.permission){e.n=3;break}throw _N.create("permission-blocked");case 3:return e.n=4,nj(t,null===n||void 0===n?void 0:n.vapidKey);case 4:return e.n=5,ej(t,null===n||void 0===n?void 0:n.serviceWorkerRegistration);case 5:return e.a(2,MN(t))}},e)})),ij.apply(this,arguments)}function sj(e,t,n){return oj.apply(this,arguments)}function oj(){return oj=_n(jn().m(function e(t,n,r){var a;return jn().w(function(e){for(;;)switch(e.n){case 0:return a=cj(n),e.n=1,t.firebaseDependencies.analyticsProvider.get();case 1:e.v.logEvent(a,{message_id:r[uN],message_name:r["google.c.a.c_l"],message_time:r["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)});case 2:return e.a(2)}},e)})),oj.apply(this,arguments)}function cj(e){switch(e){case oN.NOTIFICATION_CLICKED:return"notification_open";case oN.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function uj(){return uj=_n(jn().m(function e(t,n){var r,a;return jn().w(function(e){for(;;)switch(e.n){case 0:if((r=n.data).isFirebaseMessaging){e.n=1;break}return e.a(2);case 1:if(t.onMessageHandler&&r.messageType===oN.PUSH_RECEIVED&&("function"===typeof t.onMessageHandler?t.onMessageHandler(GN(r)):t.onMessageHandler.next(GN(r))),!KN(a=r.data)||"1"!==a["google.c.a.e"]){e.n=2;break}return e.n=2,sj(t,r.messageType,a);case 2:return e.a(2)}},e)})),uj.apply(this,arguments)}var lj="@firebase/messaging",dj="0.12.23",fj=function(e){var t=new XN(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",function(e){return function(e,t){return uj.apply(this,arguments)}(t,e)}),t},hj=function(e){var t=e.getProvider("messaging").getImmediate();return{getToken:function(e){return aj(t,e)}}};function pj(){return mj.apply(this,arguments)}function mj(){return(mj=_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,$n();case 1:e.n=3;break;case 2:return e.p=2,e.v,e.a(2,!1);case 3:return e.a(2,"undefined"!==typeof window&&Jn()&&Zn()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"))}},e,null,[[0,2]])}))).apply(this,arguments)}function vj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa();return pj().then(function(e){if(!e)throw _N.create("unsupported-browser")},function(e){throw _N.create("indexed-db-unsupported")}),ea(dr(e),"messaging").getImmediate()}function gj(e,t){return yj.apply(this,arguments)}function yj(){return yj=_n(jn().m(function e(t,n){return jn().w(function(e){for(;;)if(0===e.n)return t=dr(t),e.a(2,aj(t,n))},e)})),yj.apply(this,arguments)}function bj(e,t){return function(e,t){if(!navigator)throw _N.create("only-available-in-window");return e.onMessageHandler=t,function(){e.onMessageHandler=null}}(e=dr(e),t)}Zr(new fr("messaging",fj,"PUBLIC")),Zr(new fr("messaging-internal",hj,"PRIVATE")),ca(lj,dj),ca(lj,dj,"esm2020");for(var kj=0,xj=["REACT_APP_FIREBASE_API_KEY","REACT_APP_FIREBASE_AUTH_DOMAIN","REACT_APP_FIREBASE_PROJECT_ID","REACT_APP_FIREBASE_STORAGE_BUCKET","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","REACT_APP_FIREBASE_APP_ID"];kj<xj.length;kj++){var wj=xj[kj];if(!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAVhrfvLQlMSLciJogsKFo82BswvhbRvR0",REACT_APP_FIREBASE_APP_ID:"1:181559034525:web:77acfe9afe9ff000d50a74",REACT_APP_FIREBASE_AUTH_DOMAIN:"luxuryfashion-76ce1.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-G-GVFQSXSG6B",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"181559034525",REACT_APP_FIREBASE_PROJECT_ID:"luxuryfashion-76ce1",REACT_APP_FIREBASE_STORAGE_BUCKET:"luxuryfashion-76ce1.firebasestorage.app",REACT_APP_FIREBASE_VAPID_KEY:"BA0tYbyX_1CvftRLU-13Xj3ISPpUkhCNafGp1LglIikSt1leaEUei8b-kA_yquTygO-ZBvAdnEwmSy-fqwSYfhE"}[wj])throw new Error("Missing required environment variable: ".concat(wj))}var Nj=sa({apiKey:"AIzaSyAVhrfvLQlMSLciJogsKFo82BswvhbRvR0",authDomain:"luxuryfashion-76ce1.firebaseapp.com",projectId:"luxuryfashion-76ce1",storageBucket:"luxuryfashion-76ce1.firebasestorage.app",messagingSenderId:"181559034525",appId:"1:181559034525:web:77acfe9afe9ff000d50a74",measurementId:"G-G-GVFQSXSG6B"}),jj=function(e,t){var n="object"==typeof e?e:oa(),r="string"==typeof e?e:t||Ys,a=ea(n,"firestore").getImmediate({identifier:r});if(!a._initialized){var i=Mn("firestore");i&&rp.apply(void 0,[a].concat(h(i)))}return a}(Nj),Sj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa(),t=ea(e,"auth");if(t.isInitialized())return t.getImmediate();var n,r=function(e,t){var n=ea(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(ar(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;qm(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:dk,persistence:[ub,Py,Fy]}),a=Vn("authTokenSyncURL");if(a&&"boolean"===typeof isSecureContext&&isSecureContext){var i=new URL(a,location.origin);if(location.origin===i.origin){var s=(n=i.toString(),function(){var e=_n(jn().m(function e(t){var r,a,i,s;return jn().w(function(e){for(;;)switch(e.n){case 0:if(!(s=t)){e.n=2;break}return e.n=1,t.getIdTokenResult();case 1:s=e.v;case 2:if(!((a=(r=s)&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&a>xk)){e.n=3;break}return e.a(2);case 3:if(i=null===r||void 0===r?void 0:r.token,wk!==i){e.n=4;break}return e.a(2);case 4:return wk=i,e.n=5,fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}});case 5:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());!function(e,t,n){dr(e).beforeAuthStateChanged(t,n)}(r,s,function(){return s(r.currentUser)}),function(e,t,n,r){dr(e).onIdTokenChanged(t,n,r)}(r,function(e){return s(e)})}}var o=Ln("auth");return o&&Pg(r,"http://".concat(o)),r}(Nj),_j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa(),t=arguments.length>1?arguments[1]:void 0,n=ea(e=dr(e),Fx).getImmediate({identifier:t}),r=Mn("storage");return r&&qx.apply(void 0,[n].concat(h(r))),n}(Nj),Ej=null,Cj=function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,pj();case 1:if(!e.v){e.n=2;break}return Ej=vj(Nj),e.a(2,Ej);case 2:return console.log("FCM not supported in this browser"),e.a(2,null);case 3:return e.p=3,t=e.v,console.error("Error initializing FCM:",t),e.a(2,null)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),Tj=function(){return Ej},Ij=n(818),Aj=n(579),Dj=function(e){var t=e.backgroundImage,n=void 0===t?"https://images.unsplash.com/photo-1559599101-f09722fb4948?q=80&w=1000&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D":t,r=e.headline,a=void 0===r?"\u0639\u0631\u0648\u0636 \u062d\u0635\u0631\u064a\u0629 \u0639\u0644\u0649 \u0645\u0646\u062a\u062c\u0627\u062a\u0646\u0627 \u0627\u0644\u0645\u0645\u064a\u0632\u0629":r,i=e.subheading,s=void 0===i?"\u0648\u0641\u0631\u064a \u062d\u062a\u0649 30% \u0639\u0644\u0649 \u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0627\u0644\u0645\u062a\u0643\u0627\u0645\u0644\u0629":i,o=e.primaryButtonText,c=void 0===o?"\u062a\u0633\u0648\u0642\u064a \u0627\u0644\u0622\u0646":o,u=e.secondaryButtonText,l=void 0===u?"\u0627\u0643\u062a\u0634\u0641\u064a \u0627\u0644\u0639\u0631\u0648\u0636":u,d=e.primaryButtonAction,f=void 0===d?"/products":d,h=e.secondaryButtonAction,p=void 0===h?"/services":h,m=e.onBannerClick,v=void 0===m?null:m,g=e.className,y=void 0===g?"":g,b=Ne();return(0,Aj.jsx)("div",{className:"promotional-banner ".concat(y),onClick:function(){v&&v()},style:{backgroundImage:"url(".concat(n,")")},children:(0,Aj.jsx)("div",{className:"promotional-banner-overlay",children:(0,Aj.jsxs)("div",{className:"promotional-banner-content",children:[(0,Aj.jsx)("h2",{className:"promotional-banner-headline",children:a}),(0,Aj.jsx)("p",{className:"promotional-banner-subheading",children:s}),(0,Aj.jsxs)("div",{className:"promotional-banner-actions",children:[(0,Aj.jsx)("button",{className:"promotional-banner-btn promotional-banner-btn-primary",onClick:function(e){e.stopPropagation(),b(f)},children:c}),(0,Aj.jsx)("button",{className:"promotional-banner-btn promotional-banner-btn-secondary",onClick:function(e){e.stopPropagation(),b(p)},children:l})]})]})})})},Pj=(0,e.createContext)();function Rj(t){var n=t.children,r=c((0,e.useState)(function(){var e=localStorage.getItem("beautyCart");return e?JSON.parse(e):[]}),2),a=r[0],i=r[1];(0,e.useEffect)(function(){localStorage.setItem("beautyCart",JSON.stringify(a))},[a]);var s=function(e){return e.hasVariants&&e.selectedVariant?"".concat(e.id,"-").concat(e.selectedVariant.size,"-").concat(e.selectedVariant.color):e.id};return(0,Aj.jsx)(Pj.Provider,{value:{cartItems:a,addToCart:function(e){i(function(t){var n=s(e);return t.find(function(t){return e.hasVariants&&e.selectedVariant?t.id===e.id&&t.selectedVariant&&t.selectedVariant.size===e.selectedVariant.size&&t.selectedVariant.color===e.selectedVariant.color:t.id===e.id})?t.map(function(t){if(e.hasVariants&&e.selectedVariant){if(t.id===e.id&&t.selectedVariant&&t.selectedVariant.size===e.selectedVariant.size&&t.selectedVariant.color===e.selectedVariant.color)return st(st({},t),{},{quantity:t.quantity+1})}else if(t.id===e.id)return st(st({},t),{},{quantity:t.quantity+1});return t}):[].concat(h(t),[st(st({},e),{},{quantity:1,cartItemId:n})])})},removeFromCart:function(e){i(function(t){return t.filter(function(t){return t.cartItemId!==e})})},updateQuantity:function(e,t){i(function(n){return n.map(function(n){return n.cartItemId===e?st(st({},n),{},{quantity:t}):n})})},clearCart:function(){i([]),localStorage.removeItem("beautyCart")},generateCartItemId:s,isSameVariant:function(e,t){return e.id===t.id&&(e.hasVariants&&t.hasVariants?e.selectedVariant&&t.selectedVariant&&e.selectedVariant.size===t.selectedVariant.size&&e.selectedVariant.color===t.selectedVariant.color:!e.hasVariants&&!t.hasVariants)},getProductTotalQuantity:function(e){return a.filter(function(t){return t.id===e}).reduce(function(e,t){return e+t.quantity},0)}},children:n})}function Oj(){return(0,e.useContext)(Pj)}var Lj=(0,e.memo)(function(t){var n,r,a,i,s=t.product,o=c((0,e.useState)(null),2),u=o[0],d=o[1],f=c((0,e.useState)(!1),2),p=f[0],m=f[1],v=c((0,e.useState)(!1),2),g=v[0],y=v[1],b=c((0,e.useState)(!1),2),k=b[0],x=b[1],w=c((0,e.useState)(!1),2),N=w[0],j=w[1],S=c((0,e.useState)(""),2),_=S[0],E=S[1],C=c((0,e.useState)(""),2),T=C[0],I=C[1],A=Oj().addToCart;(0,e.useEffect)(function(){var e=Sy(Sj,function(e){x(!!e)});return function(){return e()}},[]),(0,e.useEffect)(function(){if(s.hasDiscount&&s.discountExpiresAt){var e=function(){var e=new Date,t=new Date(1e3*s.discountExpiresAt.seconds)-e;if(t<=0)d(null);else{var n=Math.floor(t/864e5),r=Math.floor(t%864e5/36e5),a=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3);d({days:n,hours:r,minutes:a,seconds:i})}};e();var t=setInterval(e,1e3);return function(){return clearInterval(t)}}d(null)},[s.discountExpiresAt,s.hasDiscount]);var D=function(){var e=[],t=!1;if(s.hasVariants){var n,r=(null===(n=s.variants)||void 0===n?void 0:n.reduce(function(e,t){return e+(parseInt(t.stock)||0)},0))||0;t=0===r}else t=!s.stock||0===s.stock;return t&&e.push({text:"\u0628\u064a\u0639\u062a \u0643\u0644\u0647\u0627",type:"sold-out"}),s.onDemand&&e.push({text:"\u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628 (\u062a\u0648\u0635\u064a\u0644 \u062e\u0644\u0627\u0644 2-3 \u0623\u0633\u0627\u0628\u064a\u0639)",type:"on-demand"}),s.isNew&&e.push({text:"\u062c\u062f\u064a\u062f",type:"new"}),s.hasDiscount&&s.discountName&&e.push({text:s.discountName,type:"discount"}),e}(),P=function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),t.stopPropagation(),!p&&!k){e.n=1;break}return e.a(2);case 1:if(!(s.hasVariants&&s.variants&&s.variants.length>0)){e.n=2;break}return j(!0),e.a(2);case 2:if(m(!0),e.p=3,!(s.stock>0||s.onDemand)){e.n=5;break}return e.n=4,A(st(st({},s),{},{quantity:1}));case 4:y(!0),setTimeout(function(){return y(!1)},3e3),e.n=6;break;case 5:return wn.error("\u0627\u0644\u0645\u0646\u062a\u062c \u0646\u0641\u0630 \u0645\u0646 \u0627\u0644\u0645\u062e\u0632\u0648\u0646"),e.a(2);case 6:e.n=8;break;case 7:e.p=7,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062a\u062c \u0644\u0644\u0633\u0644\u0629");case 8:return e.p=8,m(!1),e.f(8);case 9:return e.a(2)}},e,null,[[3,7,8,9]])}));return function(t){return e.apply(this,arguments)}}(),R=function(){return _||T?s.variants.find(function(e){var t,n,r,a;return(null===(t=s.sizes)||void 0===t?void 0:t.length)>0&&(null===(n=s.colors)||void 0===n?void 0:n.length)>0?e.size===_&&e.color===T:(null===(r=s.sizes)||void 0===r?void 0:r.length)>0?e.size===_:(null===(a=s.colors)||void 0===a?void 0:a.length)>0&&e.color===T}):null},O=function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(_||T){e.n=1;break}return wn.error("\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062d\u062c\u0645 \u0623\u0648 \u0627\u0644\u0644\u0648\u0646"),e.a(2);case 1:if(m(!0),e.p=2,t=R()){e.n=3;break}return wn.error("\u0627\u0644\u062e\u064a\u0627\u0631 \u0627\u0644\u0645\u062d\u062f\u062f \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631"),m(!1),e.a(2);case 3:if(0!==(parseInt(t.stock)||0)){e.n=4;break}return wn.error("\u0647\u0630\u0627 \u0627\u0644\u062e\u064a\u0627\u0631 \u0646\u0641\u0630 \u0645\u0646 \u0627\u0644\u0645\u062e\u0632\u0648\u0646"),m(!1),e.a(2);case 4:return e.n=5,A(st(st({},s),{},{selectedVariant:t,quantity:1}));case 5:y(!0),setTimeout(function(){return y(!1)},3e3),j(!1),E(""),I(""),e.n=7;break;case 6:e.p=6,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062a\u062c \u0644\u0644\u0633\u0644\u0629");case 7:return e.p=7,m(!1),e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),L=function(){j(!1),E(""),I("")};(0,e.useEffect)(function(){if(N){document.body.style.overflow="hidden";var e=function(e){"Escape"===e.key&&L()};return document.addEventListener("keydown",e),function(){document.body.style.overflow="unset",document.removeEventListener("keydown",e)}}document.body.style.overflow="unset"},[N]);var M=N?(0,Aj.jsx)("div",{className:"pc-variant-modal-overlay",onClick:L,children:(0,Aj.jsxs)("div",{className:"pc-variant-modal",onClick:function(e){return e.stopPropagation()},children:[(0,Aj.jsxs)("div",{className:"pc-variant-modal-header",children:[(0,Aj.jsx)("h3",{children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0648\u0627\u0635\u0641\u0627\u062a"}),(0,Aj.jsx)("button",{className:"pc-variant-modal-close",onClick:L,children:(0,Aj.jsx)("i",{className:"fas fa-times"})})]}),(0,Aj.jsxs)("div",{className:"pc-variant-modal-body",children:[s.sizes&&s.sizes.length>0&&(0,Aj.jsxs)("div",{className:"pc-variant-selection-group",children:[(0,Aj.jsx)("label",{className:"pc-variant-label",children:"\u0627\u0644\u062d\u062c\u0645:"}),(0,Aj.jsx)("div",{className:"pc-variant-options",children:s.sizes.map(function(e){var t=s.variants.some(function(t){var n;return null===(n=s.colors)||void 0===n||n.length,t.size===e&&(parseInt(t.stock)||0)>0});return(0,Aj.jsxs)("button",{className:"pc-variant-option ".concat(_===e?"selected":""," ").concat(t?"":"disabled"),onClick:function(){return t?E(e):null},disabled:!t,children:[e,!t&&(0,Aj.jsx)("span",{className:"pc-variant-out-of-stock",children:"\u0646\u0641\u0630\u062a"})]},e)})})]}),s.colors&&s.colors.length>0&&(0,Aj.jsxs)("div",{className:"pc-variant-selection-group",children:[(0,Aj.jsx)("label",{className:"pc-variant-label",children:"\u0627\u0644\u0644\u0648\u0646:"}),(0,Aj.jsx)("div",{className:"pc-variant-options",children:s.colors.map(function(e){var t=s.variants.some(function(t){var n;return(null===(n=s.sizes)||void 0===n?void 0:n.length)>0&&_?t.color===e&&t.size===_&&(parseInt(t.stock)||0)>0:t.color===e&&(parseInt(t.stock)||0)>0});return(0,Aj.jsxs)("button",{className:"pc-variant-option ".concat(T===e?"selected":""," ").concat(t?"":"disabled"),onClick:function(){return t?I(e):null},disabled:!t,children:[e,!t&&(0,Aj.jsx)("span",{className:"pc-variant-out-of-stock",children:"\u0646\u0641\u0630\u062a"})]},e)})})]}),(_&&(null===(n=s.sizes)||void 0===n?void 0:n.length)>0||T&&(null===(r=s.colors)||void 0===r?void 0:r.length)>0)&&(0,Aj.jsx)("div",{className:"pc-variant-selected-info",children:function(){var e=s.variants.find(function(e){var t,n,r,a;return(null===(t=s.sizes)||void 0===t?void 0:t.length)>0&&(null===(n=s.colors)||void 0===n?void 0:n.length)>0?e.size===_&&e.color===T:(null===(r=s.sizes)||void 0===r?void 0:r.length)>0?e.size===_:(null===(a=s.colors)||void 0===a?void 0:a.length)>0&&e.color===T});if(e){var t=(parseInt(e.stock)||0)>0;return(0,Aj.jsxs)("div",{className:"pc-variant-info-content",children:[(0,Aj.jsxs)("div",{className:"pc-variant-price-section",children:[(0,Aj.jsx)("span",{className:"pc-variant-info-label",children:"\u0627\u0644\u0633\u0639\u0631:"}),(0,Aj.jsxs)("span",{className:"pc-variant-info-value",children:[e.price," \u0634\u064a\u0643\u0644"]})]}),(0,Aj.jsxs)("div",{className:"pc-variant-stock-section ".concat(t?"in-stock":"out-of-stock"),children:[(0,Aj.jsx)("span",{className:"pc-variant-info-label",children:"\u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,Aj.jsx)("span",{className:"pc-variant-stock-badge",children:t?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-check-circle"}),(0,Aj.jsx)("span",{children:"\u0645\u062a\u0648\u0641\u0631"})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-times-circle"}),(0,Aj.jsx)("span",{children:"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631"})]})})]})]})}return null}()})]}),(0,Aj.jsxs)("div",{className:"pc-variant-modal-footer",children:[(0,Aj.jsx)("button",{className:"pc-variant-cancel-btn",onClick:L,children:"\u0625\u0644\u063a\u0627\u0621"}),(0,Aj.jsx)("button",{className:"pc-variant-add-btn",onClick:O,disabled:p||!_&&(null===(a=s.sizes)||void 0===a?void 0:a.length)>0||!T&&(null===(i=s.colors)||void 0===i?void 0:i.length)>0||!function(){var e=R();return e&&(parseInt(e.stock)||0)>0}(),children:p?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-hourglass-half"}),(0,Aj.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629..."})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-shopping-cart"}),(0,Aj.jsx)("span",{children:"\u0623\u0636\u0641 \u0644\u0644\u0633\u0644\u0629"})]})})]})]})}):null;return(0,Aj.jsxs)(Aj.Fragment,{children:[M&&l.createPortal(M,document.body),(0,Aj.jsxs)(Ze,{to:"/products/".concat(s.id),className:"pc-card pc-card--clickable",children:[g&&(0,Aj.jsx)("div",{className:"pc-toast-overlay",children:(0,Aj.jsxs)("div",{className:"pc-toast",children:[(0,Aj.jsx)("span",{className:"pc-toast-icon",children:(0,Aj.jsx)("i",{className:"fas fa-check-circle"})}),(0,Aj.jsx)("span",{className:"pc-toast-text",children:"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062a\u062c \u0644\u0644\u0633\u0644\u0629!"})]})}),(0,Aj.jsxs)("div",{className:"pc-image-container",children:[s.hasDiscount&&u&&(0,Aj.jsx)("div",{className:"pc-countdown-overlay",children:(0,Aj.jsx)("div",{className:"pc-countdown-timer-overlay",children:(0,Aj.jsxs)("div",{className:"pc-timer-display-overlay",children:[u.days>0&&(0,Aj.jsxs)("span",{className:"pc-timer-unit-overlay",children:[(0,Aj.jsx)("span",{className:"pc-timer-value-overlay",children:u.days}),(0,Aj.jsx)("span",{className:"pc-timer-label-small-overlay",children:"\u064a\u0648\u0645"})]}),(0,Aj.jsxs)("span",{className:"pc-timer-unit-overlay",children:[(0,Aj.jsx)("span",{className:"pc-timer-value-overlay",children:u.hours.toString().padStart(2,"0")}),(0,Aj.jsx)("span",{className:"pc-timer-label-small-overlay",children:"\u0633\u0627\u0639\u0629"})]}),(0,Aj.jsxs)("span",{className:"pc-timer-unit-overlay",children:[(0,Aj.jsx)("span",{className:"pc-timer-value-overlay",children:u.minutes.toString().padStart(2,"0")}),(0,Aj.jsx)("span",{className:"pc-timer-label-small-overlay",children:"\u062f\u0642\u064a\u0642\u0629"})]}),(0,Aj.jsxs)("span",{className:"pc-timer-unit-overlay",children:[(0,Aj.jsx)("span",{className:"pc-timer-value-overlay",children:u.seconds.toString().padStart(2,"0")}),(0,Aj.jsx)("span",{className:"pc-timer-label-small-overlay",children:"\u062b\u0627\u0646\u064a\u0629"})]})]})})}),(0,Aj.jsx)("img",{src:s.images&&s.images.length>0?s.images[0]:"",alt:s.name,className:"pc-image",loading:"lazy",decoding:"async"}),(0,Aj.jsx)("div",{className:"pc-image-overlay"}),D.length>0&&(0,Aj.jsx)("div",{className:"pc-badges-container",children:D.map(function(e){return(0,Aj.jsx)("div",{className:"pc-badge pc-badge--".concat(e.type),children:e.text},e.type)})}),(0,Aj.jsxs)("div",{className:"pc-quick-actions",children:[(0,Aj.jsx)("button",{className:"pc-quick-action-btn",onClick:P,disabled:p||D.some(function(e){return"sold-out"===e.type})||k,title:k?"\u0623\u0646\u062a \u0623\u062f\u0645\u0646":p?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629...":"\u0623\u0636\u0641 \u0644\u0644\u0633\u0644\u0629",children:p?(0,Aj.jsx)("i",{className:"fas fa-spinner fa-spin"}):(0,Aj.jsx)("i",{className:"fas fa-shopping-bag"})}),(0,Aj.jsx)("button",{className:"pc-quick-action-btn",onClick:function(e){e.preventDefault(),e.stopPropagation(),window.location.href="/products/".concat(s.id)},title:"\u0639\u0631\u0636 \u0633\u0631\u064a\u0639",children:(0,Aj.jsx)("i",{className:"fas fa-eye"})})]})]}),(0,Aj.jsxs)("div",{className:"pc-content",children:[(0,Aj.jsx)("h3",{className:"pc-name",children:s.name}),(0,Aj.jsx)("div",{className:"pc-price-container",children:s.hasVariants?(0,Aj.jsx)(Aj.Fragment,{children:s.hasDiscount?(0,Aj.jsxs)("div",{className:"pc-price-wrapper",children:[(0,Aj.jsx)("span",{className:"pc-price pc-price--discounted",children:function(e){var t=(null===(e=s.variants)||void 0===e?void 0:e.map(function(e){return parseFloat(e.price)||0}))||[0],n=Math.min.apply(Math,h(t));return"".concat(n," \u0634\u064a\u0643\u0644")}()}),(0,Aj.jsx)("span",{className:"pc-price pc-price--original",children:function(e){var t=(null===(e=s.variants)||void 0===e?void 0:e.map(function(e){return parseFloat(e.originalPrice||e.price)||0}))||[0],n=Math.min.apply(Math,h(t));return"".concat(n," \u0634\u064a\u0643\u0644")}()}),function(e,t){var n=(null===(e=s.variants)||void 0===e?void 0:e.map(function(e){return parseFloat(e.price)||0}))||[0],r=(null===(t=s.variants)||void 0===t?void 0:t.map(function(e){return parseFloat(e.originalPrice||e.price)||0}))||[0],a=Math.min.apply(Math,h(n)),i=Math.min.apply(Math,h(r)),o=Math.round((i-a)/i*100);return o>0?(0,Aj.jsxs)("span",{className:"pc-discount-percent",children:["-",o,"%"]}):null}()]}):(0,Aj.jsx)("div",{className:"pc-price pc-price--variants",children:function(e){var t=(null===(e=s.variants)||void 0===e?void 0:e.map(function(e){return parseFloat(e.price)||0}))||[0],n=Math.min.apply(Math,h(t));return"".concat(n," \u0634\u064a\u0643\u0644")}()})}):s.hasDiscount&&s.originalPrice?(0,Aj.jsxs)("div",{className:"pc-price-wrapper",children:[(0,Aj.jsxs)("span",{className:"pc-price pc-price--discounted",children:[s.price," \u0634\u064a\u0643\u0644"]}),(0,Aj.jsxs)("span",{className:"pc-price pc-price--original",children:[s.originalPrice," \u0634\u064a\u0643\u0644"]}),function(){var e=Math.round((s.originalPrice-s.price)/s.originalPrice*100);return e>0?(0,Aj.jsxs)("span",{className:"pc-discount-percent",children:["-",e,"%"]}):null}()]}):(0,Aj.jsxs)("p",{className:"pc-price",children:[s.price," \u0634\u064a\u0643\u0644"]})})]})]})]})});Lj.displayName="ProductCard";var Mj=Lj;var Fj=function(){var t=c((0,e.useState)(!1),2),n=t[0],r=t[1],a=c((0,e.useState)(null),2),i=a[0],s=a[1],o=c((0,e.useState)(!1),2),u=o[0],l=o[1],d=Oj().cartItems,f=xe(),h=d.reduce(function(e,t){return e+t.quantity},0),p=function(){r(!1)},m=function(e){return f.pathname===e};return(0,e.useEffect)(function(){var e=Sy(Sj,function(e){s(!!e)});return function(){return e()}},[]),(0,e.useEffect)(function(){var e=function(){window.scrollY>50?(l(!0),n&&r(!1)):l(!1)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}},[n]),f.pathname.startsWith("/admin")&&!i||null===i?null:(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("div",{className:"top-bar ".concat(u?"top-bar-hidden":""),children:(0,Aj.jsxs)("div",{className:"top-bar-container",children:[(0,Aj.jsxs)("div",{className:"top-bar-left",children:[(0,Aj.jsx)("a",{href:"https://www.instagram.com/luxury_life_stayle/",className:"top-bar-link",target:"_blank",rel:"noopener noreferrer",title:"Instagram",children:(0,Aj.jsx)("i",{className:"fab fa-instagram"})}),(0,Aj.jsx)("a",{href:"https://www.facebook.com/profile.php?id=100087035404500",className:"top-bar-link",target:"_blank",rel:"noopener noreferrer",title:"Facebook",children:(0,Aj.jsx)("i",{className:"fab fa-facebook-f"})})]}),(0,Aj.jsx)("div",{className:"top-bar-right",children:(0,Aj.jsxs)("a",{href:"tel:+972592806088",className:"top-bar-contact",children:[(0,Aj.jsx)("i",{className:"fas fa-phone-alt"}),(0,Aj.jsx)("span",{children:"972592806088+"})]})})]})}),(0,Aj.jsx)("header",{className:"navbar ".concat(u?"navbar-sticky":""),children:(0,Aj.jsxs)("div",{className:"nav-container",children:[(0,Aj.jsxs)(Ze,{to:"/",className:"nav-logo",onClick:p,"aria-label":"Luxury Fashion - Home",children:[(0,Aj.jsx)("img",{src:"/images/logo.png",alt:"Luxury Fashion",className:"nav-logo-img"}),(0,Aj.jsx)("span",{className:"nav-logo-text",children:"Luxury Fashion"})]}),(0,Aj.jsxs)("nav",{className:"nav-menu ".concat(n?"nav-menu-active":""),children:[(0,Aj.jsx)(Ze,{to:"/",className:"nav-link ".concat(m("/")?"nav-link-active":""),onClick:p,children:"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"}),(0,Aj.jsx)(Ze,{to:"/products",className:"nav-link ".concat(m("/products")?"nav-link-active":""),onClick:p,children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Aj.jsx)(Ze,{to:"/about",className:"nav-link ".concat(m("/about")?"nav-link-active":""),onClick:p,children:"\u0645\u0646 \u0646\u062d\u0646"}),(0,Aj.jsx)(Ze,{to:"/contact",className:"nav-link ".concat(m("/contact")?"nav-link-active":""),onClick:p,children:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627"}),!1===i&&(0,Aj.jsxs)(Ze,{to:"/cart",className:"nav-link cart-link nav-cart-desktop ".concat(m("/cart")?"nav-link-active":""),onClick:p,children:[(0,Aj.jsx)("span",{className:"cart-icon",children:(0,Aj.jsx)("i",{className:"fas fa-shopping-cart"})}),h>0&&(0,Aj.jsx)("span",{className:"cart-badge",children:h})]}),!0===i&&(0,Aj.jsx)(Ze,{to:"/admin/dashboard",className:"nav-link admin-link ".concat(f.pathname.startsWith("/admin")?"nav-link-active":""),onClick:p,children:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"})]}),(0,Aj.jsxs)("div",{className:"nav-right",children:[!1===i&&(0,Aj.jsxs)(Ze,{to:"/cart",className:"nav-cart-mobile",onClick:p,"aria-label":"\u0639\u0631\u0628\u0629 \u0627\u0644\u062a\u0633\u0648\u0642",children:[(0,Aj.jsx)("span",{className:"nav-cart-icon",children:(0,Aj.jsx)("i",{className:"fas fa-shopping-cart"})}),h>0&&(0,Aj.jsx)("span",{className:"nav-cart-badge",children:h})]}),(0,Aj.jsxs)("button",{className:"nav-toggle",onClick:function(){r(!n)},"aria-label":"Toggle navigation menu","aria-expanded":n,children:[(0,Aj.jsx)("span",{className:"nav-toggle-line ".concat(n?"nav-toggle-line-1":"")}),(0,Aj.jsx)("span",{className:"nav-toggle-line ".concat(n?"nav-toggle-line-2":"")}),(0,Aj.jsx)("span",{className:"nav-toggle-line ".concat(n?"nav-toggle-line-3":"")})]})]})]})})]})};var Vj=function(){return(0,Aj.jsx)("footer",{className:"ft-footer",children:(0,Aj.jsxs)("div",{className:"ft-container",children:[(0,Aj.jsxs)("div",{className:"ft-content",children:[(0,Aj.jsxs)("div",{className:"ft-brand",children:[(0,Aj.jsx)("div",{className:"ft-logo",children:(0,Aj.jsx)("span",{className:"ft-logo-text",children:"Luxury Fashion"})}),(0,Aj.jsx)("p",{className:"ft-brand-name",children:"\u0644\u0627\u0643\u062c\u0631\u064a \u0644\u0644\u0627\u0643\u0633\u0633\u0648\u0627\u0631\u0627\u062a \u0648\u0627\u0644\u0645\u0644\u0627\u0628\u0633"})]}),(0,Aj.jsxs)("div",{className:"ft-contact",children:[(0,Aj.jsx)("h3",{className:"ft-section-title",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u0648\u0627\u0635\u0644"}),(0,Aj.jsxs)("div",{className:"ft-contact-item",children:[(0,Aj.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,Aj.jsx)("span",{children:"\u0637\u0648\u0644\u0643\u0631\u0645 \u0642\u0631\u0628 \u062a\u0643\u0633\u064a \u0627\u0644\u062a\u0641\u0627\u0644-\u062f\u062e\u0644\u0629 \u062a\u0643\u0627\u0633\u064a \u0627\u0644\u0639\u0632\u0628 \u0634\u0627\u0631\u0639 \u0643\u0644\u0627\u062c \u0627\u0644\u0637\u0648\u0628\u0627\u0633\u064a"})]}),(0,Aj.jsxs)("div",{className:"ft-contact-item",children:[(0,Aj.jsx)("i",{className:"fas fa-phone-alt"}),(0,Aj.jsx)("a",{href:"tel:+972592806088",children:"972592806088+"})]}),(0,Aj.jsxs)("div",{className:"ft-contact-item",children:[(0,Aj.jsx)("i",{className:"fas fa-envelope"}),(0,Aj.jsx)("a",{href:"mailto:anwaroohasan44@gmail.com",children:"anwaroohasan44@gmail.com"})]})]}),(0,Aj.jsxs)("div",{className:"ft-social",children:[(0,Aj.jsx)("h3",{className:"ft-section-title",children:"\u062a\u0627\u0628\u0639\u0646\u0627"}),(0,Aj.jsxs)("div",{className:"ft-social-links",children:[(0,Aj.jsxs)("a",{href:"https://www.instagram.com/luxury_life_stayle/",className:"ft-social-link instagram",target:"_blank",rel:"noopener noreferrer",title:"\u0627\u0646\u0633\u062a\u063a\u0631\u0627\u0645",children:[(0,Aj.jsx)("i",{className:"fab fa-instagram"}),(0,Aj.jsx)("span",{children:"Instagram"})]}),(0,Aj.jsxs)("a",{href:"https://www.facebook.com/profile.php?id=100087035404500",className:"ft-social-link facebook",target:"_blank",rel:"noopener noreferrer",title:"\u0641\u064a\u0633\u0628\u0648\u0643",children:[(0,Aj.jsx)("i",{className:"fab fa-facebook-f"}),(0,Aj.jsx)("span",{children:"Facebook"})]})]})]})]}),(0,Aj.jsx)("div",{className:"ft-copyright",children:(0,Aj.jsx)("p",{children:"\xa9 2026 Luxury Fashion. \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629."})})]})})},Uj={ORDERS:"beauty_app_orders",PRODUCTS:"beauty_app_products",CATEGORIES:"beauty_app_categories",BRANDS:"beauty_app_brands"},zj=3e4,Bj=3e5,qj=6e5,Hj=6e5,Wj=function(){return y(function e(){p(this,e)},null,[{key:"set",value:function(e,t,n){try{var r=n||this.getDefaultTTL(e),a={data:t,timestamp:Date.now(),ttl:r};localStorage.setItem(e,JSON.stringify(a))}catch(i){}}},{key:"getDefaultTTL",value:function(e){switch(e){case Uj.ORDERS:return zj;case Uj.PRODUCTS:return Bj;case Uj.CATEGORIES:return qj;case Uj.BRANDS:return Hj;default:return 3e5}}},{key:"get",value:function(e){try{var t=localStorage.getItem(e);if(!t)return null;var n=JSON.parse(t);return Date.now()-n.timestamp>n.ttl?(localStorage.removeItem(e),null):n.data}catch(r){return null}}},{key:"isStale",value:function(e){try{var t=localStorage.getItem(e);if(!t)return!0;var n=JSON.parse(t);return Date.now()-n.timestamp>.5*n.ttl}catch(r){return!0}}},{key:"remove",value:function(e){try{localStorage.removeItem(e)}catch(t){}}},{key:"clearAll",value:function(){var e=this;Object.values(Uj).forEach(function(t){e.remove(t)})}},{key:"isValid",value:function(e){return null!==this.get(e)}},{key:"getInfo",value:function(e){try{var t=localStorage.getItem(e);if(!t)return null;var n=JSON.parse(t),r=Date.now()-n.timestamp;return{key:e,age:r,ttl:n.ttl,expired:r>n.ttl,stale:r>.5*n.ttl,createdAt:new Date(n.timestamp)}}catch(a){return null}}}])}();var Gj=function(){var t=c((0,e.useState)([]),2),n=t[0],r=t[1],a=c((0,e.useState)([]),2),i=a[0],s=a[1],o=c((0,e.useState)(!0),2),u=o[0],l=o[1],d=c((0,e.useState)(!0),2),f=d[0],p=d[1],m=c((0,e.useState)([]),2),v=m[0],g=m[1],y=c((0,e.useState)(!0),2),b=y[0],k=y[1],x=c((0,e.useState)([]),2),w=x[0],N=x[1],j=c((0,e.useState)(!0),2),S=j[0],_=j[1],E=c((0,e.useState)([]),2),C=E[0],T=E[1],I=c((0,e.useState)(!0),2),A=I[0],D=I[1],P=c((0,e.useState)(0),2),R=P[0],O=P[1],L=c((0,e.useState)(0),2),M=L[0],F=L[1],V=c((0,e.useState)(0),2),U=V[0],z=V[1],B=c((0,e.useState)(null),2),q=B[0],H=B[1],W=c((0,e.useState)(!0),2),G=(W[0],W[1]),K=c((0,e.useState)(0),2),Q=K[0],X=K[1],Y=c((0,e.useState)(0),2),J=Y[0],$=Y[1],Z=c((0,e.useState)(!1),2),ee=Z[0],te=Z[1],ne=c((0,e.useState)(0),2),re=ne[0],ae=ne[1],ie=c((0,e.useState)(0),2),se=ie[0],oe=ie[1],ce=(0,e.useRef)(!1),ue=(0,e.useRef)(null),le=(0,e.useRef)(null),de=(0,e.useRef)(null),fe=Ne(),he=function(){var e=_n(jn().m(function e(){var t,n,r,a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,t=Wj.get(Uj.PRODUCTS)){e.n=1;break}return e.a(2);case 1:if(n=new Date,r=t.filter(function(e){return e.hasDiscount&&e.discountExpiresAt&&new Date(1e3*e.discountExpiresAt.seconds)<n}),!(r.length>0)){e.n=3;break}return a=Am(jj),r.forEach(function(e){var t=cp(jj,"products",e.id);if(e.hasVariants){var n=e.variants.map(function(e){return st(st({},e),{},{price:e.originalPrice||e.price,originalPrice:null})});a.update(t,{variants:n,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null})}else a.update(t,{price:e.originalPrice,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null,originalPrice:null})}),e.n=2,a.commit();case 2:Wj.remove(Uj.PRODUCTS);case 3:e.n=5;break;case 4:e.p=4,e.v;case 5:return e.a(2)}},e,null,[[0,4]])}));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)(function(){function e(){return e=_n(jn().m(function e(){var t,n,r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return D(!0),e.p=1,e.n=2,vm(op(jj,"heroSlides"));case 2:t=e.v,n=[],t.forEach(function(e){n.push(st({id:e.id},e.data()))}),(r=n.filter(function(e){return!1!==e.isActive})).sort(function(e,t){return(e.order||0)-(t.order||0)}),T(r),e.n=4;break;case 3:e.p=3,e.v,T([{id:"default-1",imageUrl:"/images/hero1.jpg",title:"Luxury Fashion",subtitle:"\u0645\u062d\u062a\u0648\u0649 \u0645\u062a\u062e\u0635\u0635 \u0628\u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0634\u0639\u0631",buttonText:"\u0627\u0634\u062a\u0631\u064a \u0627\u0644\u0622\u0646",buttonLink:"/products",order:1}]);case 4:return e.p=4,D(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),(0,e.useEffect)(function(){if(!(C.length<=1)){var e=setInterval(function(){O(function(e){return(e+1)%C.length})},5e3);return function(){return clearInterval(e)}}},[C.length]),(0,e.useEffect)(function(){function e(){return e=_n(jn().m(function e(){var t,n,r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(_(!0),e.p=1,!(t=Wj.get(Uj.CATEGORIES))){e.n=2;break}return N(t),_(!1),e.a(2);case 2:return e.n=3,vm(op(jj,"categories"));case 3:n=e.v,r=[],n.forEach(function(e){r.push(st({id:e.id},e.data()))}),Wj.set(Uj.CATEGORIES,r,6e5),N(r),e.n=5;break;case 4:e.p=4,e.v,N([]);case 5:return e.p=5,_(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),(0,e.useEffect)(function(){function e(){return e=_n(jn().m(function e(){var t,n,r,a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(p(!0),e.p=1,t=Wj.get(Uj.PRODUCTS),n=t){e.n=3;break}return e.n=2,vm(op(jj,"products"));case 2:r=e.v,n=[],r.forEach(function(e){n.push(st({id:e.id},e.data()))}),Wj.set(Uj.PRODUCTS,n,3e5);case 3:a=n.filter(function(e){return!0===e.isFeatured}).slice(0,6),s(a),e.n=5;break;case 4:e.p=4,e.v,s([]);case 5:return e.p=5,p(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),(0,e.useEffect)(function(){function e(){return e=_n(jn().m(function e(){var t,n,a,i,s,o,c,u;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(l(!0),e.p=1,t=Wj.get(Uj.ORDERS),n=Wj.get(Uj.PRODUCTS),i=n,a=t){e.n=3;break}return e.n=2,vm(op(jj,"orders"));case 2:s=e.v,a=[],s.forEach(function(e){a.push(st({id:e.id},e.data()))}),Wj.set(Uj.ORDERS,a,3e4);case 3:if(i){e.n=5;break}return e.n=4,vm(op(jj,"products"));case 4:o=e.v,i=[],o.forEach(function(e){i.push(st({id:e.id},e.data()))}),Wj.set(Uj.PRODUCTS,i,3e5);case 5:return c={},a.forEach(function(e){e.items&&Array.isArray(e.items)&&e.items.forEach(function(e){e.id&&(c[e.id]=(c[e.id]||0)+(e.quantity||1))})}),u=i.map(function(e){return st(st({},e),{},{orderCount:c[e.id]||0})}).filter(function(e){return e.orderCount>0}).sort(function(e,t){return t.orderCount-e.orderCount}).slice(0,5),r(u),e.n=6,he();case 6:e.n=8;break;case 7:e.p=7,e.v,r([{id:"1",name:"\u0643\u0631\u064a\u0645 \u0645\u0631\u0637\u0628 \u0644\u0644\u0648\u062c\u0647",price:50,brand:"Nivea",description:"\u0643\u0631\u064a\u0645 \u064a\u0631\u0637\u0628 \u0627\u0644\u0628\u0634\u0631\u0629 \u0648\u064a\u0645\u0646\u062d\u0647\u0627 \u0646\u0639\u0648\u0645\u0629 \u0641\u0627\u0626\u0642\u0629",images:["/images/sample1.jpg"],categories:["\u0627\u0644\u0648\u062c\u0647"],stock:15,orderCount:45},{id:"2",name:"\u0632\u064a\u062a \u0627\u0644\u0623\u0631\u063a\u0627\u0646 \u0644\u0644\u0634\u0639\u0631",price:70,brand:"The Ordinary",description:"\u0632\u064a\u062a \u0637\u0628\u064a\u0639\u064a 100% \u0644\u062a\u0642\u0648\u064a\u0629 \u0627\u0644\u0634\u0639\u0631",images:["/images/sample2.jpg"],categories:["\u0627\u0644\u0634\u0639\u0631"],stock:8,orderCount:38},{id:"4",name:"\u0633\u064a\u0631\u0648\u0645 \u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u0633\u064a",price:85,brand:"The Ordinary",description:"\u0633\u064a\u0631\u0648\u0645 \u0645\u0636\u0627\u062f \u0644\u0644\u0623\u0643\u0633\u062f\u0629 \u0644\u0625\u0634\u0631\u0627\u0642 \u0627\u0644\u0628\u0634\u0631\u0629",images:["/images/sample4.jpg"],categories:["\u0627\u0644\u0648\u062c\u0647"],stock:3,orderCount:32},{id:"5",name:"\u0634\u0627\u0645\u0628\u0648 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641",price:45,brand:"L'Or\xe9al",description:"\u0634\u0627\u0645\u0628\u0648 \u0645\u062e\u0635\u0635 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641 \u0648\u0627\u0644\u0645\u062a\u0636\u0631\u0631",images:["/images/sample5.jpg"],categories:["\u0627\u0644\u0634\u0639\u0631"],stock:12,orderCount:28},{id:"6",name:"\u0643\u0631\u064a\u0645 \u0645\u0642\u0634\u0631 \u0644\u0644\u062c\u0633\u0645",price:55,brand:"Zara Beauty",description:"\u0645\u0642\u0634\u0631 \u0644\u0637\u064a\u0641 \u0644\u0625\u0632\u0627\u0644\u0629 \u062e\u0644\u0627\u064a\u0627 \u0627\u0644\u062c\u0644\u062f \u0627\u0644\u0645\u064a\u062a\u0629",images:["/images/sample6.jpg"],categories:["\u0627\u0644\u062c\u0633\u0645"],stock:7,orderCount:22}]);case 8:return e.p=8,l(!1),e.f(8);case 9:return e.a(2)}},e,null,[[1,7,8,9]])})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),(0,e.useEffect)(function(){var e=setInterval(he,3e5);return function(){return clearInterval(e)}},[]),(0,e.useEffect)(function(){function e(){return(e=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return G(!0),e.p=1,e.n=2,vm(op(jj,"promotionalBanner"));case 2:(t=e.v).empty?H({backgroundImage:"https://images.unsplash.com/photo-1532453288672-3a27e9be9efd?q=80&w=764&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",headline:"\u0639\u0631\u0648\u0636 \u062d\u0635\u0631\u064a\u0629 \u0639\u0644\u0649 \u062c\u0645\u064a\u0639 \u0627\u0644\u0642\u0637\u0639 \u0641\u064a \u0627\u0644\u0645\u062a\u062c\u0631",subheading:"\u0648\u0641\u0631\u064a \u062d\u062a\u0649 30% \u0639\u0644\u0649 \u0642\u0637\u0639 \u0645\u062e\u062a\u0627\u0631\u0629 \u0644\u0641\u062a\u0631\u0629 \u0645\u062d\u062f\u0648\u062f\u0629",primaryButtonText:"\u062a\u0633\u0648\u0642\u064a \u0627\u0644\u0622\u0646",secondaryButtonText:"\u0627\u0639\u0631\u0641\u064a \u0627\u0644\u0645\u0632\u064a\u062f",primaryButtonAction:"/products",secondaryButtonAction:"/contact",isActive:!0}):(n=t.docs[0].data(),H(n)),e.n=4;break;case 3:e.p=3,e.v,H({backgroundImage:"https://images.unsplash.com/photo-1532453288672-3a27e9be9efd?q=80&w=764&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",headline:"\u0639\u0631\u0648\u0636 \u062d\u0635\u0631\u064a\u0629 \u0639\u0644\u0649 \u062c\u0645\u064a\u0639 \u0627\u0644\u0642\u0637\u0639 \u0641\u064a \u0627\u0644\u0645\u062a\u062c\u0631",subheading:"\u0648\u0641\u0631\u064a \u062d\u062a\u0649 30% \u0639\u0644\u0649 \u0642\u0637\u0639 \u0645\u062e\u062a\u0627\u0631\u0629 \u0644\u0641\u062a\u0631\u0629 \u0645\u062d\u062f\u0648\u062f\u0629",primaryButtonText:"\u062a\u0633\u0648\u0642\u064a \u0627\u0644\u0622\u0646",secondaryButtonText:"\u0627\u0639\u0631\u0641\u064a \u0627\u0644\u0645\u0632\u064a\u062f",primaryButtonAction:"/products",secondaryButtonAction:"/contact",isActive:!0});case 4:return e.p=4,G(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),(0,e.useEffect)(function(){function e(){return e=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return k(!0),e.p=1,e.n=2,vm(op(jj,"brands"));case 2:t=e.v,n=[],t.forEach(function(e){n.push(st({id:e.id},e.data()))}),g(n),e.n=4;break;case 3:e.p=3,e.v,g([{id:"1",name:"Nivea",logo:"/images/brands/nivea.png",icon:(0,Aj.jsx)("i",{className:"fas fa-pump-soap"})},{id:"2",name:"L'Or\xe9al",logo:"/images/brands/loreal.png",icon:(0,Aj.jsx)("i",{className:"fas fa-box"})},{id:"3",name:"Garnier",logo:"/images/brands/garnier.png",icon:(0,Aj.jsx)("i",{className:"fas fa-leaf"})},{id:"4",name:"The Ordinary",logo:"/images/brands/the-ordinary.png",icon:(0,Aj.jsx)("i",{className:"fas fa-flask"})},{id:"5",name:"Zara Beauty",logo:"/images/brands/zara-beauty.png",icon:(0,Aj.jsx)("i",{className:"fas fa-sparkles"})},{id:"6",name:"CeraVe",logo:"/images/brands/cerave.png",icon:(0,Aj.jsx)("i",{className:"fas fa-pump-soap"})}]);case 4:return e.p=4,k(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var pe=function(){O(function(e){return(e+1)%C.length})},me=function(){O(function(e){return(e-1+C.length)%C.length})},ve=function(e){if(ue.current){var t="next"===e?Q-320:Q+320;ue.current.scrollTo({left:t,behavior:"smooth"}),X(t)}},ge=function(e){if(le.current){var t="next"===e?J-320:J+320;le.current.scrollTo({left:t,behavior:"smooth"}),$(t)}};(0,e.useEffect)(function(){if(ue.current&&0!==i.length&&!(window.innerWidth<=768)){var e=setInterval(function(){if(ue.current){var e=ue.current,t=e.scrollLeft;if(t<=-(e.scrollWidth-e.clientWidth)+10)ue.current.scrollTo({left:0,behavior:"smooth"}),X(0);else{var n=t-320;ue.current.scrollTo({left:n,behavior:"smooth"}),X(n)}}},4e3);return function(){return clearInterval(e)}}},[i.length]),(0,e.useEffect)(function(){if(le.current&&0!==n.length&&!(window.innerWidth<=768)){var e=setInterval(function(){if(le.current){var e=le.current,t=e.scrollLeft;if(t<=-(e.scrollWidth-e.clientWidth)+10)le.current.scrollTo({left:0,behavior:"smooth"}),$(0);else{var n=t-320;le.current.scrollTo({left:n,behavior:"smooth"}),$(n)}}},5e3);return function(){return clearInterval(e)}}},[n.length]);var ye=function(e){var t=Wj.get(Uj.PRODUCTS);if(!t)return 0;var n=w.find(function(t){return t.name===e});return n?t.filter(function(t){var r;return t.categoryIds&&t.categoryIds.length>0?t.categoryIds.includes(n.id):null===(r=t.categories)||void 0===r?void 0:r.includes(e)}).length:0};return(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"home-page",children:[(0,Aj.jsx)("section",{className:"hero-section",children:A?(0,Aj.jsxs)("div",{className:"hero-loading",children:[(0,Aj.jsx)("div",{className:"spinner"}),(0,Aj.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):C.length>0?(0,Aj.jsxs)("div",{className:"hero-carousel",children:[(0,Aj.jsx)("div",{className:"hero-slides",onTouchStart:function(e){F(e.targetTouches[0].clientX)},onTouchMove:function(e){z(e.targetTouches[0].clientX)},onTouchEnd:function(){if(M&&U){var e=M-U,t=e<-50;e>50&&pe(),t&&me(),F(0),z(0)}},children:C.map(function(e,t){return(0,Aj.jsxs)("div",{className:"hero-slide ".concat(t===R?"active":""),style:{backgroundImage:"url(".concat(e.imageUrl,")")},children:[(0,Aj.jsx)("div",{className:"hero-overlay"}),(0,Aj.jsxs)("div",{className:"hero-content",style:{color:e.textColor||"white"},children:[(0,Aj.jsx)("h1",{className:"hero-title",children:e.title}),e.subtitle&&(0,Aj.jsx)("p",{className:"hero-subtitle",children:e.subtitle}),e.buttonText&&e.buttonLink&&(0,Aj.jsx)("button",{className:"hero-button",onClick:function(){return fe(e.buttonLink)},style:{backgroundColor:e.buttonColor||"#BFA57A"},children:e.buttonText})]})]},e.id)})}),C.length>1&&(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("button",{className:"hero-nav-btn prev",onClick:me,"aria-label":"Previous slide",children:(0,Aj.jsx)("i",{className:"fas fa-chevron-right"})}),(0,Aj.jsx)("button",{className:"hero-nav-btn next",onClick:pe,"aria-label":"Next slide",children:(0,Aj.jsx)("i",{className:"fas fa-chevron-left"})}),(0,Aj.jsx)("div",{className:"hero-dots",children:C.map(function(e,t){return(0,Aj.jsx)("button",{className:"hero-dot ".concat(t===R?"active":""),onClick:function(){return function(e){O(e)}(t)},"aria-label":"Go to slide ".concat(t+1)},t)})})]})]}):(0,Aj.jsx)("div",{className:"hero-empty",children:(0,Aj.jsx)("p",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0634\u0631\u0627\u0626\u062d \u0645\u0639\u0631\u0648\u0636\u0629 \u062d\u0627\u0644\u064a\u0627\u064b"})})}),(0,Aj.jsx)("section",{className:"brands-section",children:(0,Aj.jsx)("div",{className:"section-container",children:b?(0,Aj.jsx)("div",{className:"brands-loading",children:(0,Aj.jsx)("div",{className:"brands-loading-grid",children:h(Array(6)).map(function(e,t){return(0,Aj.jsx)("div",{className:"brand-skeleton",children:(0,Aj.jsx)("div",{className:"skeleton-brand-logo"})},t)})})}):v.length>0?(0,Aj.jsx)(Ij.A,{gradient:!0,gradientColor:[250,248,245],gradientWidth:50,speed:40,pauseOnHover:!0,direction:"left",style:{direction:"ltr"},className:"brands-marquee",children:v.map(function(e){return(0,Aj.jsx)("div",{className:"brand-marquee-item",onClick:function(){return t=e.name,void fe("/products?brand=".concat(encodeURIComponent(t)));var t},children:(0,Aj.jsx)("div",{className:"brand-marquee-card",children:e.logo?(0,Aj.jsx)("img",{src:e.logo,alt:e.name,className:"brand-marquee-logo",onError:function(e){e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):(0,Aj.jsx)("div",{className:"brand-marquee-fallback",children:(0,Aj.jsx)("span",{className:"brand-marquee-icon",children:e.icon||(0,Aj.jsx)("i",{className:"fas fa-tag"})})})})},e.id)})}):(0,Aj.jsxs)("div",{className:"no-brands-message",children:[(0,Aj.jsx)("div",{className:"no-brands-icon",children:(0,Aj.jsx)("i",{className:"fas fa-tag"})}),(0,Aj.jsx)("h3",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0639\u0644\u0627\u0645\u0627\u062a \u062a\u062c\u0627\u0631\u064a\u0629"})]})})}),(0,Aj.jsx)("section",{className:"categories-section",children:(0,Aj.jsxs)("div",{className:"section-container",children:[(0,Aj.jsxs)("div",{className:"section-header",children:[(0,Aj.jsx)("div",{className:"section-header-content",children:(0,Aj.jsx)("h2",{className:"section-title",children:"\u062a\u0633\u0648\u0642\u064a \u062d\u0633\u0628 \u0627\u0644\u0641\u0626\u0629"})}),(0,Aj.jsx)("p",{className:"section-subtitle",children:"\u0627\u0643\u062a\u0634\u0641\u064a \u0645\u062c\u0645\u0648\u0639\u062a\u0646\u0627 \u0627\u0644\u0645\u062a\u0646\u0648\u0639\u0629 \u0645\u0646 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"})]}),S?(0,Aj.jsx)("div",{className:"categories-carousel-loading",children:h(Array(5)).map(function(e,t){return(0,Aj.jsxs)("div",{className:"category-card-skeleton",children:[(0,Aj.jsx)("div",{className:"skeleton-category-image"}),(0,Aj.jsx)("div",{className:"skeleton-category-overlay"})]},t)})}):(0,Aj.jsx)("div",{className:"categories-carousel-wrapper",children:(0,Aj.jsx)("div",{className:"categories-carousel ".concat(ee?"dragging":""),ref:de,onMouseDown:function(e){de.current&&(te(!0),ce.current=!1,ae(e.pageX-de.current.offsetLeft),oe(de.current.scrollLeft),de.current.style.cursor="grabbing")},onMouseUp:function(){te(!1),de.current&&(de.current.style.cursor="grab")},onMouseLeave:function(){te(!1),de.current&&(de.current.style.cursor="grab")},onMouseMove:function(e){if(ee&&de.current){e.preventDefault();var t=1.5*(e.pageX-de.current.offsetLeft-re);Math.abs(t)>5&&(ce.current=!0),de.current.scrollLeft=se-t}},children:w.map(function(e){return(0,Aj.jsxs)("div",{className:"category-card-modern",children:[(0,Aj.jsxs)("div",{className:"category-card-image",children:[e.imageUrl?(0,Aj.jsx)("img",{src:e.imageUrl,alt:e.name,draggable:"false",loading:"lazy",onError:function(e){e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Aj.jsx)("div",{className:"category-card-fallback",style:{display:e.imageUrl?"none":"flex"},children:(0,Aj.jsx)("i",{className:"fas ".concat("\u0627\u0644\u0648\u062c\u0647"===e.name?"fa-face-smile":"\u0627\u0644\u0634\u0639\u0631"===e.name?"fa-scissors":"\u0627\u0644\u062c\u0633\u0645"===e.name?"fa-pump-soap":"fa-tag")})})]}),(0,Aj.jsxs)("div",{className:"category-card-overlay",children:[(0,Aj.jsxs)("span",{className:"category-card-count",children:[ye(e.name)," \u0645\u0646\u062a\u062c"]}),(0,Aj.jsx)("h3",{className:"category-card-name",children:e.name}),(0,Aj.jsxs)("span",{className:"category-card-cta",onClick:function(){return t=e.name,void fe("/products?category=".concat(encodeURIComponent(t)));var t},children:["\u062a\u0633\u0648\u0642\u064a \u0627\u0644\u0622\u0646 ",(0,Aj.jsx)("i",{className:"fas fa-arrow-left"})]})]})]},e.id)})})}),0===w.length&&!S&&(0,Aj.jsxs)("div",{className:"no-categories-message",children:[(0,Aj.jsx)("div",{className:"no-categories-icon",children:(0,Aj.jsx)("i",{className:"fas fa-tag"})}),(0,Aj.jsx)("h3",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0641\u0626\u0627\u062a"})]})]})}),(f||i.length>0)&&(0,Aj.jsx)("section",{className:"featured-products-section",children:(0,Aj.jsxs)("div",{className:"section-container",children:[(0,Aj.jsxs)("div",{className:"section-header",children:[(0,Aj.jsx)("div",{className:"section-header-content",children:(0,Aj.jsx)("h2",{className:"section-title",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0645\u0645\u064a\u0632\u0629"})}),(0,Aj.jsx)("p",{className:"section-subtitle",children:"\u0627\u062e\u062a\u064a\u0627\u0631\u0646\u0627 \u0645\u0646 \u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0644\u0643\u0650"})]}),f?(0,Aj.jsx)("div",{className:"products-carousel-loading",children:(0,Aj.jsx)("div",{className:"carousel-loading-grid",children:h(Array(4)).map(function(e,t){return(0,Aj.jsxs)("div",{className:"product-skeleton",children:[(0,Aj.jsx)("div",{className:"skeleton-image"}),(0,Aj.jsxs)("div",{className:"skeleton-content",children:[(0,Aj.jsx)("div",{className:"skeleton-title"}),(0,Aj.jsx)("div",{className:"skeleton-price"}),(0,Aj.jsx)("div",{className:"skeleton-button"})]})]},t)})})}):(0,Aj.jsxs)("div",{className:"products-carousel-wrapper",children:[(0,Aj.jsx)("button",{className:"carousel-nav-btn carousel-next",onClick:function(){return ve("prev")},"aria-label":"\u0627\u0644\u0633\u0627\u0628\u0642",children:(0,Aj.jsx)("i",{className:"fas fa-chevron-right"})}),(0,Aj.jsx)("div",{className:"products-carousel",ref:ue,children:i.map(function(e){return(0,Aj.jsx)("div",{className:"carousel-product-item",children:(0,Aj.jsx)(Mj,{product:e})},e.id)})}),(0,Aj.jsx)("button",{className:"carousel-nav-btn carousel-prev",onClick:function(){return ve("next")},"aria-label":"\u0627\u0644\u062a\u0627\u0644\u064a",children:(0,Aj.jsx)("i",{className:"fas fa-chevron-left"})})]}),(0,Aj.jsx)("div",{className:"section-cta",children:(0,Aj.jsxs)("button",{className:"view-all-button",onClick:function(){return fe("/products")},children:[(0,Aj.jsx)("span",{className:"cta-text",children:"\u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Aj.jsx)("span",{className:"cta-arrow",children:"\u2190"})]})})]})}),(0,Aj.jsx)("section",{className:"popular-products-section",children:(0,Aj.jsxs)("div",{className:"section-container",children:[(0,Aj.jsxs)("div",{className:"section-header",children:[(0,Aj.jsx)("div",{className:"section-header-content",children:(0,Aj.jsx)("h2",{className:"section-title",children:"\u0627\u0644\u0623\u0643\u062b\u0631 \u0637\u0644\u0628\u0627\u064b"})}),(0,Aj.jsx)("p",{className:"section-subtitle",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0623\u0643\u062b\u0631 \u0634\u0639\u0628\u064a\u0629 \u0628\u064a\u0646 \u0639\u0645\u0644\u0627\u0626\u0646\u0627"})]}),u?(0,Aj.jsx)("div",{className:"products-carousel-loading",children:(0,Aj.jsx)("div",{className:"carousel-loading-grid",children:h(Array(4)).map(function(e,t){return(0,Aj.jsxs)("div",{className:"product-skeleton",children:[(0,Aj.jsx)("div",{className:"skeleton-image"}),(0,Aj.jsxs)("div",{className:"skeleton-content",children:[(0,Aj.jsx)("div",{className:"skeleton-title"}),(0,Aj.jsx)("div",{className:"skeleton-price"}),(0,Aj.jsx)("div",{className:"skeleton-button"})]})]},t)})})}):(0,Aj.jsxs)(Aj.Fragment,{children:[n.length>0?(0,Aj.jsxs)("div",{className:"products-carousel-wrapper",children:[(0,Aj.jsx)("button",{className:"carousel-nav-btn carousel-next",onClick:function(){return ge("prev")},"aria-label":"\u0627\u0644\u0633\u0627\u0628\u0642",children:(0,Aj.jsx)("i",{className:"fas fa-chevron-right"})}),(0,Aj.jsx)("div",{className:"products-carousel",ref:le,children:n.map(function(e){return(0,Aj.jsx)("div",{className:"carousel-product-item",children:(0,Aj.jsx)(Mj,{product:e})},e.id)})}),(0,Aj.jsx)("button",{className:"carousel-nav-btn carousel-prev",onClick:function(){return ge("next")},"aria-label":"\u0627\u0644\u062a\u0627\u0644\u064a",children:(0,Aj.jsx)("i",{className:"fas fa-chevron-left"})})]}):(0,Aj.jsxs)("div",{className:"no-orders-message",children:[(0,Aj.jsx)("div",{className:"no-orders-icon",children:(0,Aj.jsx)("i",{className:"fas fa-box"})}),(0,Aj.jsx)("h3",{children:"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631 \u062d\u0627\u0644\u064a\u0627\u064b"})]}),(0,Aj.jsx)("div",{className:"section-cta",children:(0,Aj.jsxs)("button",{className:"view-all-button",onClick:function(){return fe("/products")},children:[(0,Aj.jsx)("span",{className:"cta-text",children:"\u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Aj.jsx)("span",{className:"cta-arrow",children:"\u2190"})]})})]})]})}),q&&q.isActive&&(0,Aj.jsx)("section",{className:"promotional-banner-section",children:(0,Aj.jsx)("div",{className:"promo-container",children:(0,Aj.jsx)(Dj,{backgroundImage:q.backgroundImage,headline:q.headline,subheading:q.subheading,primaryButtonText:q.primaryButtonText,secondaryButtonText:q.secondaryButtonText,primaryButtonAction:q.primaryButtonAction,secondaryButtonAction:q.secondaryButtonAction})})}),(0,Aj.jsx)(Vj,{})]})]})};var Kj=function(){var t=c((0,e.useState)([]),2),n=t[0],r=t[1],a=c((0,e.useState)([]),2),i=a[0],s=a[1],o=c((0,e.useState)(""),2),u=o[0],l=o[1],d=c((0,e.useState)(""),2),f=d[0],p=d[1],m=c((0,e.useState)(""),2),v=m[0],g=m[1],y=c((0,e.useState)(""),2),b=y[0],k=y[1],x=c((0,e.useState)(""),2),w=x[0],N=x[1],j=c((0,e.useState)(!1),2),S=j[0],_=j[1],E=c((0,e.useState)([]),2),C=E[0],T=E[1],I=c((0,e.useState)([]),2),A=I[0],D=I[1],P=c((0,e.useState)(new Set),2),R=P[0],O=P[1],L=c((0,e.useState)(!1),2),M=L[0],F=L[1],V=c((0,e.useState)(5),1)[0],U=c((0,e.useState)(1),2),z=U[0],B=U[1],q=c((0,e.useState)(8),1)[0],H=c((0,e.useState)(!0),2),W=H[0],G=H[1],K=c((0,e.useState)(""),2),Q=K[0],X=K[1],Y=(xe(),c(nt(),2)),J=Y[0],$=Y[1];(0,e.useEffect)(function(){function e(){return e=_n(jn().m(function e(){var t,n,r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!(t=Wj.get(Uj.CATEGORIES))){e.n=1;break}return T(t),e.a(2);case 1:return e.n=2,vm(op(jj,"categories"));case 2:n=e.v,r=[],n.forEach(function(e){return r.push(st({id:e.id},e.data()))}),Wj.set(Uj.CATEGORIES,r,6e5),T(r),e.n=4;break;case 3:e.p=3,e.v,T([{id:"1",name:"\u0627\u0644\u062c\u0633\u0645",subcategories:[]},{id:"2",name:"\u0627\u0644\u0648\u062c\u0647",subcategories:[]},{id:"3",name:"\u0627\u0644\u0634\u0639\u0631",subcategories:[]}]);case 4:return e.a(2)}},e,null,[[0,3]])})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),(0,e.useEffect)(function(){function e(){return e=_n(jn().m(function e(){var t,n,r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!(t=Wj.get(Uj.BRANDS))){e.n=1;break}return D(t.map(function(e){return e.name})),e.a(2);case 1:return e.n=2,vm(op(jj,"brands"));case 2:n=e.v,r=[],n.forEach(function(e){return r.push(st({id:e.id},e.data()))}),Wj.set(Uj.BRANDS,r,6e5),D(r.map(function(e){return e.name})),e.n=4;break;case 3:e.p=3,e.v,D(["Zara Beauty","Nivea","L'Or\xe9al","Garnier","The Ordinary"]);case 4:return e.a(2)}},e,null,[[0,3]])})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),(0,e.useEffect)(function(){function e(){return e=_n(jn().m(function e(){var t,n,a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(G(!0),X(""),e.p=1,!(t=Wj.get(Uj.PRODUCTS))){e.n=2;break}return r(t),G(!1),e.a(2);case 2:return e.n=3,vm(op(jj,"products"));case 3:n=e.v,a=[],n.forEach(function(e){a.push(st({id:e.id},e.data()))}),Wj.set(Uj.PRODUCTS,a,3e5),r(a),e.n=5;break;case 4:e.p=4,e.v,X("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"),r([{id:"1",name:"\u0643\u0631\u064a\u0645 \u0645\u0631\u0637\u0628 \u0644\u0644\u0648\u062c\u0647",price:50,brand:"Nivea",description:"\u0643\u0631\u064a\u0645 \u064a\u0631\u0637\u0628 \u0627\u0644\u0628\u0634\u0631\u0629 \u0648\u064a\u0645\u0646\u062d\u0647\u0627 \u0646\u0639\u0648\u0645\u0629 \u0641\u0627\u0626\u0642\u0629 \u0645\u0639 \u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0627\u0644\u064a\u0648\u0645\u064a\u0629.",images:["/images/sample1.jpg"],categories:["\u0627\u0644\u0648\u062c\u0647"],stock:15},{id:"2",name:"\u0632\u064a\u062a \u0627\u0644\u0623\u0631\u063a\u0627\u0646 \u0644\u0644\u0634\u0639\u0631",price:70,brand:"The Ordinary",description:"\u0632\u064a\u062a \u0637\u0628\u064a\u0639\u064a 100% \u0644\u062a\u0642\u0648\u064a\u0629 \u0627\u0644\u0634\u0639\u0631 \u0648\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0644\u0645\u0639\u0627\u0646 \u0627\u0644\u0637\u0628\u064a\u0639\u064a.",images:["/images/sample2.jpg"],categories:["\u0627\u0644\u0634\u0639\u0631"],stock:8},{id:"3",name:"\u063a\u0633\u0648\u0644 \u0627\u0644\u062c\u0633\u0645 \u0627\u0644\u0645\u063a\u0630\u064a",price:40,brand:"Garnier",description:"\u063a\u0633\u0648\u0644 \u0631\u0627\u0626\u0639 \u0644\u062a\u0646\u0638\u064a\u0641 \u0627\u0644\u062c\u0633\u0645 \u0628\u0631\u0627\u0626\u062d\u0629 \u0639\u0637\u0631\u0629 \u0648\u0645\u0643\u0648\u0646\u0627\u062a \u0637\u0628\u064a\u0639\u064a\u0629.",images:["/images/sample3.jpg"],categories:["\u0627\u0644\u062c\u0633\u0645"],stock:0},{id:"4",name:"\u0633\u064a\u0631\u0648\u0645 \u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u0633\u064a",price:85,brand:"The Ordinary",description:"\u0633\u064a\u0631\u0648\u0645 \u0645\u0636\u0627\u062f \u0644\u0644\u0623\u0643\u0633\u062f\u0629 \u0644\u0625\u0634\u0631\u0627\u0642 \u0627\u0644\u0628\u0634\u0631\u0629 \u0648\u0645\u062d\u0627\u0631\u0628\u0629 \u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u0642\u062f\u0645.",images:["/images/sample4.jpg"],categories:["\u0627\u0644\u0648\u062c\u0647"],stock:3},{id:"5",name:"\u0634\u0627\u0645\u0628\u0648 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641",price:45,brand:"L'Or\xe9al",description:"\u0634\u0627\u0645\u0628\u0648 \u0645\u062e\u0635\u0635 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641 \u0648\u0627\u0644\u0645\u062a\u0636\u0631\u0631 \u0628\u062a\u0631\u0643\u064a\u0628\u0629 \u0645\u0631\u0637\u0628\u0629 \u0639\u0645\u064a\u0642\u0629.",images:["/images/sample5.jpg"],categories:["\u0627\u0644\u0634\u0639\u0631"],stock:12},{id:"6",name:"\u0643\u0631\u064a\u0645 \u0645\u0642\u0634\u0631 \u0644\u0644\u062c\u0633\u0645",price:55,brand:"Zara Beauty",description:"\u0645\u0642\u0634\u0631 \u0644\u0637\u064a\u0641 \u0644\u0625\u0632\u0627\u0644\u0629 \u062e\u0644\u0627\u064a\u0627 \u0627\u0644\u062c\u0644\u062f \u0627\u0644\u0645\u064a\u062a\u0629 \u0648\u062a\u062c\u062f\u064a\u062f \u0646\u0639\u0648\u0645\u0629 \u0627\u0644\u0628\u0634\u0631\u0629.",images:["/images/sample6.jpg"],categories:["\u0627\u0644\u062c\u0633\u0645"],stock:7}]);case 5:return e.p=5,G(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),(0,e.useEffect)(function(){var e=h(n);u&&(e=e.filter(function(e){return e.name.toLowerCase().includes(u.toLowerCase())||e.description.toLowerCase().includes(u.toLowerCase())||e.brand&&e.brand.toLowerCase().includes(u.toLowerCase())})),b?e=e.filter(function(e){var t=e.subcategoryIds||[],n=e.subcategories||[],r=t.some(function(e){return e.endsWith("_".concat(b))}),a=n.includes(b);return r||a}):v&&(e=e.filter(function(e){var t=e.categoryIds||[],n=e.categories||[],r=C.find(function(e){return e.name===v}),a=r&&t.includes(r.id),i=n.includes(v);return a||i})),w&&(e=e.filter(function(e){return e.brand===w})),S&&(e=e.filter(function(e){return!0===e.hasDiscount})),"name"===f?e.sort(function(e,t){return e.name.localeCompare(t.name)}):"priceAsc"===f?e.sort(function(e,t){return e.price-t.price}):"priceDesc"===f?e.sort(function(e,t){return t.price-e.price}):"brand"===f&&e.sort(function(e,t){return(e.brand||"").localeCompare(t.brand||"")}),s(e),B(1)},[n,u,f,v,b,w,S]),(0,e.useEffect)(function(){var e=J.get("brand");e&&N(decodeURIComponent(e))},[J]),(0,e.useEffect)(function(){var e=J.get("category");if(e){var t=decodeURIComponent(e);g(t);var n=C.find(function(e){return e.name===t});if(n&&n.subcategories&&n.subcategories.length>0){var r=new Set(R);r.add(t),O(r)}}},[J,C]);var Z=z*q,ee=Z-q,te=i.slice(ee,Z),ne=Math.ceil(i.length/q),re=function(e){B(e),window.scrollTo({top:0,behavior:"smooth"})},ae=function(){l(""),p(""),g(""),k(""),N(""),_(!1),$({})},ie=function(e){if(v===e)g(""),k("");else{g(e),k("");var t=new Set(R);t.add(e),O(t)}},se=function(){return(0,Aj.jsx)("div",{className:"pr-grid",children:h(Array(8)).map(function(e,t){return(0,Aj.jsxs)("div",{className:"pr-skeleton",children:[(0,Aj.jsx)("div",{className:"pr-skel-image"}),(0,Aj.jsxs)("div",{className:"pr-skel-content",children:[(0,Aj.jsx)("div",{className:"pr-skel-title"}),(0,Aj.jsx)("div",{className:"pr-skel-desc"}),(0,Aj.jsx)("div",{className:"pr-skel-price"}),(0,Aj.jsx)("div",{className:"pr-skel-btn"})]})]},t)})})};return(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("section",{className:"products-hero",children:[(0,Aj.jsx)("div",{className:"products-hero-overlay"}),(0,Aj.jsxs)("div",{className:"products-hero-content",children:[(0,Aj.jsx)("h1",{className:"products-hero-title",children:"\u0645\u0646\u062a\u062c\u0627\u062a\u0646\u0627"}),(0,Aj.jsx)("p",{className:"products-hero-subtitle",children:"\u0627\u0643\u062a\u0634\u0641\u064a \u0645\u062c\u0645\u0648\u0639\u062a\u0646\u0627 \u0627\u0644\u0641\u0627\u062e\u0631\u0629"})]})]}),(0,Aj.jsx)("div",{className:"products-page",children:(0,Aj.jsxs)("div",{className:"pr-container",children:[Q&&(0,Aj.jsxs)("div",{className:"pr-error",role:"alert",children:[(0,Aj.jsx)("span",{className:"pr-error-icon",children:(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})}),(0,Aj.jsx)("span",{children:Q}),(0,Aj.jsx)("button",{onClick:function(){return window.location.reload()},className:"pr-retry-btn",children:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"})]}),(0,Aj.jsx)("div",{className:"pr-search-bar",children:(0,Aj.jsxs)("div",{className:"pr-search-wrapper",children:[(0,Aj.jsx)("i",{className:"fas fa-search pr-search-icon"}),(0,Aj.jsx)("input",{id:"search-input",type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0645\u0646\u062a\u062c \u0623\u0648 \u0648\u0635\u0641 \u0623\u0648 \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629...",value:u,onChange:function(e){return l(e.target.value)},className:"pr-search-input","aria-label":"\u0627\u0644\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),u&&(0,Aj.jsx)("button",{className:"pr-clear-search",onClick:function(){return l("")},"aria-label":"\u0645\u0633\u062d \u0627\u0644\u0628\u062d\u062b",children:(0,Aj.jsx)("i",{className:"fas fa-times"})})]})}),(u||f||v||b||w||S)&&(0,Aj.jsxs)("div",{className:"pr-active-filters",children:[(0,Aj.jsxs)("span",{className:"pr-active-label",children:[(0,Aj.jsx)("i",{className:"fas fa-filter"}),"\u0627\u0644\u0641\u0644\u0627\u062a\u0631 \u0627\u0644\u0645\u0637\u0628\u0642\u0629:"]}),(0,Aj.jsxs)("div",{className:"pr-filter-tags",children:[u&&(0,Aj.jsxs)("span",{className:"pr-filter-tag",children:[(0,Aj.jsx)("i",{className:"fas fa-search"}),u,(0,Aj.jsx)("button",{onClick:function(){return l("")},children:"\xd7"})]}),v&&(0,Aj.jsxs)("span",{className:"pr-filter-tag",children:[(0,Aj.jsx)("i",{className:"fas fa-tag"}),v,(0,Aj.jsx)("button",{onClick:function(){g(""),k("")},children:"\xd7"})]}),b&&(0,Aj.jsxs)("span",{className:"pr-filter-tag pr-filter-tag-subcategory",children:[(0,Aj.jsx)("i",{className:"fas fa-arrow-left"}),b,(0,Aj.jsx)("button",{onClick:function(){return k("")},children:"\xd7"})]}),w&&(0,Aj.jsxs)("span",{className:"pr-filter-tag",children:[(0,Aj.jsx)("i",{className:"fas fa-award"}),w,(0,Aj.jsx)("button",{onClick:function(){return N("")},children:"\xd7"})]}),S&&(0,Aj.jsxs)("span",{className:"pr-filter-tag",children:[(0,Aj.jsx)("i",{className:"fas fa-tag"}),"\u0639\u0631\u0648\u0636 \u0641\u0642\u0637",(0,Aj.jsx)("button",{onClick:function(){return _(!1)},children:"\xd7"})]})]}),(0,Aj.jsxs)("button",{className:"pr-clear-all-btn",onClick:ae,children:[(0,Aj.jsx)("i",{className:"fas fa-times-circle"}),"\u0645\u0633\u062d \u0627\u0644\u0643\u0644"]})]}),(0,Aj.jsxs)("div",{className:"pr-main-content",children:[(0,Aj.jsxs)("aside",{className:"pr-sidebar",children:[(0,Aj.jsxs)("div",{className:"pr-sidebar-header",children:[(0,Aj.jsx)("i",{className:"fas fa-sliders-h"}),(0,Aj.jsx)("h3",{children:"\u0627\u0644\u062a\u0635\u0641\u064a\u0629"})]}),(0,Aj.jsxs)("div",{className:"pr-filter-group",children:[(0,Aj.jsxs)("label",{htmlFor:"sort-select",className:"pr-filter-label",children:[(0,Aj.jsx)("i",{className:"fas fa-sort"}),"\u0627\u0644\u062a\u0631\u062a\u064a\u0628"]}),(0,Aj.jsxs)("select",{id:"sort-select",value:f,onChange:function(e){return p(e.target.value)},className:"pr-filter-select","aria-label":"\u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",children:[(0,Aj.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u062a\u0631\u062a\u064a\u0628"}),(0,Aj.jsx)("option",{value:"name",children:"\u0627\u0644\u0627\u0633\u0645 (\u0623-\u064a)"}),(0,Aj.jsx)("option",{value:"brand",children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 (\u0623-\u064a)"}),(0,Aj.jsx)("option",{value:"priceAsc",children:"\u0627\u0644\u0633\u0639\u0631 (\u0627\u0644\u0623\u0642\u0644 \u0623\u0648\u0644\u0627\u064b)"}),(0,Aj.jsx)("option",{value:"priceDesc",children:"\u0627\u0644\u0633\u0639\u0631 (\u0627\u0644\u0623\u0639\u0644\u0649 \u0623\u0648\u0644\u0627\u064b)"})]})]}),(0,Aj.jsxs)("div",{className:"pr-categories-filter",children:[(0,Aj.jsxs)("label",{className:"pr-filter-label",children:[(0,Aj.jsx)("i",{className:"fas fa-th-large"}),"\u0627\u0644\u0641\u0626\u0627\u062a"]}),(0,Aj.jsxs)("div",{className:"pr-category-accordion",children:[(0,Aj.jsxs)("button",{className:"pr-category-item ".concat(v||b?"":"active"),onClick:function(){return ie("")},children:[(0,Aj.jsx)("span",{className:"pr-category-icon",children:(0,Aj.jsx)("i",{className:"fas fa-th"})}),(0,Aj.jsx)("span",{className:"pr-category-name",children:"\u0627\u0644\u0643\u0644"})]}),(M?C:C.slice(0,V)).map(function(e){var t=e.name,n=e.subcategories&&e.subcategories.length>0,r=R.has(t),a=v===t;return(0,Aj.jsxs)("div",{className:"pr-category-wrapper",children:[(0,Aj.jsxs)("button",{className:"pr-category-item ".concat(a&&!b?"active":""),onClick:function(){return ie(t)},children:[(0,Aj.jsx)("span",{className:"pr-category-icon",children:"\u0627\u0644\u0648\u062c\u0647"===t?(0,Aj.jsx)("i",{className:"fas fa-face-smile"}):"\u0627\u0644\u0634\u0639\u0631"===t?(0,Aj.jsx)("i",{className:"fas fa-scissors"}):"\u0627\u0644\u062c\u0633\u0645"===t?(0,Aj.jsx)("i",{className:"fas fa-pump-soap"}):(0,Aj.jsx)("i",{className:"fas fa-tag"})}),(0,Aj.jsx)("span",{className:"pr-category-name",children:t}),n&&(0,Aj.jsx)("button",{className:"pr-category-expand",onClick:function(e){e.stopPropagation(),function(e){var t=new Set(R);t.has(e)?t.delete(e):t.add(e),O(t)}(t)},children:(0,Aj.jsx)("i",{className:"fas fa-chevron-".concat(r?"up":"down")})})]}),n&&r&&(0,Aj.jsx)("div",{className:"pr-subcategories-list",children:e.subcategories.map(function(e){return(0,Aj.jsxs)("button",{className:"pr-subcategory-item ".concat(b===e?"active":""),onClick:function(){var n;v!==t&&g(t),k(b===(n=e)?"":n)},children:[(0,Aj.jsx)("span",{className:"pr-subcategory-dot"}),(0,Aj.jsx)("span",{className:"pr-subcategory-name",children:e})]},e)})})]},t)})]}),C.length>V&&(0,Aj.jsx)("button",{className:"pr-show-more-categories",onClick:function(){return F(!M)},children:M?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-chevron-up"}),(0,Aj.jsx)("span",{children:"\u0639\u0631\u0636 \u0623\u0642\u0644"})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-chevron-down"}),(0,Aj.jsxs)("span",{children:["\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f (",C.length-V,")"]})]})})]}),(0,Aj.jsxs)("div",{className:"pr-brands-filter",children:[(0,Aj.jsxs)("label",{className:"pr-filter-label",children:[(0,Aj.jsx)("i",{className:"fas fa-award"}),"\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"]}),(0,Aj.jsxs)("div",{className:"pr-brand-chips",children:[(0,Aj.jsxs)("button",{className:"pr-brand-chip ".concat(w?"":"active"),onClick:function(){return N("")},children:[(0,Aj.jsx)("span",{className:"pr-chip-icon",children:(0,Aj.jsx)("i",{className:"fas fa-th"})}),(0,Aj.jsx)("span",{className:"pr-chip-text",children:"\u0627\u0644\u0643\u0644"})]}),A.map(function(e){return(0,Aj.jsxs)("button",{className:"pr-brand-chip ".concat(w===e?"active":""),onClick:function(){return N(e)},children:[(0,Aj.jsx)("span",{className:"pr-chip-icon",children:(0,Aj.jsx)("i",{className:"fas fa-award"})}),(0,Aj.jsx)("span",{className:"pr-chip-text",children:e})]},e)})]})]}),(0,Aj.jsxs)("div",{className:"pr-filter-group",children:[(0,Aj.jsxs)("label",{className:"pr-filter-label",children:[(0,Aj.jsx)("i",{className:"fas fa-tag"}),"\u0627\u0644\u0639\u0631\u0648\u0636"]}),(0,Aj.jsxs)("div",{className:"pr-checkbox-wrapper",children:[(0,Aj.jsx)("input",{type:"checkbox",id:"sale-checkbox",checked:S,onChange:function(e){return _(e.target.checked)},className:"pr-filter-checkbox","aria-label":"\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0641\u064a \u0627\u0644\u0639\u0631\u0648\u0636 \u0641\u0642\u0637"}),(0,Aj.jsx)("label",{htmlFor:"sale-checkbox",className:"pr-checkbox-label",children:"\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0641\u064a \u0627\u0644\u0639\u0631\u0648\u0636 \u0641\u0642\u0637"})]})]}),(f||v||w||S)&&(0,Aj.jsxs)("button",{className:"pr-reset-filters",onClick:ae,children:[(0,Aj.jsx)("i",{className:"fas fa-redo"}),"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0627\u0644\u0641\u0644\u0627\u062a\u0631"]})]}),(0,Aj.jsx)("div",{className:"pr-content",children:W?(0,Aj.jsx)(se,{}):0===i.length?(0,Aj.jsxs)("div",{className:"pr-empty",children:[(0,Aj.jsx)("div",{className:"pr-empty-icon",children:(0,Aj.jsx)("i",{className:"fas fa-box-open"})}),(0,Aj.jsx)("h3",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Aj.jsx)("p",{children:u||v||w?"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0646\u062a\u062c\u0627\u062a \u062a\u0637\u0627\u0628\u0642 \u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u0628\u062d\u062b \u0627\u0644\u0645\u062d\u062f\u062f\u0629":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0646\u062a\u062c\u0627\u062a \u0645\u062a\u0627\u062d\u0629 \u062d\u0627\u0644\u064a\u0627\u064b"}),(u||v||f||w)&&(0,Aj.jsxs)("button",{className:"pr-clear-filters-btn",onClick:ae,children:[(0,Aj.jsx)("i",{className:"fas fa-times-circle"}),"\u0645\u0633\u062d \u062c\u0645\u064a\u0639 \u0627\u0644\u0641\u0644\u0627\u062a\u0631"]})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("div",{className:"pr-grid",children:te.map(function(e){return(0,Aj.jsx)(Mj,{product:e},e.id)})}),ne>1&&(0,Aj.jsxs)("div",{className:"pr-pagination",children:[(0,Aj.jsxs)("button",{className:"pr-page-btn prev",onClick:function(){return re(z-1)},disabled:1===z,"aria-label":"\u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629",children:[(0,Aj.jsx)("i",{className:"fas fa-chevron-right"}),"\u0627\u0644\u0633\u0627\u0628\u0642"]}),(0,Aj.jsx)("div",{className:"pr-page-numbers",children:h(Array(ne)).map(function(e,t){var n=t+1;return 1===n||n===ne||n>=z-1&&n<=z+1?(0,Aj.jsx)("button",{className:"pr-page-btn ".concat(z===n?"active":""),onClick:function(){return re(n)},"aria-label":"\u0627\u0644\u0635\u0641\u062d\u0629 ".concat(n),"aria-current":z===n?"page":void 0,children:n},n):n===z-2||n===z+2?(0,Aj.jsx)("span",{className:"pr-page-ellipsis",children:"..."},n):null})}),(0,Aj.jsxs)("button",{className:"pr-page-btn next",onClick:function(){return re(z+1)},disabled:z===ne,"aria-label":"\u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u062a\u0627\u0644\u064a\u0629",children:["\u0627\u0644\u062a\u0627\u0644\u064a",(0,Aj.jsx)("i",{className:"fas fa-chevron-left"})]})]})]})})]})]})}),(0,Aj.jsx)(Vj,{})]})};function Qj(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(m(e)+" is not iterable")}var Xj=function(t){var n=t.productId,r=c((0,e.useState)([]),2),a=r[0],i=r[1],s=c((0,e.useState)(!1),2),o=s[0],u=s[1],l=c((0,e.useState)(!1),2),d=l[0],f=l[1],p=c((0,e.useState)(!1),2),m=p[0],v=p[1],g=c((0,e.useState)(null),2),y=g[0],b=g[1],k=c((0,e.useState)({name:"",email:"",phone:"",comment:"",rating:0,images:[]}),2),x=k[0],w=k[1];(0,e.useEffect)(function(){N()},[n]);var N=function(){var e=_n(jn().m(function e(){var t,r,a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return f(!0),e.p=1,t=Xp(op(jj,"feedbacks"),Jp("productId","==",n),Jp("status","==","approved"),em("createdAt","desc")),e.n=2,vm(t);case 2:r=e.v,a=[],r.forEach(function(e){a.push(st({id:e.id},e.data()))}),i(a),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.p=4,f(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),j=function(e){var t=e.target,n=t.name,r=t.value;w(function(e){return st(st({},e),{},at({},n,r))})},S=function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=t.map(function(){var e=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=Bx(_j,"feedbacks/".concat(Date.now(),"-").concat(t.name)),e.n=1,Vx(n,t);case 1:return r=e.v,e.n=2,Ux(r.ref);case 2:return e.a(2,e.v)}},e)}));return function(t){return e.apply(this,arguments)}}()),e.n=1,Promise.all(n);case 1:return e.a(2,e.v)}},e)}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=_n(jn().m(function e(t){var r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),x.name.trim()&&x.comment.trim()&&0!==x.rating){e.n=1;break}return wn.error("\u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0627\u0633\u0645 \u0648\u0627\u0644\u062a\u0639\u0644\u064a\u0642 \u0648\u0627\u0644\u062a\u0642\u064a\u064a\u0645"),e.a(2);case 1:if(v(!0),e.p=2,r=[],!(x.images.length>0)){e.n=4;break}return e.n=3,S(x.images);case 3:r=e.v;case 4:return e.n=5,km(op(jj,"feedbacks"),{productId:n,name:x.name.trim(),email:x.email.trim(),phone:x.phone.trim(),rating:x.rating,comment:x.comment.trim(),images:r,status:"pending",createdAt:new Date});case 5:w({name:"",email:"",phone:"",comment:"",rating:0,images:[]}),u(!1),wn.success("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u062a\u0642\u064a\u064a\u0645\u0643 \u0628\u0646\u062c\u0627\u062d! \u0633\u064a\u0638\u0647\u0631 \u0628\u0639\u062f \u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u0625\u062f\u0627\u0631\u0629"),e.n=7;break;case 6:e.p=6,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0642\u064a\u064a\u0645");case 7:return e.p=7,v(!1),e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}));return function(t){return e.apply(this,arguments)}}(),E=function(){b(null)};return(0,e.useEffect)(function(){var e=function(e){"Escape"===e.key&&E()};if(y)return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}},[y]),(0,Aj.jsxs)("div",{className:"pf-container",children:[(0,Aj.jsxs)("div",{className:"pf-header",children:[(0,Aj.jsx)("h3",{className:"pf-title",children:"\u062a\u0642\u064a\u064a\u0645\u0627\u062a \u0627\u0644\u0639\u0645\u0644\u0627\u0621"}),(0,Aj.jsx)("button",{className:"pf-add-button",onClick:function(){return u(!o)},children:o?"\u0625\u0644\u063a\u0627\u0621":"\u0623\u0636\u0641 \u062a\u0642\u064a\u064a\u0645"})]}),o&&(0,Aj.jsxs)("form",{className:"pf-form",onSubmit:_,children:[(0,Aj.jsxs)("div",{className:"pf-form-group",children:[(0,Aj.jsx)("label",{htmlFor:"name",children:"\u0627\u0644\u0627\u0633\u0645 *"}),(0,Aj.jsx)("input",{type:"text",id:"name",name:"name",value:x.name,onChange:j,required:!0,maxLength:50})]}),(0,Aj.jsxs)("div",{className:"pf-form-row",children:[(0,Aj.jsxs)("div",{className:"pf-form-group",children:[(0,Aj.jsx)("label",{htmlFor:"email",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),(0,Aj.jsx)("input",{type:"email",id:"email",name:"email",value:x.email,onChange:j,maxLength:100})]}),(0,Aj.jsxs)("div",{className:"pf-form-group",children:[(0,Aj.jsx)("label",{htmlFor:"phone",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,Aj.jsx)("input",{type:"tel",id:"phone",name:"phone",value:x.phone,onChange:j,maxLength:20})]})]}),(0,Aj.jsx)("div",{className:"pf-privacy-notice",children:(0,Aj.jsxs)("p",{children:[(0,Aj.jsx)("i",{className:"fas fa-phone"})," \u0645\u0644\u0627\u062d\u0638\u0629: \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u0648\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0644\u0646 \u064a\u0638\u0647\u0631\u0627\u0646 \u0644\u0644\u0632\u0648\u0627\u0631\u060c \u0648\u0633\u064a\u062a\u0645 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0647\u0645\u0627 \u0641\u0642\u0637 \u0644\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0643 \u0645\u0646 \u0642\u0628\u0644 \u0627\u0644\u0625\u062f\u0627\u0631\u0629"]})}),(0,Aj.jsxs)("div",{className:"pf-form-group",children:[(0,Aj.jsx)("label",{htmlFor:"rating",children:"\u0627\u0644\u062a\u0642\u064a\u064a\u0645 *"}),(0,Aj.jsxs)("div",{className:"pf-rating-container",children:[[1,2,3,4,5].map(function(e){return(0,Aj.jsx)("button",{type:"button",className:"pf-star ".concat(x.rating>=e?"active":""),onClick:function(){return w(function(t){return st(st({},t),{},{rating:e})})},"aria-label":"".concat(e," \u0646\u062c\u0648\u0645"),children:x.rating>=e?(0,Aj.jsx)("i",{className:"fas fa-star"}):(0,Aj.jsx)("i",{className:"far fa-star"})},e)}),(0,Aj.jsx)("span",{className:"pf-rating-text",children:x.rating>0?"".concat(x.rating,"/5 \u0646\u062c\u0648\u0645"):"\u0627\u062e\u062a\u0631 \u0627\u0644\u062a\u0642\u064a\u064a\u0645"})]})]}),(0,Aj.jsxs)("div",{className:"pf-form-group",children:[(0,Aj.jsx)("label",{htmlFor:"comment",children:"\u0627\u0644\u062a\u0639\u0644\u064a\u0642 *"}),(0,Aj.jsx)("textarea",{id:"comment",name:"comment",value:x.comment,onChange:j,required:!0,maxLength:500,rows:"4",placeholder:"\u0634\u0627\u0631\u0643\u0646\u0627 \u0631\u0623\u064a\u0643 \u0641\u064a \u0627\u0644\u0645\u0646\u062a\u062c..."})]}),(0,Aj.jsxs)("div",{className:"pf-form-group",children:[(0,Aj.jsx)("label",{htmlFor:"images",children:"\u0627\u0644\u0635\u0648\u0631 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a - \u062d\u062a\u0649 3 \u0635\u0648\u0631)"}),(0,Aj.jsx)("input",{type:"file",id:"images",accept:"image/*",multiple:!0,onChange:function(e){var t=Array.from(e.target.files);t.length+x.images.length>3?wn.error("\u064a\u0645\u0643\u0646\u0643 \u0625\u0636\u0627\u0641\u0629 3 \u0635\u0648\u0631 \u0643\u062d\u062f \u0623\u0642\u0635\u0649"):w(function(e){return st(st({},e),{},{images:[].concat(h(e.images),t)})})},disabled:x.images.length>=3}),x.images.length>0&&(0,Aj.jsx)("div",{className:"pf-image-preview",children:x.images.map(function(e,t){return(0,Aj.jsxs)("div",{className:"pf-preview-item",children:[(0,Aj.jsx)("img",{src:URL.createObjectURL(e),alt:"Preview ".concat(t+1),className:"pf-preview-image"}),(0,Aj.jsx)("button",{type:"button",className:"pf-remove-image",onClick:function(){return function(e){w(function(t){return st(st({},t),{},{images:t.images.filter(function(t,n){return n!==e})})})}(t)},children:"\xd7"})]},t)})})]}),(0,Aj.jsx)("div",{className:"pf-form-actions",children:(0,Aj.jsx)("button",{type:"submit",className:"pf-submit-button",disabled:m,children:m?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644...":"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0642\u064a\u064a\u0645"})})]}),(0,Aj.jsx)("div",{className:"pf-feedbacks",children:d?(0,Aj.jsx)("div",{className:"pf-loading",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062a\u0642\u064a\u064a\u0645\u0627\u062a..."}):0===a.length?(0,Aj.jsx)("div",{className:"pf-no-feedbacks",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062a\u0642\u064a\u064a\u0645\u0627\u062a \u062d\u062a\u0649 \u0627\u0644\u0622\u0646"}):a.map(function(e){return(0,Aj.jsxs)("div",{className:"pf-feedback-item",children:[(0,Aj.jsxs)("div",{className:"pf-feedback-header",children:[(0,Aj.jsx)("span",{className:"pf-feedback-name",children:e.name}),(0,Aj.jsxs)("div",{className:"pf-feedback-meta",children:[e.rating&&(0,Aj.jsxs)("div",{className:"pf-feedback-rating",children:[[1,2,3,4,5].map(function(t){return(0,Aj.jsx)("span",{className:"pf-display-star ".concat(e.rating>=t?"active":""),children:e.rating>=t?(0,Aj.jsx)("i",{className:"fas fa-star"}):(0,Aj.jsx)("i",{className:"far fa-star"})},t)}),(0,Aj.jsxs)("span",{className:"pf-rating-value",children:["(",e.rating,"/5)"]})]}),(0,Aj.jsx)("span",{className:"pf-feedback-date",children:(t=e.createdAt,t&&t.toDate?t.toDate().toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}):"")})]})]}),(0,Aj.jsx)("div",{className:"pf-feedback-comment",children:e.comment}),e.images&&e.images.length>0&&(0,Aj.jsx)("div",{className:"pf-feedback-images",children:e.images.map(function(e,t){return(0,Aj.jsx)("img",{src:e,alt:"Feedback ".concat(t+1),className:"pf-feedback-image",onClick:function(){b(e)}},t)})})]},e.id);var t})}),y&&(0,Aj.jsx)("div",{className:"pf-modal-overlay",onClick:function(e){"pf-modal-overlay"===e.target.className&&E()},children:(0,Aj.jsxs)("div",{className:"pf-modal-content",children:[(0,Aj.jsx)("button",{className:"pf-modal-close",onClick:E,children:(0,Aj.jsx)("i",{className:"fas fa-times"})}),(0,Aj.jsx)("img",{src:y,alt:"Feedback",className:"pf-modal-image"})]})})]})},Yj=function(t){var n=t.expiryDate,r=c((0,e.useState)(null),2),a=r[0],i=r[1];return(0,e.useEffect)(function(){if(n){var e=function(){var e=new Date,t=new Date(1e3*n.seconds)-e;if(t<=0)i(null);else{var r=Math.floor(t/864e5),a=Math.floor(t%864e5/36e5),s=Math.floor(t%36e5/6e4),o=Math.floor(t%6e4/1e3);i({days:r,hours:a,minutes:s,seconds:o})}};e();var t=setInterval(e,1e3);return function(){return clearInterval(t)}}i(null)},[n]),a?(0,Aj.jsxs)("div",{className:"pd-timer-display",children:[a.days>0&&(0,Aj.jsxs)("span",{className:"pd-timer-unit",children:[(0,Aj.jsx)("span",{className:"pd-timer-value",children:a.days}),(0,Aj.jsx)("span",{className:"pd-timer-label-small",children:"\u064a\u0648\u0645"})]}),(0,Aj.jsxs)("span",{className:"pd-timer-unit",children:[(0,Aj.jsx)("span",{className:"pd-timer-value",children:a.hours.toString().padStart(2,"0")}),(0,Aj.jsx)("span",{className:"pd-timer-label-small",children:"\u0633\u0627\u0639\u0629"})]}),(0,Aj.jsxs)("span",{className:"pd-timer-unit",children:[(0,Aj.jsx)("span",{className:"pd-timer-value",children:a.minutes.toString().padStart(2,"0")}),(0,Aj.jsx)("span",{className:"pd-timer-label-small",children:"\u062f\u0642\u064a\u0642\u0629"})]}),(0,Aj.jsxs)("span",{className:"pd-timer-unit",children:[(0,Aj.jsx)("span",{className:"pd-timer-value",children:a.seconds.toString().padStart(2,"0")}),(0,Aj.jsx)("span",{className:"pd-timer-label-small",children:"\u062b\u0627\u0646\u064a\u0629"})]})]}):null};var Jj=function(){var t,n,r,a,i,s=function(){var t=e.useContext(ye).matches,n=t[t.length-1];return n?n.params:{}}().id,o=Ne(),u=c((0,e.useState)(null),2),l=u[0],d=u[1],f=c((0,e.useState)([]),2),p=f[0],m=f[1],v=c((0,e.useState)(""),2),g=v[0],y=v[1],b=c((0,e.useState)(1),2),k=b[0],x=b[1],w=c((0,e.useState)(!0),2),N=w[0],j=w[1],S=c((0,e.useState)(!1),2),_=S[0],C=S[1],T=c((0,e.useState)(""),2),I=T[0],A=T[1],D=c((0,e.useState)(!1),2),P=D[0],R=D[1],O=c((0,e.useState)(!1),2),L=(O[0],O[1],c((0,e.useState)(!1),2)),M=L[0],F=L[1],V=c((0,e.useState)(null),2),U=V[0],z=V[1],B=c((0,e.useState)(null),2),q=B[0],H=B[1],W=c((0,e.useState)(null),2),G=W[0],K=W[1],Q=c((0,e.useState)(!1),2),X=Q[0],Y=Q[1],J=c((0,e.useState)(""),2),$=J[0],Z=J[1],ee=c((0,e.useState)("success"),2),te=ee[0],ne=ee[1],re=c((0,e.useState)("description"),2),ae=re[0],ie=re[1],se=c((0,e.useState)([]),2),oe=se[0],ce=se[1],ue=c((0,e.useState)(!1),2),le=(ue[0],ue[1]),de=Oj(),fe=de.addToCart,he=de.cartItems,pe=de.getProductTotalQuantity,me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";Z(e),ne(t),Y(!0),setTimeout(function(){Y(!1)},4e3)};(0,e.useEffect)(function(){var e=Sy(Sj,function(e){F(!!e)});return function(){return e()}},[]),(0,e.useEffect)(function(){var e=function(){var e=_n(jn().m(function e(){var t,n,r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,vm(op(jj,"categories"));case 1:t=e.v,n=t.docs.map(function(e){return st({id:e.id},e.data())}),m(n),e.n=3;break;case 2:e.p=2,r=e.v,console.error("Error fetching categories:",r);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();e()},[]),(0,e.useEffect)(function(){if(q&&G){var e=be(q,G);e&&z(e)}},[q,G]),(0,e.useEffect)(function(){function e(){return e=_n(jn().m(function e(){var t,n,r,a,i,o,c,u,l,f,h,p;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return j(!0),A(""),e.p=1,t=cp(jj,"products",s),e.n=2,pm(t);case 2:if(!(n=e.v).exists()){e.n=20;break}if(r=st({id:n.id},n.data()),d(r),y(r.images&&r.images.length>0?r.images[0]:""),!r.hasVariants){e.n=19;break}if(!(r.sizes&&r.sizes.length>0)){e.n=11;break}a=E(r.sizes),e.p=3,o=jn().m(function e(){var t,n,a,s,o,c,u;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=i.value,n=!1,!(r.colors&&r.colors.length>0)){e.n=9;break}a=E(r.colors),e.p=1,o=jn().m(function e(){var a,i;return jn().w(function(e){for(;;)switch(e.n){case 0:if(a=s.value,i=r.variants.find(function(e){return e.size===t&&e.color===a&&parseInt(e.stock)>0}),!i){e.n=1;break}return H(t),K(a),z(i),n=!0,e.a(2,1);case 1:return e.a(2)}},e)}),a.s();case 2:if((s=a.n()).done){e.n=5;break}return e.d(Qj(o()),3);case 3:if(!e.v){e.n=4;break}return e.a(3,5);case 4:e.n=2;break;case 5:e.n=7;break;case 6:e.p=6,u=e.v,a.e(u);case 7:return e.p=7,a.f(),e.f(7);case 8:e.n=10;break;case 9:c=r.variants.find(function(e){return e.size===t&&!e.color&&parseInt(e.stock)>0}),c&&(H(t),z(c),n=!0);case 10:if(!n){e.n=11;break}return e.a(2,1);case 11:return e.a(2)}},e,null,[[1,6,7,8]])}),a.s();case 4:if((i=a.n()).done){e.n=7;break}return e.d(Qj(o()),5);case 5:if(!e.v){e.n=6;break}return e.a(3,7);case 6:e.n=4;break;case 7:e.n=9;break;case 8:e.p=8,h=e.v,a.e(h);case 9:return e.p=9,a.f(),e.f(9);case 10:e.n=19;break;case 11:if(!(r.colors&&r.colors.length>0)){e.n=19;break}c=E(r.colors),e.p=12,l=jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.n){case 0:if(t=u.value,n=r.variants.find(function(e){return e.color===t&&!e.size&&parseInt(e.stock)>0}),!n){e.n=1;break}return K(t),z(n),e.a(2,1);case 1:return e.a(2)}},e)}),c.s();case 13:if((u=c.n()).done){e.n=16;break}return e.d(Qj(l()),14);case 14:if(!e.v){e.n=15;break}return e.a(3,16);case 15:e.n=13;break;case 16:e.n=18;break;case 17:e.p=17,p=e.v,c.e(p);case 18:return e.p=18,c.f(),e.f(18);case 19:e.n=21;break;case 20:A("\u0627\u0644\u0645\u0646\u062a\u062c \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f");case 21:e.n=23;break;case 22:e.p=22,e.v,A("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c"),d(f={id:"0",name:"\u0643\u0631\u064a\u0645 \u0645\u0631\u0637\u0628 \u0644\u0644\u0648\u062c\u0647 \u0627\u0644\u0641\u0627\u062e\u0631",price:120,brand:"Zara Beauty",description:"\u0643\u0631\u064a\u0645 \u0645\u0631\u0637\u0628 \u0641\u0627\u062e\u0631 \u0644\u0644\u0648\u062c\u0647 \u0645\u064f\u0639\u0632\u0632 \u0628\u0627\u0644\u0641\u064a\u062a\u0627\u0645\u064a\u0646\u0627\u062a \u0648\u0627\u0644\u0632\u064a\u0648\u062a \u0627\u0644\u0637\u0628\u064a\u0639\u064a\u0629. \u064a\u0648\u0641\u0631 \u062a\u0631\u0637\u064a\u0628\u0627\u064b \u0639\u0645\u064a\u0642\u0627\u064b \u0648\u0646\u0639\u0648\u0645\u0629 \u0641\u0627\u0626\u0642\u0629 \u0644\u0644\u0628\u0634\u0631\u0629 \u0645\u0639 \u062d\u0645\u0627\u064a\u0629 \u0645\u0646 \u0627\u0644\u0639\u0648\u0627\u0645\u0644 \u0627\u0644\u0628\u064a\u0626\u064a\u0629. \u0645\u0646\u0627\u0633\u0628 \u0644\u062c\u0645\u064a\u0639 \u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0628\u0634\u0631\u0629.",images:["/images/sample1.jpg","/images/sample2.jpg","/images/sample3.jpg"],categories:["\u0627\u0644\u0648\u062c\u0647","\u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0627\u0644\u064a\u0648\u0645\u064a\u0629"],stock:15,features:["100% \u0637\u0628\u064a\u0639\u064a","\u0645\u0646\u0627\u0633\u0628 \u0644\u062c\u0645\u064a\u0639 \u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0628\u0634\u0631\u0629","\u062e\u0627\u0644\u064a \u0645\u0646 \u0627\u0644\u0628\u0627\u0631\u0627\u0628\u064a\u0646"],ingredients:["\u0632\u064a\u062a \u0627\u0644\u0623\u0631\u063a\u0627\u0646","\u0641\u064a\u062a\u0627\u0645\u064a\u0646 E","\u062d\u0645\u0636 \u0627\u0644\u0647\u064a\u0627\u0644\u0648\u0631\u0648\u0646\u064a\u0643","\u0627\u0644\u0635\u0628\u0627\u0631"]}),y(f.images[0]);case 23:return e.p=23,j(!1),e.f(23);case 24:return e.a(2)}},e,null,[[12,17,18,19],[3,8,9,10],[1,22,23,24]])})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[s]),(0,e.useEffect)(function(){function e(){return e=_n(jn().m(function e(){var t,n,r,a,i,s;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(l){e.n=1;break}return e.a(2);case 1:return le(!0),e.p=2,e.n=3,vm(op(jj,"products"));case 3:t=e.v,n=[],t.forEach(function(e){e.id!==l.id&&n.push(st({id:e.id},e.data()))}),r=n.map(function(e){var t=0;(e.brand&&l.brand&&e.brand===l.brand&&(t+=3),l.categoryIds&&l.categoryIds.length>0&&e.categoryIds)&&(t+=2*l.categoryIds.filter(function(t){return e.categoryIds.includes(t)}).length);l.categories&&l.categories.length>0&&e.categories&&(t+=2*l.categories.filter(function(t){return e.categories.includes(t)}).length);return Math.abs(e.price-l.price)/l.price<=.3&&(t+=1),st(st({},e),{},{similarityScore:t})}),a=r.filter(function(e){return e.similarityScore>0}).sort(function(e,t){return t.similarityScore-e.similarityScore}).slice(0,4),a.length<4&&(i=n.filter(function(e){return!a.find(function(t){return t.id===e.id})}).sort(function(){return Math.random()-.5}).slice(0,4-a.length),a.push.apply(a,h(i))),ce(a),e.n=5;break;case 4:e.p=4,s=e.v,console.error("Error fetching similar products:",s),ce([]);case 5:return e.p=5,le(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[l]);var ve=function(){var e=_n(jn().m(function e(){var t,n,r,a,i,s;return jn().w(function(e){for(;;)switch(e.n){case 0:if(l&&!M){e.n=1;break}return e.a(2);case 1:if(!l.hasVariants||U){e.n=2;break}return me("\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062d\u062c\u0645 \u0648\u0627\u0644\u0644\u0648\u0646 \u0623\u0648\u0644\u0627\u064b","error"),e.a(2);case 2:if(!l.hasVariants){e.n=3;break}t=parseInt(U.stock)||0,e.n=5;break;case 3:if(!(l.stock<=0)){e.n=4;break}return e.a(2);case 4:n=pe(l.id),t=Math.max(0,(l.stock||0)-n);case 5:if(!((r=Math.min(k,t))<=0)){e.n=6;break}return me("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0632\u064a\u062f - \u062a\u0645 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0627\u0644\u0645\u062a\u0627\u062d","error"),e.a(2);case 6:C(!0);try{for(a=st(st({},l),{},{selectedVariant:l.hasVariants?U:null,variantId:l.hasVariants?U.size&&U.color?"".concat(U.size,"-").concat(U.color):U.size?U.size:U.color:null}),i=0;i<r;i++)fe(a);s=l.hasVariants?" (".concat(U.size?U.size:"").concat(U.size&&U.color?" - ":"").concat(U.color?U.color:"",")"):"",me("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 ".concat(r," \u0642\u0637\u0639").concat(r>1?"\u0627\u062a":"\u0629"," \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629").concat(s),"success"),x(1)}catch(I){me("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062a\u062c \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629","error")}finally{C(!1)}case 7:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ge=function(e){var t=Number(e);return Number.isFinite(t)&&t>=0?Math.floor(t):0},be=function(e,t){if(null===l||void 0===l||!l.variants)return null;if(e&&t){var n=l.variants.find(function(n){return n.size===e&&n.color===t&&(parseInt(n.stock)||0)>0});return n||null}return e&&!t?l.variants.find(function(t){return t.size===e&&!t.color&&(parseInt(t.stock)||0)>0}):!e&&t?l.variants.find(function(e){return!e.size&&e.color===t&&(parseInt(e.stock)||0)>0}):null};if(N)return(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsx)("div",{className:"product-detail-page",children:(0,Aj.jsxs)("div",{className:"pd-loading-container",children:[(0,Aj.jsx)("div",{className:"pd-loading-spinner"}),(0,Aj.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c..."})]})})]});if(I&&!l)return(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsx)("div",{className:"product-detail-page",children:(0,Aj.jsxs)("div",{className:"error-container",children:[(0,Aj.jsx)("div",{className:"error-icon",children:(0,Aj.jsx)("i",{className:"fas fa-frown"})}),(0,Aj.jsx)("h2",{children:"\u0639\u0630\u0631\u0627\u064b\u060c \u062d\u062f\u062b \u062e\u0637\u0623"}),(0,Aj.jsx)("p",{children:I}),(0,Aj.jsx)("button",{onClick:function(){o("/products")},className:"back-button",children:"\u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0644\u0645\u0646\u062a\u062c\u0627\u062a"})]})})]});!function(){if(!l)return null;if(l.hasVariants){var e,t=(null===(e=l.variants)||void 0===e?void 0:e.reduce(function(e,t){return e+(parseInt(t.stock)||0)},0))||0,n=pe(l.id),r=Math.max(0,t-n);return t<=0?{text:"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631",class:"pd-out-of-stock",icon:(0,Aj.jsx)("i",{className:"fas fa-times-circle"})}:r<=0?{text:"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0627\u062d\u0629 \u0644\u0644\u0633\u0644\u0629",class:"pd-low-stock",icon:(0,Aj.jsx)("i",{className:"fas fa-shopping-cart"})}:t<=5?{text:"\u0645\u062a\u0628\u0642\u064a ".concat(r," \u0642\u0637\u0639 \u0645\u062a\u0627\u062d\u0629 \u0644\u0644\u0625\u0636\u0627\u0641\u0629"),class:"pd-low-stock",icon:(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})}:{text:"\u0645\u062a\u0648\u0641\u0631 (".concat(r," \u0645\u062a\u0627\u062d \u0644\u0644\u0625\u0636\u0627\u0641\u0629)"),class:"pd-in-stock",icon:(0,Aj.jsx)("i",{className:"fas fa-check-circle"})}}var a,i=ge(l.stock),s=(null===(a=he.find(function(e){return e.id===l.id}))||void 0===a?void 0:a.quantity)||0,o=Math.max(0,i-s);i<=0||(o<=0||(i<=5?"\u0645\u062a\u0628\u0642\u064a ".concat(o," \u0642\u0637\u0639 \u0645\u062a\u0627\u062d\u0629 \u0644\u0644\u0625\u0636\u0627\u0641\u0629"):"\u0645\u062a\u0648\u0641\u0631 (".concat(o," \u0645\u062a\u0627\u062d \u0644\u0644\u0625\u0636\u0627\u0641\u0629)")))}();var ke,xe,we=pe(null===l||void 0===l?void 0:l.id);if(null!==l&&void 0!==l&&l.hasVariants){var je,Se=(null===(je=l.variants)||void 0===je?void 0:je.reduce(function(e,t){return e+(parseInt(t.stock)||0)},0))||0;ke=Math.max(0,Se-we),xe=Se}else xe=ge(null===l||void 0===l?void 0:l.stock),ke=Math.max(0,xe-we);return(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"product-detail-page",children:[(0,Aj.jsxs)("div",{className:"pd-container",children:[(0,Aj.jsxs)("nav",{className:"pd-breadcrumb",children:[(0,Aj.jsx)("button",{onClick:function(){return o("/")},className:"pd-breadcrumb-link",children:"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"}),(0,Aj.jsx)("span",{className:"pd-breadcrumb-sep",children:"\u203a"}),(0,Aj.jsx)("button",{onClick:function(){return o("/products")},className:"pd-breadcrumb-link",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Aj.jsx)("span",{className:"pd-breadcrumb-sep",children:"\u203a"}),(0,Aj.jsx)("span",{className:"pd-breadcrumb-current",children:l.name})]}),I&&(0,Aj.jsxs)("div",{className:"pd-error",role:"alert",children:[(0,Aj.jsx)("span",{className:"pd-error-icon",children:(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})}),(0,Aj.jsx)("span",{children:I})]}),X&&(0,Aj.jsxs)("div",{className:"pd-toast pd-toast--".concat(te),role:"alert",children:[(0,Aj.jsxs)("div",{className:"pd-toast-content",children:[(0,Aj.jsx)("span",{className:"pd-toast-icon pd-toast-icon--".concat(te),children:"success"===te?(0,Aj.jsx)("i",{className:"fas fa-check-circle"}):(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})}),(0,Aj.jsx)("span",{className:"pd-toast-message",children:$}),(0,Aj.jsx)("button",{className:"pd-toast-close",onClick:function(){return Y(!1)},"aria-label":"\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0625\u0634\u0639\u0627\u0631",children:"\xd7"})]}),(0,Aj.jsx)("div",{className:"pd-toast-progress"})]}),(0,Aj.jsxs)("div",{className:"pd-content",children:[(0,Aj.jsxs)("div",{className:"pd-images",children:[(0,Aj.jsx)("div",{className:"pd-main-image-wrap",children:g&&(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("img",{src:g,alt:l.name,className:"pd-main-image",loading:"lazy",onClick:function(){return R(!0)}}),(0,Aj.jsx)("button",{className:"pd-zoom-btn",onClick:function(){return R(!0)},"aria-label":"\u062a\u0643\u0628\u064a\u0631 \u0627\u0644\u0635\u0648\u0631\u0629",children:(0,Aj.jsx)("i",{className:"fas fa-search-plus"})})]})}),l.images&&l.images.length>1&&(0,Aj.jsx)("div",{className:"pd-thumbs",children:l.images.map(function(e,t){return(0,Aj.jsx)("img",{src:e,alt:"".concat(l.name," ").concat(t+1),className:"pd-thumb ".concat(g===e?"active":""),loading:"lazy",onClick:function(){y(e)},onError:function(e){e.target.src="/images/placeholder.jpg"}},t)})})]}),(0,Aj.jsxs)("div",{className:"pd-info",children:[(0,Aj.jsxs)("div",{className:"pd-header",children:[(0,Aj.jsx)("h1",{className:"pd-title",children:l.name}),l.brand&&(0,Aj.jsxs)("div",{className:"pd-brand",children:[(0,Aj.jsx)("span",{className:"pd-brand-label",children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629:"}),(0,Aj.jsx)("span",{className:"pd-brand-name",children:l.brand})]}),(0,Aj.jsxs)("div",{className:"pd-price",children:[(0,Aj.jsx)("span",{className:"pd-price-label",children:"\u0627\u0644\u0633\u0639\u0631:"}),l.hasVariants?(0,Aj.jsxs)("div",{className:"pd-variants-pricing",children:[U?(0,Aj.jsxs)("span",{className:"pd-price-value pd-price-variants",children:[U.price," \u0634\u064a\u0643\u0644"]}):(0,Aj.jsx)("span",{className:"pd-price-value pd-price-variants",children:(0,Aj.jsxs)("small",{children:[Math.min.apply(Math,h((null===(t=l.variants)||void 0===t?void 0:t.map(function(e){return parseFloat(e.price)||0}))||[0]))," ","\u0634\u064a\u0643\u0644"]})}),(0,Aj.jsx)("div",{className:"pd-variants-overview"})]}):l.hasDiscount&&l.originalPrice?(0,Aj.jsxs)("div",{className:"pd-discount-price",children:[(0,Aj.jsxs)("span",{className:"pd-price-value pd-price-discounted",children:[l.price," \u0634\u064a\u0643\u0644"]}),(0,Aj.jsxs)("span",{className:"pd-original-price",children:[l.originalPrice," \u0634\u064a\u0643\u0644"]}),l.discountExpiresAt&&(0,Aj.jsxs)("div",{className:"pd-countdown-timer",children:[(0,Aj.jsx)("span",{className:"pd-timer-label",children:"\u064a\u0646\u062a\u0647\u064a \u0627\u0644\u062e\u0635\u0645 \u0641\u064a:"}),(0,Aj.jsx)(Yj,{expiryDate:l.discountExpiresAt})]})]}):(0,Aj.jsxs)("span",{className:"pd-price-value",children:[l.price," \u0634\u064a\u0643\u0644"]})]})]}),(l.categoryIds&&l.categoryIds.length>0||l.categories&&l.categories.length>0)&&(0,Aj.jsxs)("div",{className:"pd-categories",children:[(0,Aj.jsx)("h4",{children:"\u0627\u0644\u0641\u0626\u0627\u062a:"}),(0,Aj.jsx)("div",{className:"pd-category-tags",children:l.categoryIds&&l.categoryIds.length>0?l.categoryIds.map(function(e,t){var n=p.find(function(t){return t.id===e});return n?(0,Aj.jsx)("span",{className:"pd-category-tag",children:n.name},t):null}):l.categories.map(function(e,t){return(0,Aj.jsx)("span",{className:"pd-category-tag",children:e},t)})})]}),l.hasVariants&&(0,Aj.jsxs)("div",{className:"pd-variants-selection",children:[(0,Aj.jsx)("h4",{children:(null===(n=l.sizes)||void 0===n?void 0:n.length)>1&&(null===(r=l.colors)||void 0===r?void 0:r.length)>1?"\u0627\u062e\u062a\u0631 \u0627\u0644\u062d\u062c\u0645 \u0648\u0627\u0644\u0644\u0648\u0646":(null===(a=l.sizes)||void 0===a?void 0:a.length)>1?"\u0627\u062e\u062a\u0631 \u0627\u0644\u062d\u062c\u0645":(null===(i=l.colors)||void 0===i?void 0:i.length)>1?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0644\u0648\u0646":null}),(0,Aj.jsxs)("div",{className:"pd-selection-options",children:[l.sizes&&l.sizes.length>0&&(0,Aj.jsxs)("div",{className:"pd-size-selection",children:[(0,Aj.jsx)("h5",{children:"\u0627\u0644\u062d\u062c\u0645 :"}),(0,Aj.jsx)("div",{className:"pd-size-options",children:l.sizes.map(function(e){var t=!1,n=q===e;if(l.colors&&l.colors.length>0){var r,a=null===(r=l.variants)||void 0===r?void 0:r.some(function(t){return t.size===e&&t.color&&(parseInt(t.stock)||0)>0});t=a}else{var i;t=null===(i=l.variants)||void 0===i?void 0:i.some(function(t){return t.size===e&&!t.color&&(parseInt(t.stock)||0)>0})}return(0,Aj.jsxs)("button",{className:"pd-size-option ".concat(n?"selected":""," ").concat(t?"":"unavailable"),onClick:function(){return t&&function(e){if(e!==q)if(H(e),x(1),l.colors&&l.colors.length>0){var t=l.colors.find(function(t){var n,r=null===(n=l.variants)||void 0===n?void 0:n.find(function(n){return n.size===e&&n.color===t&&(parseInt(n.stock)||0)>0});return!!r});if(t){K(t);var n=be(e,t);n&&(z(n),me("\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631 ".concat(e," - ").concat(t),"success"))}else K(null),z(null),me("\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062d\u062c\u0645: ".concat(e),"success")}else{var r=be(e,null);r&&(z(r),me("\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062d\u062c\u0645: ".concat(e),"success"))}}(e)},disabled:!t,children:[(0,Aj.jsx)("span",{className:"pd-size-name",children:e}),n&&(0,Aj.jsx)("span",{className:"pd-selected-icon",children:(0,Aj.jsx)("i",{className:"fas fa-check"})})]},e)})})]}),l.colors&&l.colors.length>0&&(0,Aj.jsxs)("div",{className:"pd-color-selection",children:[(0,Aj.jsx)("h5",{children:"\u0627\u0644\u0644\u0648\u0646:"}),(0,Aj.jsx)("div",{className:"pd-color-options",children:l.colors.map(function(e){var t,n,r,a=G===e,i=null===(t=l.variants)||void 0===t?void 0:t.some(function(t){return(!t.size||q&&t.size===q)&&t.color===e&&(parseInt(t.stock)||0)>0});return null===(n=l.variants)||void 0===n||null===(r=n.find(function(t){return t.color===e&&(!t.size||t.size===q)}))||void 0===r||r.stock,(0,Aj.jsxs)("button",{className:"pd-color-option ".concat(a?"selected":""," ").concat(i?"":"unavailable"),onClick:function(){return i&&function(e){if(e!==G){var t=q?l.variants.find(function(t){return t.size===q&&t.color===e&&(parseInt(t.stock)||0)>0}):l.variants.find(function(t){return!t.size&&t.color===e&&(parseInt(t.stock)||0)>0});t&&(K(e),z(t),x(1),l.sizes&&0===l.sizes.length?me("\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0644\u0648\u0646: ".concat(e),"success"):me(q?"\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631 ".concat(q," - ").concat(e):"\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0644\u0648\u0646: ".concat(e),"success"))}}(e)},disabled:!i,title:i?void 0:"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631 \u0641\u064a \u0627\u0644\u0645\u062e\u0632\u0648\u0646",children:[(0,Aj.jsx)("span",{className:"pd-color-name",children:e}),a&&(0,Aj.jsx)("span",{className:"pd-selected-icon",children:(0,Aj.jsx)("i",{className:"fas fa-check"})})]},e)})})]})]})]}),l.features&&(0,Aj.jsxs)("div",{className:"pd-features",children:[(0,Aj.jsx)("h4",{children:"\u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a:"}),(0,Aj.jsx)("ul",{className:"pd-features-list",children:l.features.map(function(e,t){return(0,Aj.jsxs)("li",{className:"pd-feature-item",children:[(0,Aj.jsx)("span",{className:"pd-feature-icon",children:(0,Aj.jsx)("i",{className:"fas fa-sparkles"})}),e]},t)})})]}),l.ingredients&&(0,Aj.jsxs)("div",{className:"pd-ingredients",children:[(0,Aj.jsx)("h4",{children:"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062a \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629:"}),(0,Aj.jsx)("div",{className:"pd-ingredient-tags",children:l.ingredients.map(function(e,t){return(0,Aj.jsx)("span",{className:"pd-ingredient-tag",children:e},t)})})]}),(l.hasVariants&&U||!l.hasVariants&&ke>0)&&!M&&(0,Aj.jsxs)("div",{className:"pd-qty",children:[(0,Aj.jsx)("label",{htmlFor:"quantity",className:"pd-qty-label",children:"\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629:"}),(0,Aj.jsxs)("div",{className:"pd-qty-controls",children:[(0,Aj.jsx)("button",{type:"button",onClick:function(){k>1&&x(k-1)},className:"pd-qty-btn decrease",disabled:k<=1,"aria-label":"\u062a\u0642\u0644\u064a\u0644 \u0627\u0644\u0643\u0645\u064a\u0629",children:"\u2212"}),(0,Aj.jsx)("input",{id:"quantity",type:"number",min:"1",max:l.hasVariants&&U?parseInt(U.stock)||0:ke,value:k,onChange:function(e){return function(e){if(l){var t;if(l.hasVariants&&U)t=parseInt(U.stock)||0;else if(l.hasVariants)t=0;else{var n=ge(l.stock),r=pe(l.id);t=Math.max(0,n-r)}x(0!==t?e<1?1:Math.min(e,t):0)}}(parseInt(e.target.value)||1)},className:"pd-qty-input","aria-label":"\u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Aj.jsx)("button",{type:"button",onClick:function(){var e;if(l.hasVariants&&U)e=parseInt(U.stock)||0;else if(l.hasVariants)e=0;else{var t=ge(l.stock),n=pe(l.id);e=Math.max(0,t-n)}k<e&&x(k+1)},className:"pd-qty-btn increase",disabled:k>=ke,"aria-label":"\u0632\u064a\u0627\u062f\u0629 \u0627\u0644\u0643\u0645\u064a\u0629",children:"+"})]})]}),(0,Aj.jsx)("div",{className:"pd-actions",children:(0,Aj.jsx)("button",{className:"pd-add-btn ".concat(null!==l&&void 0!==l&&l.hasVariants&&!U||(null!==l&&void 0!==l&&l.hasVariants?ke<=0:xe<=0)||ke<=0||M?"disabled":""),onClick:ve,disabled:_||(null===l||void 0===l?void 0:l.hasVariants)&&!U||(null!==l&&void 0!==l&&l.hasVariants?ke<=0:xe<=0)||ke<=0||k<=0||M,children:M?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("span",{children:(0,Aj.jsx)("i",{className:"fas fa-lock"})}),"\u0623\u0646\u062a \u0623\u062f\u0645\u0646 \u0648\u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u062a\u0633\u0648\u0642"]}):_?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("span",{className:"pd-loading"}),"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629..."]}):(null!==l&&void 0!==l&&l.hasVariants?ke<=0:xe<=0)?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("span",{children:(0,Aj.jsx)("i",{className:"fas fa-times-circle"})}),"\u0646\u0641\u062f\u062a \u0627\u0644\u0643\u0645\u064a\u0629"]}):ke<=0?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("span",{children:(0,Aj.jsx)("i",{className:"fas fa-shopping-cart"})}),"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0627\u062d\u0629"]}):null!==l&&void 0!==l&&l.hasVariants&&!U?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("span",{children:(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})}),"\u0627\u062e\u062a\u0631 \u0627\u0644\u062d\u062c\u0645 \u0648\u0627\u0644\u0644\u0648\u0646 \u0623\u0648\u0644\u0627\u064b"]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("span",{children:(0,Aj.jsx)("i",{className:"fas fa-shopping-bag"})}),"\u0623\u0636\u0641 ",k>1?"(".concat(k,")"):""," \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629",l.hasVariants&&U&&(0,Aj.jsxs)("span",{className:"pd-variant-info",children:[U.size&&"".concat(U.size),U.size&&U.color&&" - ",U.color&&"".concat(U.color)]})]})})}),M&&(0,Aj.jsx)("div",{className:"pd-admin-notice",children:(0,Aj.jsxs)("div",{className:"pd-notice-content",children:[(0,Aj.jsx)("span",{className:"pd-notice-icon",children:(0,Aj.jsx)("i",{className:"fas fa-info-circle"})}),(0,Aj.jsxs)("div",{className:"pd-notice-text",children:[(0,Aj.jsx)("strong",{children:"\u0645\u0644\u0627\u062d\u0638\u0629 \u0644\u0644\u0623\u062f\u0645\u0646:"}),(0,Aj.jsxs)("p",{children:["\u0623\u0646\u062a \u0645\u0633\u062c\u0644 \u062f\u062e\u0648\u0644 \u0643\u0623\u062f\u0645\u0646. \u0644\u0627 \u064a\u0645\u0643\u0646 \u0644\u0644\u0623\u062f\u0645\u0646 \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c\u0627\u062a \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629. \u064a\u0645\u0643\u0646\u0643 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0645\u0646"," ",(0,Aj.jsx)("button",{onClick:function(){return o("/admin/dashboard")},className:"pd-admin-link",children:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"})]})]})]})})]})]}),(0,Aj.jsxs)("div",{className:"pd-tabs-section",children:[(0,Aj.jsxs)("div",{className:"pd-tabs-header",children:[(0,Aj.jsxs)("button",{className:"pd-tab-btn ".concat("description"===ae?"active":""),onClick:function(){return ie("description")},children:[(0,Aj.jsx)("span",{className:"pd-tab-icon",children:(0,Aj.jsx)("i",{className:"fas fa-file-alt"})}),(0,Aj.jsx)("span",{className:"pd-tab-label",children:"\u0627\u0644\u0648\u0635\u0641"})]}),l.howToUse&&(0,Aj.jsxs)("button",{className:"pd-tab-btn ".concat("howToUse"===ae?"active":""),onClick:function(){return ie("howToUse")},children:[(0,Aj.jsx)("span",{className:"pd-tab-icon",children:(0,Aj.jsx)("i",{className:"fas fa-lightbulb"})}),(0,Aj.jsx)("span",{className:"pd-tab-label",children:"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645"})]}),(0,Aj.jsxs)("button",{className:"pd-tab-btn ".concat("ratings"===ae?"active":""),onClick:function(){return ie("ratings")},children:[(0,Aj.jsx)("span",{className:"pd-tab-icon",children:(0,Aj.jsx)("i",{className:"fas fa-star"})}),(0,Aj.jsx)("span",{className:"pd-tab-label",children:"\u0627\u0644\u062a\u0642\u064a\u064a\u0645\u0627\u062a"})]})]}),(0,Aj.jsxs)("div",{className:"pd-tabs-content",children:["description"===ae&&(0,Aj.jsxs)("div",{className:"pd-tab-panel pd-tab-description",children:[(0,Aj.jsx)("h3",{children:"\u0648\u0635\u0641 \u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Aj.jsx)("p",{children:l.description})]}),"howToUse"===ae&&l.howToUse&&(0,Aj.jsxs)("div",{className:"pd-tab-panel pd-tab-how-to-use",children:[(0,Aj.jsx)("h3",{children:"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645"}),(0,Aj.jsx)("div",{className:"pd-how-to-use-content",children:(0,Aj.jsx)("p",{children:l.howToUse})})]}),"ratings"===ae&&(0,Aj.jsx)("div",{className:"pd-tab-panel pd-tab-ratings",children:(0,Aj.jsx)(Xj,{productId:l.id})})]})]}),oe.length>0&&(0,Aj.jsxs)("section",{className:"pd-similar-section",children:[(0,Aj.jsxs)("div",{className:"pd-similar-header",children:[(0,Aj.jsxs)("h2",{className:"pd-similar-title",children:[(0,Aj.jsx)("span",{className:"pd-similar-icon",children:(0,Aj.jsx)("i",{className:"fas fa-sparkles"})}),"\u0645\u0646\u062a\u062c\u0627\u062a \u0645\u0634\u0627\u0628\u0647\u0629"]}),(0,Aj.jsx)("p",{className:"pd-similar-subtitle",children:"\u0642\u062f \u064a\u0639\u062c\u0628\u0643 \u0623\u064a\u0636\u0627\u064b"})]}),(0,Aj.jsx)("div",{className:"pd-similar-grid",children:oe.map(function(e){return(0,Aj.jsx)("div",{className:"pd-similar-item",children:(0,Aj.jsx)(Mj,{product:e})},e.id)})}),(0,Aj.jsx)("div",{className:"pd-similar-cta",children:(0,Aj.jsxs)("button",{className:"pd-view-all-btn",onClick:function(){return o("/products")},children:[(0,Aj.jsx)("span",{children:"\u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Aj.jsx)("i",{className:"fas fa-arrow-left"})]})})]})]}),P&&(0,Aj.jsx)("div",{className:"pd-image-modal",onClick:function(){return R(!1)},children:(0,Aj.jsxs)("div",{className:"pd-modal-content",onClick:function(e){return e.stopPropagation()},children:[(0,Aj.jsx)("button",{className:"pd-close-modal",onClick:function(){return R(!1)},"aria-label":"\u0625\u063a\u0644\u0627\u0642",children:"\xd7"}),(0,Aj.jsx)("img",{src:g,alt:l.name,className:"pd-modal-image"})]})})]}),(0,Aj.jsx)(Vj,{})]})},$j=function(){return(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"about-page",children:[(0,Aj.jsxs)("section",{className:"about-hero",children:[(0,Aj.jsx)("div",{className:"about-hero-overlay"}),(0,Aj.jsxs)("div",{className:"about-hero-content",children:[(0,Aj.jsx)("h1",{className:"about-hero-title",children:"\u0645\u0646 \u0646\u062d\u0646"}),(0,Aj.jsx)("p",{className:"about-hero-subtitle",children:"\u0631\u062d\u0644\u0629 \u0645\u0646 \u0627\u0644\u0634\u063a\u0641 \u0625\u0644\u0649 \u0627\u0644\u062a\u0645\u064a\u0632"})]})]}),(0,Aj.jsxs)("div",{className:"about-container",children:[(0,Aj.jsx)("section",{className:"about-section",children:(0,Aj.jsxs)("div",{className:"about-content-grid",children:[(0,Aj.jsxs)("div",{className:"about-text-block",children:[(0,Aj.jsx)("h2",{className:"about-section-title",children:"\u0642\u0635\u062a\u0646\u0627"}),(0,Aj.jsx)("div",{className:"about-divider"}),(0,Aj.jsx)("p",{className:"about-paragraph",children:"\u0644\u0627\u0643\u062c\u0631\u064a \u0647\u064a \u0648\u062c\u0647\u062a\u0643\u0650 \u0644\u0644\u0623\u0646\u0627\u0642\u0629 \u0648\u0627\u0644\u0641\u062e\u0627\u0645\u0629 \u0641\u064a \u0639\u0627\u0644\u0645 \u0627\u0644\u0625\u0643\u0633\u0633\u0648\u0627\u0631\u0627\u062a \u0648\u0627\u0644\u0645\u0644\u0627\u0628\u0633. \u0646\u062e\u062a\u0627\u0631 \u0628\u0639\u0646\u0627\u064a\u0629 \u0623\u0631\u0642\u0649 \u0648\u0623\u0641\u062e\u0645 \u0627\u0644\u0645\u0648\u062f\u064a\u0644\u0627\u062a \u0644\u0646\u0642\u062f\u0651\u0645 \u0644\u0643\u0650 \u062a\u0635\u0627\u0645\u064a\u0645 \u0639\u0635\u0631\u064a\u0629 \u062a\u0648\u0627\u0643\u0628 \u0623\u062d\u062f\u062b \u0635\u064a\u062d\u0627\u062a \u0627\u0644\u0645\u0648\u0636\u0629 \u0648\u062a\u0646\u0627\u0633\u0628 \u0643\u0644 \u0627\u0644\u0623\u0630\u0648\u0627\u0642."}),(0,Aj.jsx)("p",{className:"about-paragraph",children:"\u0646\u062d\u0631\u0635 \u0641\u064a \u0644\u0627\u0643\u062c\u0631\u064a \u0639\u0644\u0649 \u0627\u0644\u062c\u0648\u062f\u0629\u060c \u0627\u0644\u0630\u0648\u0642 \u0627\u0644\u0631\u0627\u0642\u064a\u060c \u0648\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u062a\u064a \u062a\u0635\u0646\u0639 \u0627\u0644\u0641\u0631\u0642\u060c \u0644\u062a\u062c\u062f\u064a \u0643\u0644 \u0645\u0627 \u064a\u0643\u0645\u0651\u0644 \u0625\u0637\u0644\u0627\u0644\u062a\u0643\u0650 \u0628\u0623\u0633\u0644\u0648\u0628 \u0645\u0645\u064a\u0651\u0632 \u0648\u0641\u0631\u064a\u062f."}),(0,Aj.jsx)("p",{className:"about-paragraph",children:"\u0641\u064a \u0645\u0648\u0642\u0639\u0646\u0627 \u0631\u062d \u062a\u0644\u0627\u0642\u064a \u0645\u0646\u062a\u062c\u0627\u062a \u0645\u062c\u0631\u0628\u0629 \u0648\u0645\u062e\u062a\u0627\u0631\u0629 \u0628\u0639\u0646\u0627\u064a\u0629 \u0631\u062d \u062a\u0633\u0627\u0639\u062f\u0643 \u062a\u0628\u0631\u0632\u064a \u0623\u0646\u0627\u0642\u062a\u0643 \u0648\u062a\u062e\u0644\u064a\u0643\u064a \u062f\u0627\u064a\u0645\u0627\u064b \u0641\u064a \u0627\u0644\u0635\u062f\u0627\u0631\u0629."})]}),(0,Aj.jsx)("div",{className:"about-image-block",children:(0,Aj.jsx)("div",{className:"about-image-wrapper",children:(0,Aj.jsx)("img",{src:"https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=800",alt:"\u0642\u0635\u062a\u0646\u0627",className:"about-image"})})})]})}),(0,Aj.jsx)("section",{className:"about-section about-section-alt",children:(0,Aj.jsxs)("div",{className:"about-content-grid about-content-grid-reverse",children:[(0,Aj.jsx)("div",{className:"about-image-block",children:(0,Aj.jsx)("div",{className:"about-image-wrapper",children:(0,Aj.jsx)("img",{src:"https://images.unsplash.com/photo-1483985988355-763728e1935b?w=800",alt:"\u0631\u0624\u064a\u062a\u0646\u0627",className:"about-image"})})}),(0,Aj.jsxs)("div",{className:"about-text-block",children:[(0,Aj.jsx)("h2",{className:"about-section-title",children:"\u0631\u0624\u064a\u062a\u0646\u0627"}),(0,Aj.jsx)("div",{className:"about-divider"}),(0,Aj.jsx)("p",{className:"about-paragraph",children:"\u0646\u0633\u0639\u0649 \u0644\u0623\u0646 \u0646\u0643\u0648\u0646 \u0627\u0644\u062e\u064a\u0627\u0631 \u0627\u0644\u0623\u0648\u0644 \u0641\u064a \u0639\u0627\u0644\u0645 \u0627\u0644\u0645\u0648\u0636\u0629 \u0627\u0644\u0641\u0627\u062e\u0631\u0629 \u0648\u0627\u0644\u0625\u0643\u0633\u0633\u0648\u0627\u0631\u0627\u062a \u0627\u0644\u0631\u0627\u0642\u064a\u0629\u060c \u0645\u0646 \u062e\u0644\u0627\u0644 \u062a\u0642\u062f\u064a\u0645 \u0642\u0637\u0639 \u0627\u0633\u062a\u062b\u0646\u0627\u0626\u064a\u0629 \u062a\u0644\u0628\u064a \u0623\u0639\u0644\u0649 \u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u062c\u0648\u062f\u0629 \u0648\u0627\u0644\u0623\u0646\u0627\u0642\u0629."}),(0,Aj.jsx)("p",{className:"about-paragraph",children:"\u0631\u0624\u064a\u062a\u0646\u0627 \u0647\u064a \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u0631\u064a\u0641 \u062a\u062c\u0631\u0628\u0629 \u0627\u0644\u062a\u0633\u0648\u0642 \u0644\u0644\u0645\u0644\u0627\u0628\u0633 \u0648\u0627\u0644\u0625\u0643\u0633\u0633\u0648\u0627\u0631\u0627\u062a\u060c \u0648\u062c\u0639\u0644\u0647\u0627 \u0644\u064a\u0633\u062a \u0645\u062c\u0631\u062f \u0634\u0631\u0627\u0621 \u0642\u0637\u0639\u0629\u060c \u0628\u0644 \u062a\u062c\u0631\u0628\u0629 \u0641\u0627\u062e\u0631\u0629 \u062a\u0645\u0646\u062d\u0643 \u0627\u0644\u062b\u0642\u0629 \u0648\u0627\u0644\u062a\u0645\u064a\u0632 \u0641\u064a \u0643\u0644 \u0625\u0637\u0644\u0627\u0644\u0629."})]})]})}),(0,Aj.jsxs)("section",{className:"about-section",children:[(0,Aj.jsxs)("div",{className:"about-values-header",children:[(0,Aj.jsx)("h2",{className:"about-section-title about-section-title-center",children:"\u0642\u064a\u0645\u0646\u0627"}),(0,Aj.jsx)("div",{className:"about-divider about-divider-center"}),(0,Aj.jsx)("p",{className:"about-values-subtitle",children:"\u0627\u0644\u0645\u0628\u0627\u062f\u0626 \u0627\u0644\u062a\u064a \u0646\u0624\u0645\u0646 \u0628\u0647\u0627 \u0648\u0646\u0639\u0645\u0644 \u0645\u0646 \u062e\u0644\u0627\u0644\u0647\u0627"})]}),(0,Aj.jsxs)("div",{className:"about-values-grid",children:[(0,Aj.jsxs)("div",{className:"about-value-card",children:[(0,Aj.jsx)("div",{className:"about-value-icon",children:(0,Aj.jsx)("i",{className:"fas fa-gem"})}),(0,Aj.jsx)("h3",{className:"about-value-title",children:"\u0627\u0644\u062c\u0648\u062f\u0629"}),(0,Aj.jsx)("p",{className:"about-value-text",children:"\u0646\u062e\u062a\u0627\u0631 \u0642\u0637\u0639\u0646\u0627 \u0628\u0639\u0646\u0627\u064a\u0629 \u0641\u0627\u0626\u0642\u0629 \u0644\u0636\u0645\u0627\u0646 \u0623\u0639\u0644\u0649 \u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u062c\u0648\u062f\u0629 \u0648\u0627\u0644\u0641\u062e\u0627\u0645\u0629"})]}),(0,Aj.jsxs)("div",{className:"about-value-card",children:[(0,Aj.jsx)("div",{className:"about-value-icon",children:(0,Aj.jsx)("i",{className:"fas fa-shield-alt"})}),(0,Aj.jsx)("h3",{className:"about-value-title",children:"\u0627\u0644\u062b\u0642\u0629"}),(0,Aj.jsx)("p",{className:"about-value-text",children:"\u0646\u0628\u0646\u064a \u0639\u0644\u0627\u0642\u0627\u062a \u0637\u0648\u064a\u0644\u0629 \u0627\u0644\u0623\u0645\u062f \u0645\u0639 \u0639\u0645\u0644\u0627\u0626\u0646\u0627 \u0645\u0646 \u062e\u0644\u0627\u0644 \u0627\u0644\u0634\u0641\u0627\u0641\u064a\u0629 \u0648\u0627\u0644\u0645\u0635\u062f\u0627\u0642\u064a\u0629"})]}),(0,Aj.jsxs)("div",{className:"about-value-card",children:[(0,Aj.jsx)("div",{className:"about-value-icon",children:(0,Aj.jsx)("i",{className:"fas fa-award"})}),(0,Aj.jsx)("h3",{className:"about-value-title",children:"\u0627\u0644\u062a\u0645\u064a\u0632"}),(0,Aj.jsx)("p",{className:"about-value-text",children:"\u0646\u0633\u0639\u0649 \u062f\u0627\u0626\u0645\u0627\u064b \u0644\u062a\u0642\u062f\u064a\u0645 \u062a\u062c\u0631\u0628\u0629 \u0627\u0633\u062a\u062b\u0646\u0627\u0626\u064a\u0629 \u062a\u0641\u0648\u0642 \u062a\u0648\u0642\u0639\u0627\u062a \u0639\u0645\u0644\u0627\u0626\u0646\u0627"})]}),(0,Aj.jsxs)("div",{className:"about-value-card",children:[(0,Aj.jsx)("div",{className:"about-value-icon",children:(0,Aj.jsx)("i",{className:"fas fa-star"})}),(0,Aj.jsx)("h3",{className:"about-value-title",children:"\u0627\u0644\u0623\u0646\u0627\u0642\u0629"}),(0,Aj.jsx)("p",{className:"about-value-text",children:"\u0646\u0642\u062f\u0645 \u0642\u0637\u0639 \u0639\u0635\u0631\u064a\u0629 \u062a\u0648\u0627\u0643\u0628 \u0623\u062d\u062f\u062b \u0635\u064a\u062d\u0627\u062a \u0627\u0644\u0645\u0648\u0636\u0629 \u0628\u0623\u0633\u0644\u0648\u0628 \u0631\u0627\u0642\u064a"})]})]})]}),(0,Aj.jsx)("section",{className:"about-section about-section-alt",children:(0,Aj.jsx)("div",{className:"about-promise",children:(0,Aj.jsxs)("div",{className:"about-promise-content",children:[(0,Aj.jsx)("h2",{className:"about-section-title about-section-title-center",children:"\u0648\u0639\u062f\u0646\u0627 \u0644\u0643"}),(0,Aj.jsx)("div",{className:"about-divider about-divider-center"}),(0,Aj.jsx)("p",{className:"about-promise-text",children:"\u0646\u0639\u062f\u0643 \u0628\u062a\u0642\u062f\u064a\u0645 \u0642\u0637\u0639 \u0645\u0644\u0627\u0628\u0633 \u0648\u0625\u0643\u0633\u0633\u0648\u0627\u0631\u0627\u062a \u0641\u0627\u062e\u0631\u0629 \u0645\u062e\u062a\u0627\u0631\u0629 \u0628\u0639\u0646\u0627\u064a\u0629\u060c \u0648\u062e\u062f\u0645\u0629 \u0639\u0645\u0644\u0627\u0621 \u0645\u062a\u0645\u064a\u0632\u0629\u060c \u0648\u062a\u062c\u0631\u0628\u0629 \u062a\u0633\u0648\u0642 \u0633\u0644\u0633\u0629 \u0648\u0645\u0645\u062a\u0639\u0629. \u0631\u0636\u0627\u0643 \u0647\u0648 \u0647\u062f\u0641\u0646\u0627 \u0627\u0644\u0623\u0648\u0644\u060c \u0648\u0623\u0646\u0627\u0642\u062a\u0643 \u0647\u064a \u0646\u062c\u0627\u062d\u0646\u0627."}),(0,Aj.jsxs)("div",{className:"about-promise-stats",children:[(0,Aj.jsxs)("div",{className:"about-stat",children:[(0,Aj.jsx)("span",{className:"about-stat-number",children:"1000+"}),(0,Aj.jsx)("span",{className:"about-stat-label",children:"\u0639\u0645\u064a\u0644 \u0633\u0639\u064a\u062f"})]}),(0,Aj.jsxs)("div",{className:"about-stat",children:[(0,Aj.jsx)("span",{className:"about-stat-number",children:"500+"}),(0,Aj.jsx)("span",{className:"about-stat-label",children:"\u0642\u0637\u0639\u0629 \u0641\u0627\u062e\u0631\u0629"})]}),(0,Aj.jsxs)("div",{className:"about-stat",children:[(0,Aj.jsx)("span",{className:"about-stat-number",children:"100%"}),(0,Aj.jsx)("span",{className:"about-stat-label",children:"\u062c\u0648\u062f\u0629 \u0645\u0636\u0645\u0648\u0646\u0629"})]})]})]})})}),(0,Aj.jsx)("section",{className:"about-section",children:(0,Aj.jsxs)("div",{className:"about-cta",children:[(0,Aj.jsx)("h2",{className:"about-cta-title",children:"\u0644\u062f\u064a\u0643 \u0633\u0624\u0627\u0644\u061f"}),(0,Aj.jsx)("p",{className:"about-cta-text",children:"\u0641\u0631\u064a\u0642\u0646\u0627 \u062c\u0627\u0647\u0632 \u062f\u0627\u0626\u0645\u0627\u064b \u0644\u0644\u0625\u062c\u0627\u0628\u0629 \u0639\u0644\u0649 \u0627\u0633\u062a\u0641\u0633\u0627\u0631\u0627\u062a\u0643 \u0648\u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0641\u064a \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0645\u0646\u062a\u062c \u0627\u0644\u0645\u062b\u0627\u0644\u064a"}),(0,Aj.jsxs)("a",{href:"/contact",className:"about-cta-button",children:[(0,Aj.jsx)("i",{className:"fas fa-envelope"}),(0,Aj.jsx)("span",{children:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627"})]})]})})]})]}),(0,Aj.jsx)(Vj,{})]})};var Zj=function(){var e=[{icon:(0,Aj.jsx)("img",{src:"/images/instagram.png",alt:"Instagram",className:"bp-contact-icon-img"}),title:"\u0627\u0646\u0633\u062a\u062c\u0631\u0627\u0645",content:"\u062a\u0627\u0628\u0639\u064a\u0646\u0627 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0622\u062e\u0631 \u0627\u0644\u0639\u0631\u0648\u0636",link:"https://www.instagram.com/luxury_life_stayle",linkText:"@luxury_life_stayle",type:"instagram"},{icon:(0,Aj.jsx)("i",{className:"fab fa-facebook-f"}),title:"\u0641\u064a\u0633\u0628\u0648\u0643",content:"\u062a\u0648\u0627\u0635\u0644\u064a \u0645\u0639\u0646\u0627 \u0639\u0644\u0649 \u0635\u0641\u062d\u062a\u0646\u0627",link:"https://www.facebook.com/profile.php?id=100087035404500",linkText:"\u0644\u0627\u0643\u062c\u0631\u064a \u0641\u0627\u0634\u0646 Luxury fashion",type:"facebook"}];return(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"bp-contact-page",children:[(0,Aj.jsxs)("section",{className:"contact-hero",children:[(0,Aj.jsx)("div",{className:"contact-hero-overlay"}),(0,Aj.jsxs)("div",{className:"contact-hero-content",children:[(0,Aj.jsx)("h1",{className:"contact-hero-title",children:"\u062a\u0648\u0627\u0635\u0644\u064a \u0645\u0639\u0646\u0627"}),(0,Aj.jsx)("p",{className:"contact-hero-subtitle",children:"\u0646\u062d\u0646 \u0647\u0646\u0627 \u0644\u062e\u062f\u0645\u062a\u0643"})]})]}),(0,Aj.jsx)("div",{className:"bp-contact-container",children:(0,Aj.jsx)("div",{className:"bp-contact-content",children:(0,Aj.jsx)("div",{className:"bp-contact-info-section",children:(0,Aj.jsx)("div",{className:"bp-contact-cards",children:e.map(function(e,t){return(0,Aj.jsxs)("a",{href:e.link,target:"phone"===e.type||"email"===e.type?"_self":"_blank",rel:"phone"===e.type||"email"===e.type?"":"noopener noreferrer",className:"bp-contact-card ".concat(e.type),children:[(0,Aj.jsx)("div",{className:"bp-contact-card-icon",children:e.icon}),(0,Aj.jsxs)("div",{className:"bp-contact-card-content",children:[(0,Aj.jsx)("h3",{children:e.title}),(0,Aj.jsx)("p",{children:e.content}),(0,Aj.jsx)("span",{className:"bp-contact-link-text",children:e.linkText})]})]},t)})})})})})]}),(0,Aj.jsx)(Vj,{})]})};!function(){if("undefined"!==typeof localStorage);}();var eS=function(){var t,n=Ne(),r=c((0,e.useState)(!1),2),a=r[0],i=r[1],s=Oj(),o=s.cartItems,u=s.removeFromCart,l=s.updateQuantity,d=s.clearCart,f=c((0,e.useState)(""),2),h=f[0],p=f[1],m=c((0,e.useState)(""),2),v=m[0],g=m[1],y=c((0,e.useState)(""),2),b=y[0],k=y[1],x=c((0,e.useState)(""),2),w=x[0],N=x[1],j=c((0,e.useState)(!1),2),S=j[0],_=j[1],C=c((0,e.useState)(!1),2),T=C[0],I=C[1],A=c((0,e.useState)(!1),2),D=A[0],P=A[1],R=c((0,e.useState)(!1),2),O=R[0],L=R[1],M=c((0,e.useState)(""),2),F=M[0],V=M[1],U=c((0,e.useState)([]),2),z=U[0],B=U[1],q=c((0,e.useState)(!1),2),H=q[0],W=q[1],G=c((0,e.useState)(null),2),K=G[0],Q=G[1],X=c((0,e.useState)(!1),2),Y=X[0],J=X[1],$=c((0,e.useState)(!0),2),Z=$[0],ee=$[1],te=c((0,e.useState)(""),2),ne=te[0],re=te[1],ae=c((0,e.useState)(!1),2),ie=ae[0],se=ae[1],oe=c((0,e.useState)(""),2),ce=oe[0],ue=oe[1],le=c((0,e.useState)(null),2),de=le[0],fe=le[1],he=c((0,e.useState)(""),2),pe=he[0],me=he[1],ve=c((0,e.useState)(!1),2),ge=ve[0],ye=ve[1],be=[{id:"westbank",name:"\u0627\u0644\u0636\u0641\u0629 \u0627\u0644\u063a\u0631\u0628\u064a\u0629",price:20},{id:"jerusalem",name:"\u0627\u0644\u0642\u062f\u0633",price:30},{id:"inside",name:"\u0627\u0644\u062f\u0627\u062e\u0644 \u0627\u0644\u0645\u062d\u062a\u0644",price:70},{id:"abughosh",name:"\u0623\u0628\u0648 \u063a\u0648\u0634/\u0627\u0644\u0642\u0633\u0637\u0644/\u0639\u064a\u0646 \u0646\u0627\u0642\u0648\u0628\u0629/\u0623\u0628\u0648 \u0631\u0627\u0641\u0629",price:45}],ke=function(){var e=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(ce&&""!==ce.trim()){e.n=1;break}return me("\u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u0643\u0648\u0628\u0648\u0646"),e.a(2);case 1:return ye(!0),me(""),e.p=2,e.n=3,vm(op(jj,"coupons"));case 3:if(t=e.v,n=null,t.forEach(function(e){var t=e.data();t.code===ce.toUpperCase().trim()&&(n=st({id:e.id},t))}),n){e.n=4;break}return me("\u0631\u0645\u0632 \u0627\u0644\u0643\u0648\u0628\u0648\u0646 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d"),ye(!1),e.a(2);case 4:if(n.isActive){e.n=5;break}return me("\u0647\u0630\u0627 \u0627\u0644\u0643\u0648\u0628\u0648\u0646 \u063a\u064a\u0631 \u0646\u0634\u0637"),ye(!1),e.a(2);case 5:if(!n.expiresAt){e.n=6;break}if(!(new Date(1e3*n.expiresAt.seconds)<new Date)){e.n=6;break}return me("\u0647\u0630\u0627 \u0627\u0644\u0643\u0648\u0628\u0648\u0646 \u0645\u0646\u062a\u0647\u064a \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0629"),ye(!1),e.a(2);case 6:if(!n.usageLimit){e.n=7;break}if(!((n.usedCount||0)>=n.usageLimit)){e.n=7;break}return me("\u062a\u0645 \u0627\u0633\u062a\u0646\u0641\u0627\u062f \u0647\u0630\u0627 \u0627\u0644\u0643\u0648\u0628\u0648\u0646"),ye(!1),e.a(2);case 7:if(!(n.minPurchase&&we<n.minPurchase)){e.n=8;break}return me("\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649 \u0644\u0644\u0634\u0631\u0627\u0621 \u0647\u0648 ".concat(n.minPurchase," \u0634\u064a\u0643\u0644")),ye(!1),e.a(2);case 8:if(n.allowOnDiscounted){e.n=9;break}if(!o.some(function(e){return e.hasDiscount})){e.n=9;break}return me("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u0637\u0628\u064a\u0642 \u0647\u0630\u0627 \u0627\u0644\u0643\u0648\u0628\u0648\u0646 \u0639\u0644\u0649 \u0645\u0646\u062a\u062c\u0627\u062a \u0645\u062e\u0641\u0636\u0629"),ye(!1),e.a(2);case 9:fe(n),me(""),e.n=11;break;case 10:e.p=10,e.v,me("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u0643\u0648\u0628\u0648\u0646");case 11:return e.p=11,ye(!1),e.f(11);case 12:return e.a(2)}},e,null,[[2,10,11,12]])}));return function(){return e.apply(this,arguments)}}(),xe=ne&&(null===(t=be.find(function(e){return e.id===ne}))||void 0===t?void 0:t.price)||0,we=o.reduce(function(e,t){var n=t.price;return t.selectedVariant&&t.selectedVariant.price&&(n=parseFloat(t.selectedVariant.price)||0),e+n*t.quantity},0),je=0;de&&("percentage"===de.discountType?(je=we*de.discountValue/100,de.maxDiscount&&je>de.maxDiscount&&(je=de.maxDiscount)):je=de.discountValue,je=Math.min(je,we));var Se=we-je+xe,_e=function(){var e=_n(jn().m(function e(){var t,n,r,a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:t=[],e.p=1,n=E(o),e.p=2,a=jn().m(function e(){var n,a,i,s,o,c,u;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=r.value,a=cp(jj,"products",n.id),e.n=1,pm(a);case 1:(i=e.v).exists()?(s=i.data(),o=0,s.hasVariants&&n.selectedVariant?(u=null===(c=s.variants)||void 0===c?void 0:c.find(function(e){return e.size===n.selectedVariant.size&&e.color===n.selectedVariant.color}),o=u&&parseInt(u.stock)||0):o=s.stock||0,o<n.quantity&&t.push(st(st({},n),{},{issue:"\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629 \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0645\u062a\u0648\u0641\u0631",availableStock:o}))):t.push(st(st({},n),{},{issue:"\u0627\u0644\u0645\u0646\u062a\u062c \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631",availableStock:0}));case 2:return e.a(2)}},e)}),n.s();case 3:if((r=n.n()).done){e.n=5;break}return e.d(Qj(a()),4);case 4:e.n=3;break;case 5:e.n=7;break;case 6:e.p=6,i=e.v,n.e(i);case 7:return e.p=7,n.f(),e.f(7);case 8:e.n=10;break;case 9:e.p=9,e.v;case 10:return e.a(2,t)}},e,null,[[2,6,7,8],[1,9]])}));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,_e();case 1:(t=e.v).length>0?(B(t),W(!0)):se(!0);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Ce=function(){se(!1),re(""),V("")},Te=function(){re(""),P(!1),se(!1)},Ie=function(e){var t=/^(?:\+970|\+972)\d{9}$/.test(e.trim());return ee(t),t},Ae=function(){var e=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),0!==o.length){e.n=1;break}return e.a(2);case 1:if(Ie(v)){e.n=2;break}return V("\u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0631\u0642\u0645 \u0648\u0627\u062a\u0633\u0627\u0628 \u0635\u062d\u064a\u062d \u0628\u0627\u0644\u0635\u064a\u063a\u0629: +970XXXXXXXXX \u0623\u0648 +972XXXXXXXXX"),e.a(2);case 2:return _(!0),V(""),e.p=3,e.n=4,Tm(jj,function(){var e=_n(jn().m(function e(t){var n,r,a,i,s,c,u,l,d,f;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:r=[],a=E(o),e.p=1,s=jn().m(function e(){var n,a,s,o,c,u,l,d,f;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=i.value,a=cp(jj,"products",n.id),e.n=1,t.get(a);case 1:if((s=e.v).exists()){e.n=2;break}throw new Error("\u0627\u0644\u0645\u0646\u062a\u062c ".concat(n.name," \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f"));case 2:if(o=s.data(),c=0,u={},!o.hasVariants||!n.selectedVariant){e.n=5;break}if(d=null===(l=o.variants)||void 0===l?void 0:l.find(function(e){return e.size===n.selectedVariant.size&&e.color===n.selectedVariant.color}),d){e.n=3;break}throw new Error("\u0627\u0644\u0645\u062a\u063a\u064a\u0631 ".concat(n.selectedVariant.size," - ").concat(n.selectedVariant.color," \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631 \u0644\u0644\u0645\u0646\u062a\u062c ").concat(n.name));case 3:if(!((c=parseInt(d.stock)||0)<n.quantity)){e.n=4;break}throw new Error("\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u0645\u062a\u0627\u062d \u0644\u0644\u0645\u0646\u062a\u062c ".concat(n.name," (").concat(n.selectedVariant.size," - ").concat(n.selectedVariant.color,") \u0647\u0648 ").concat(c," \u0641\u0642\u0637\u060c \u0648\u0644\u0643\u0646 \u0637\u0644\u0628\u062a ").concat(n.quantity));case 4:f=o.variants.map(function(e){return e.size===n.selectedVariant.size&&e.color===n.selectedVariant.color?st(st({},e),{},{stock:Math.max(0,parseInt(e.stock)-n.quantity)}):e}),u={variants:f},e.n=7;break;case 5:if(!((c=o.stock||0)<n.quantity)){e.n=6;break}throw new Error("\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u0645\u062a\u0627\u062d \u0644\u0644\u0645\u0646\u062a\u062c ".concat(n.name," \u0647\u0648 ").concat(c," \u0641\u0642\u0637\u060c \u0648\u0644\u0643\u0646 \u0637\u0644\u0628\u062a ").concat(n.quantity));case 6:u={stock:Math.max(0,c-n.quantity)};case 7:r.push({ref:a,updateData:u});case 8:return e.a(2)}},e)}),a.s();case 2:if((i=a.n()).done){e.n=4;break}return e.d(Qj(s()),3);case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,f=e.v,a.e(f);case 6:return e.p=6,a.f(),e.f(6);case 7:return c={customerName:h,customerPhone:v,customerAddress:b,items:o,subtotal:we,deliveryFee:xe,deliveryOption:(null===(n=be.find(function(e){return e.id===ne}))||void 0===n?void 0:n.name)||"",coupon:de?{code:de.code,discountType:de.discountType,discountValue:de.discountValue,couponDiscount:je}:null,total:Se,status:"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",createdAt:Ri.now()},u=cp(op(jj,"orders")),t.set(u,c),r.forEach(function(e){var n=e.ref,r=e.updateData;t.update(n,r)}),de&&(l=cp(jj,"coupons",de.id),d=de.usedCount||0,t.update(l,{usedCount:d+1})),e.a(2,st({id:u.id},c))}},e,null,[[1,5,6,7]])}));return function(t){return e.apply(this,arguments)}}());case 4:n=e.v,N(n.id),P(!1),re(""),I(!0),d(),p(""),g(""),k(""),fe(null),ue(""),me(""),e.n=6;break;case 5:e.p=5,r=e.v,V(r.message||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0645\u0639\u0627\u0644\u062c\u0629 \u0627\u0644\u0637\u0644\u0628");case 6:return e.p=6,_(!1),e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.clipboard.writeText(w);case 1:L(!0),setTimeout(function(){return L(!1)},2e3),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();return(0,e.useEffect)(function(){var e=Sy(Sj,function(e){i(!!e)});return function(){return e()}},[]),(0,e.useEffect)(function(){a&&setTimeout(function(){n("/admin/dashboard")},3e3)},[a,n]),a?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsx)("div",{className:"cart-page",children:(0,Aj.jsx)("div",{className:"ct-container",children:(0,Aj.jsxs)("div",{className:"ct-error",children:[(0,Aj.jsx)("span",{children:(0,Aj.jsx)("i",{className:"fas fa-lock"})}),(0,Aj.jsx)("span",{children:"\u0623\u0646\u062a \u0623\u062f\u0645\u0646 \u0648\u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0633\u0644\u0629. \u0633\u064a\u062a\u0645 \u062a\u0648\u062c\u064a\u0647\u0643 \u0644\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645..."})]})})}),(0,Aj.jsx)(Vj,{})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"cart-page",children:[(0,Aj.jsx)("h1",{children:"\u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a"}),F&&(0,Aj.jsxs)("div",{className:"ct-error",children:[(0,Aj.jsx)("span",{children:(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})}),(0,Aj.jsx)("span",{children:F})]}),0===o.length?(0,Aj.jsx)("p",{className:"ct-empty",children:"\u0639\u0631\u0628\u0629 \u0627\u0644\u062a\u0633\u0648\u0642 \u0641\u0627\u0631\u063a\u0629."}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("div",{className:"ct-table-container",children:(0,Aj.jsxs)("table",{className:"ct-table",children:[(0,Aj.jsx)("thead",{children:(0,Aj.jsxs)("tr",{children:[(0,Aj.jsx)("th",{children:"\u0627\u0644\u0635\u0648\u0631\u0629"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0633\u0639\u0631"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639"}),(0,Aj.jsx)("th",{children:"\u0625\u0632\u0627\u0644\u0629"})]})}),(0,Aj.jsx)("tbody",{children:o.map(function(e){return(0,Aj.jsxs)("tr",{children:[(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0635\u0648\u0631\u0629",children:(0,Aj.jsx)("div",{className:"ct-product-image",children:e.images&&e.images.length>0?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("img",{src:e.images[0],alt:e.name,className:"ct-product-thumbnail",loading:"lazy",onClick:function(){Q(e.images[0]),J(!0)},onError:function(e){e.target.style.display="none",e.target.nextSibling&&(e.target.nextSibling.style.display="flex")}}),(0,Aj.jsxs)("div",{className:"ct-no-image",style:{display:"none"},children:[(0,Aj.jsx)("span",{className:"ct-no-image-icon",children:(0,Aj.jsx)("i",{className:"fas fa-camera"})}),(0,Aj.jsx)("span",{className:"ct-no-image-text",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0635\u0648\u0631\u0629"})]})]}):(0,Aj.jsxs)("div",{className:"ct-no-image",children:[(0,Aj.jsx)("span",{className:"ct-no-image-icon",children:(0,Aj.jsx)("i",{className:"fas fa-camera"})}),(0,Aj.jsx)("span",{className:"ct-no-image-text",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0635\u0648\u0631\u0629"})]})})}),(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0645\u0646\u062a\u062c",children:(0,Aj.jsx)(Ze,{to:"/products/".concat(e.id),className:"ct-product-name-link",children:e.name})}),(0,Aj.jsxs)("td",{"data-label":"\u0627\u0644\u0633\u0639\u0631",children:[e.selectedVariant&&e.selectedVariant.price?"".concat(parseFloat(e.selectedVariant.price)," \u0634\u064a\u0643\u0644"):"".concat(e.price," \u0634\u064a\u0643\u0644"),e.selectedVariant&&(0,Aj.jsx)("div",{className:"ct-variant-info",children:(0,Aj.jsxs)("small",{children:[e.selectedVariant.size," -"," ",e.selectedVariant.color]})})]}),(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0643\u0645\u064a\u0629",children:(0,Aj.jsx)("input",{type:"number",min:"1",value:e.quantity,className:"ct-qty-input",onChange:function(t){return l(e.cartItemId||e.id,parseInt(t.target.value))}})}),(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0645\u062c\u0645\u0648\u0639",children:function(){var t=e.selectedVariant&&e.selectedVariant.price?parseFloat(e.selectedVariant.price):e.price;return"".concat(t*e.quantity," \u0634\u064a\u0643\u0644")}()}),(0,Aj.jsx)("td",{"data-label":"\u0625\u0632\u0627\u0644\u0629",children:(0,Aj.jsx)("button",{className:"ct-remove-btn",onClick:function(){return u(e.cartItemId||e.id)},children:"\xd7"})})]},e.cartItemId||e.id)})})]})}),(0,Aj.jsx)("div",{className:"ct-mobile-cards",children:o.map(function(e){return(0,Aj.jsxs)("div",{className:"ct-mobile-card",children:[(0,Aj.jsxs)("div",{className:"ct-mobile-card-header",children:[(0,Aj.jsx)("div",{className:"ct-mobile-product-image",children:e.images&&e.images.length>0?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("img",{src:e.images[0],alt:e.name,className:"ct-mobile-thumbnail",loading:"lazy",onClick:function(){Q(e.images[0]),J(!0)},onError:function(e){e.target.style.display="none",e.target.nextSibling&&(e.target.nextSibling.style.display="flex")}}),(0,Aj.jsx)("div",{className:"ct-mobile-no-image",style:{display:"none"},children:(0,Aj.jsx)("span",{className:"ct-mobile-no-image-icon",children:(0,Aj.jsx)("i",{className:"fas fa-camera"})})})]}):(0,Aj.jsx)("div",{className:"ct-mobile-no-image",children:(0,Aj.jsx)("span",{className:"ct-mobile-no-image-icon",children:(0,Aj.jsx)("i",{className:"fas fa-camera"})})})}),(0,Aj.jsxs)("div",{className:"ct-mobile-product-info",children:[(0,Aj.jsx)("h4",{className:"ct-mobile-product-name",children:(0,Aj.jsx)(Ze,{to:"/products/".concat(e.id),className:"ct-product-name-link",children:e.name})}),(0,Aj.jsx)("div",{className:"ct-mobile-price",children:e.selectedVariant&&e.selectedVariant.price?"".concat(parseFloat(e.selectedVariant.price)," \u0634\u064a\u0643\u0644"):"".concat(e.price," \u0634\u064a\u0643\u0644")}),e.selectedVariant&&(0,Aj.jsxs)("div",{className:"ct-mobile-variant",children:[(0,Aj.jsx)("span",{className:"ct-mobile-variant-size",children:e.selectedVariant.size}),(0,Aj.jsx)("span",{className:"ct-mobile-variant-color",children:e.selectedVariant.color})]})]}),(0,Aj.jsx)("button",{className:"ct-mobile-remove-btn",onClick:function(){return u(e.cartItemId||e.id)},"aria-label":"\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0645\u0646\u062a\u062c",children:"\xd7"})]}),(0,Aj.jsxs)("div",{className:"ct-mobile-card-actions",children:[(0,Aj.jsxs)("div",{className:"ct-mobile-quantity",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0643\u0645\u064a\u0629:"}),(0,Aj.jsxs)("div",{className:"ct-mobile-qty-controls",children:[(0,Aj.jsx)("button",{className:"ct-mobile-qty-btn",onClick:function(){var t=Math.max(1,e.quantity-1);l(e.cartItemId||e.id,t)},disabled:e.quantity<=1,children:"-"}),(0,Aj.jsx)("span",{className:"ct-mobile-qty-value",children:e.quantity}),(0,Aj.jsx)("button",{className:"ct-mobile-qty-btn",onClick:function(){l(e.cartItemId||e.id,e.quantity+1)},children:"+"})]})]}),(0,Aj.jsxs)("div",{className:"ct-mobile-total",children:[(0,Aj.jsx)("span",{children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639:"}),(0,Aj.jsx)("strong",{children:function(){var t=e.selectedVariant&&e.selectedVariant.price?parseFloat(e.selectedVariant.price):e.price;return"".concat(t*e.quantity," \u0634\u064a\u0643\u0644")}()})]})]})]},e.cartItemId||e.id)})})]}),(0,Aj.jsxs)("div",{className:"ct-summary",children:[(0,Aj.jsxs)("p",{children:[(0,Aj.jsx)("strong",{children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a:"})," ",Se," \u0634\u064a\u0643\u0644"]}),(0,Aj.jsx)("button",{className:"ct-open-checkout-btn",onClick:Ee,disabled:0===o.length,children:"\u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u0634\u0631\u0627\u0621"})]}),T&&w&&(0,Aj.jsx)("div",{className:"ct-modal-overlay ct-success-modal-overlay",onClick:function(e){e.target.classList.contains("ct-modal-overlay")&&I(!1)},children:(0,Aj.jsxs)("div",{className:"ct-modal ct-success-modal",role:"dialog","aria-modal":"true",children:[(0,Aj.jsx)("button",{className:"ct-modal-close",onClick:function(){return I(!1)},"aria-label":"\u0625\u063a\u0644\u0627\u0642",children:"\xd7"}),(0,Aj.jsxs)("div",{className:"ct-success-content",children:[(0,Aj.jsx)("div",{className:"ct-success-icon",children:(0,Aj.jsx)("div",{className:"ct-success-circle",children:(0,Aj.jsx)("i",{className:"fas fa-check"})})}),(0,Aj.jsx)("h2",{className:"ct-success-title",children:"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628\u0643 \u0628\u0646\u062c\u0627\u062d!"}),(0,Aj.jsx)("div",{className:"ct-success-divider"}),(0,Aj.jsxs)("div",{className:"ct-order-info",children:[(0,Aj.jsx)("p",{className:"ct-order-label",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628"}),(0,Aj.jsxs)("div",{className:"ct-order-code-box",children:[(0,Aj.jsxs)("span",{className:"ct-order-code",children:["#",w]}),(0,Aj.jsxs)("button",{type:"button",className:"ct-copy-btn",onClick:De,"aria-label":"\u0646\u0633\u062e \u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628",children:[(0,Aj.jsx)("i",{className:O?"fas fa-check":"fas fa-copy"}),(0,Aj.jsx)("span",{children:O?"\u062a\u0645 \u0627\u0644\u0646\u0633\u062e":"\u0646\u0633\u062e"})]})]})]}),(0,Aj.jsx)("div",{className:"ct-success-message",children:(0,Aj.jsxs)("div",{className:"ct-whatsapp-box",children:[(0,Aj.jsx)("div",{className:"ct-whatsapp-icon",children:(0,Aj.jsx)("i",{className:"fab fa-whatsapp"})}),(0,Aj.jsx)("p",{children:"\u0633\u0646\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0643 \u0639\u0628\u0631 \u0627\u0644\u0648\u0627\u062a\u0633\u0627\u0628 \u0644\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0637\u0644\u0628"})]})}),(0,Aj.jsxs)("div",{className:"ct-success-actions",children:[(0,Aj.jsxs)("button",{className:"ct-success-btn ct-success-btn-primary",onClick:function(){I(!1),n("/products")},children:[(0,Aj.jsx)("i",{className:"fas fa-shopping-bag"}),(0,Aj.jsx)("span",{children:"\u0645\u062a\u0627\u0628\u0639\u0629 \u0627\u0644\u062a\u0633\u0648\u0642"})]}),(0,Aj.jsx)("button",{className:"ct-success-btn ct-success-btn-secondary",onClick:function(){return I(!1)},children:(0,Aj.jsx)("span",{children:"\u0625\u063a\u0644\u0627\u0642"})})]})]})]})}),H&&(0,Aj.jsx)("div",{className:"ct-modal-overlay",onClick:function(e){e.target.classList.contains("ct-modal-overlay")&&W(!1)},children:(0,Aj.jsxs)("div",{className:"ct-modal",role:"dialog","aria-modal":"true",children:[(0,Aj.jsx)("button",{className:"ct-modal-close",onClick:function(){return W(!1)},"aria-label":"\u0625\u063a\u0644\u0627\u0642",children:"\xd7"}),(0,Aj.jsx)("h2",{children:"\u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u0627\u0644\u0645\u062e\u0632\u0648\u0646"}),(0,Aj.jsxs)("div",{className:"ct-stock-issues",children:[(0,Aj.jsxs)("p",{className:"ct-stock-warning",children:[(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})," \u0628\u0639\u0636 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0641\u064a \u0633\u0644\u062a\u0643 \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631\u0629 \u0628\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629:"]}),z.map(function(e){return(0,Aj.jsx)("div",{className:"ct-stock-issue-item",children:(0,Aj.jsxs)("div",{className:"ct-issue-info",children:[(0,Aj.jsx)("h4",{children:e.name}),(0,Aj.jsxs)("p",{children:["\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629:"," ",(0,Aj.jsx)("span",{className:"ct-requested",children:e.quantity})]}),(0,Aj.jsxs)("p",{children:["\u0627\u0644\u0645\u062a\u0648\u0641\u0631 \u0641\u064a \u0627\u0644\u0645\u062e\u0632\u0648\u0646:"," ",(0,Aj.jsx)("span",{className:"ct-available",children:e.availableStock})]})]})},e.id)}),(0,Aj.jsxs)("div",{className:"ct-stock-options",children:[(0,Aj.jsx)("p",{children:"\u064a\u0645\u0643\u0646\u0643 \u0627\u062e\u062a\u064a\u0627\u0631 \u0625\u062d\u062f\u0649 \u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u062a\u0627\u0644\u064a\u0629:"}),(0,Aj.jsxs)("div",{className:"ct-stock-buttons",children:[(0,Aj.jsx)("button",{className:"ct-adjust-btn",onClick:function(){z.forEach(function(e){e.availableStock>0?l(e.cartItemId||e.id,e.availableStock):u(e.cartItemId||e.id)}),W(!1),B([])},children:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0643\u0645\u064a\u0627\u062a \u062d\u0633\u0628 \u0627\u0644\u0645\u062a\u0648\u0641\u0631"}),(0,Aj.jsx)("button",{className:"ct-contact-btn",onClick:function(){var e="\u0645\u0631\u062d\u0628\u0627\u060c \u0623\u062d\u062a\u0627\u062c \u0645\u0633\u0627\u0639\u062f\u0629 \u0628\u062e\u0635\u0648\u0635 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u062a\u0627\u0644\u064a\u0629:\n\n".concat(z.map(function(e){return"- ".concat(e.name,": \u0637\u0644\u0628\u062a ").concat(e.quantity," \u0648\u0627\u0644\u0645\u062a\u0648\u0641\u0631 ").concat(e.availableStock)}).join("\n"),"\n\n\u0647\u0644 \u064a\u0645\u0643\u0646\u0643\u0645 \u0627\u0642\u062a\u0631\u0627\u062d \u0628\u062f\u0627\u0626\u0644 \u0645\u0634\u0627\u0628\u0647\u0629\u061f"),t="https://wa.me/972592806088?text=".concat(encodeURIComponent(e));window.open(t,"_blank"),W(!1),B([])},children:"\u062a\u0648\u0627\u0635\u0644\u064a \u0645\u0639\u0646\u0627 \u0644\u0627\u0642\u062a\u0631\u0627\u062d \u0628\u062f\u0627\u0626\u0644"})]})]})]})]})}),ie&&(0,Aj.jsx)("div",{className:"ct-modal-overlay",onClick:function(e){e.target.classList.contains("ct-modal-overlay")&&Ce()},children:(0,Aj.jsxs)("div",{className:"ct-modal ct-invoice-modal",role:"dialog","aria-modal":"true",children:[(0,Aj.jsx)("button",{className:"ct-modal-close",onClick:Ce,"aria-label":"\u0625\u063a\u0644\u0627\u0642",children:"\xd7"}),(0,Aj.jsx)("h2",{children:"\u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"}),F&&(0,Aj.jsxs)("div",{className:"ct-error",children:[(0,Aj.jsx)("span",{children:(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})}),(0,Aj.jsx)("span",{children:F})]}),(0,Aj.jsxs)("div",{className:"ct-invoice-content",children:[(0,Aj.jsxs)("div",{className:"ct-invoice-items",children:[(0,Aj.jsx)("h3",{children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629"}),(0,Aj.jsx)("div",{className:"ct-invoice-items-list",children:o.map(function(e){return(0,Aj.jsxs)("div",{className:"ct-invoice-item",children:[(0,Aj.jsxs)("div",{className:"ct-invoice-item-info",children:[(0,Aj.jsx)("h4",{children:e.name}),e.selectedVariant&&(0,Aj.jsxs)("p",{className:"ct-invoice-variant",children:[e.selectedVariant.size," -"," ",e.selectedVariant.color]}),(0,Aj.jsxs)("p",{className:"ct-invoice-quantity",children:["\u0627\u0644\u0643\u0645\u064a\u0629: ",e.quantity]})]}),(0,Aj.jsx)("div",{className:"ct-invoice-item-price",children:function(){var t=e.selectedVariant&&e.selectedVariant.price?parseFloat(e.selectedVariant.price):e.price;return"".concat(t*e.quantity," \u0634\u064a\u0643\u0644")}()})]},e.cartItemId||e.id)})})]}),(0,Aj.jsxs)("div",{className:"ct-coupon-section",children:[(0,Aj.jsx)("h3",{children:"\u0643\u0648\u0628\u0648\u0646 \u0627\u0644\u062e\u0635\u0645"}),de?(0,Aj.jsxs)("div",{className:"ct-applied-coupon",children:[(0,Aj.jsxs)("div",{className:"ct-applied-coupon-info",children:[(0,Aj.jsx)("span",{className:"ct-applied-coupon-code",children:de.code}),(0,Aj.jsxs)("span",{className:"ct-applied-coupon-discount",children:["\u062e\u0635\u0645: ",je.toFixed(2)," \u0634\u064a\u0643\u0644"]})]}),(0,Aj.jsx)("button",{type:"button",onClick:function(){fe(null),ue(""),me("")},className:"ct-remove-coupon-btn",children:"\u0625\u0632\u0627\u0644\u0629"})]}):(0,Aj.jsxs)("div",{className:"ct-coupon-input-group",children:[(0,Aj.jsx)("input",{type:"text",value:ce,onChange:function(e){return ue(e.target.value.toUpperCase())},placeholder:"\u0623\u062f\u062e\u0644 \u0631\u0645\u0632 \u0627\u0644\u0643\u0648\u0628\u0648\u0646",className:"ct-coupon-input",disabled:ge}),(0,Aj.jsx)("button",{type:"button",onClick:ke,className:"ct-apply-coupon-btn",disabled:ge||!ce.trim(),children:ge?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0642\u0642...":"\u062a\u0637\u0628\u064a\u0642"})]}),pe&&(0,Aj.jsxs)("p",{className:"ct-coupon-error",children:[(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})," ",pe]})]}),(0,Aj.jsxs)("div",{className:"ct-delivery-section",children:[(0,Aj.jsx)("h3",{children:"\u062e\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u062a\u0648\u0635\u064a\u0644"}),(0,Aj.jsx)("p",{className:"ct-delivery-note",children:"* \u064a\u062c\u0628 \u0627\u062e\u062a\u064a\u0627\u0631 \u062e\u064a\u0627\u0631 \u0627\u0644\u062a\u0648\u0635\u064a\u0644"}),(0,Aj.jsx)("div",{className:"ct-delivery-options",children:be.map(function(e){return(0,Aj.jsxs)("label",{className:"ct-delivery-option",children:[(0,Aj.jsx)("input",{type:"radio",name:"delivery",value:e.id,checked:ne===e.id,onChange:function(e){return re(e.target.value)}}),(0,Aj.jsxs)("span",{className:"ct-delivery-option-content",children:[(0,Aj.jsx)("span",{className:"ct-delivery-name",children:e.name}),(0,Aj.jsxs)("span",{className:"ct-delivery-price",children:[e.price," \u0634\u064a\u0643\u0644"]})]})]},e.id)})})]}),(0,Aj.jsxs)("div",{className:"ct-invoice-summary",children:[(0,Aj.jsx)("h3",{children:"\u0645\u0644\u062e\u0635 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"}),(0,Aj.jsxs)("div",{className:"ct-invoice-summary-row",children:[(0,Aj.jsx)("span",{children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0627\u0644\u0641\u0631\u0639\u064a:"}),(0,Aj.jsxs)("span",{children:[we.toFixed(2)," \u0634\u064a\u0643\u0644"]})]}),de&&(0,Aj.jsxs)("div",{className:"ct-invoice-summary-row ct-invoice-discount",children:[(0,Aj.jsxs)("span",{children:["\u062e\u0635\u0645 \u0627\u0644\u0643\u0648\u0628\u0648\u0646 (",de.code,"):"]}),(0,Aj.jsxs)("span",{children:["-",je.toFixed(2)," \u0634\u064a\u0643\u0644"]})]}),(0,Aj.jsxs)("div",{className:"ct-invoice-summary-row",children:[(0,Aj.jsx)("span",{children:"\u0631\u0633\u0648\u0645 \u0627\u0644\u062a\u0648\u0635\u064a\u0644:"}),(0,Aj.jsxs)("span",{children:[xe," \u0634\u064a\u0643\u0644"]})]}),(0,Aj.jsxs)("div",{className:"ct-invoice-summary-row ct-invoice-total",children:[(0,Aj.jsx)("span",{children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0646\u0647\u0627\u0626\u064a:"}),(0,Aj.jsxs)("span",{children:[Se.toFixed(2)," \u0634\u064a\u0643\u0644"]})]})]}),(0,Aj.jsxs)("div",{className:"ct-invoice-actions",children:[(0,Aj.jsx)("button",{className:"ct-back-to-cart-btn",onClick:Ce,children:"\u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0644\u0633\u0644\u0629"}),(0,Aj.jsx)("button",{className:"ct-proceed-checkout-btn",onClick:function(){ne?(se(!1),P(!0),V("")):V("\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u062e\u064a\u0627\u0631 \u0627\u0644\u062a\u0648\u0635\u064a\u0644")},disabled:!ne,children:"\u0645\u062a\u0627\u0628\u0639\u0629 \u0627\u0644\u062f\u0641\u0639"})]})]})]})}),D&&(0,Aj.jsx)("div",{className:"ct-modal-overlay",onClick:function(e){e.target.classList.contains("ct-modal-overlay")&&Te()},children:(0,Aj.jsxs)("div",{className:"ct-modal",role:"dialog","aria-modal":"true","aria-labelledby":"checkoutTitle",children:[(0,Aj.jsx)("button",{className:"ct-modal-close",onClick:Te,"aria-label":"\u0625\u063a\u0644\u0627\u0642",children:"\xd7"}),(0,Aj.jsx)("h2",{id:"checkoutTitle",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062f\u0641\u0639"}),F&&(0,Aj.jsxs)("div",{className:"ct-error",children:[(0,Aj.jsx)("span",{children:(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})}),(0,Aj.jsx)("span",{children:F})]}),(0,Aj.jsxs)("form",{onSubmit:Ae,children:[(0,Aj.jsxs)("div",{className:"ct-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644:"}),(0,Aj.jsx)("input",{type:"text",value:h,placeholder:"\u0623\u062f\u062e\u0644 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644",required:!0,onChange:function(e){return p(e.target.value)}})]}),(0,Aj.jsxs)("div",{className:"ct-form-group",children:[(0,Aj.jsx)("label",{children:"\u0631\u0642\u0645 \u0627\u0644\u0648\u0627\u062a\u0633\u0627\u0628:"}),(0,Aj.jsx)("input",{type:"tel",value:v,required:!0,placeholder:"+970594659371 \u0623\u0648 +972594659371",onChange:function(e){g(e.target.value),Ie(e.target.value)},className:v&&!Z?"ct-input-invalid":"",dir:"ltr"}),(0,Aj.jsxs)("small",{className:"ct-phone-note",children:[(0,Aj.jsx)("i",{className:"fas fa-phone"})," \u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0631\u0642\u0645 \u0627\u0644\u0648\u0627\u062a\u0633\u0627\u0628 \u0628\u0627\u0644\u0635\u064a\u063a\u0629 \u0627\u0644\u062a\u0627\u0644\u064a\u0629: +970XXXXXXXXX \u0623\u0648 +972XXXXXXXXX"]}),v&&!Z&&(0,Aj.jsxs)("small",{className:"ct-phone-error-note",children:[(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})," \u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0631\u0642\u0645 \u0648\u0627\u062a\u0633\u0627\u0628 \u0635\u062d\u064a\u062d \u064a\u0628\u062f\u0623 \u0628\u0640 +970 \u0623\u0648 +972 \u0645\u062a\u0628\u0648\u0639\u0627\u064b \u0628\u0640 9 \u0623\u0631\u0642\u0627\u0645"]})]}),(0,Aj.jsxs)("div",{className:"ct-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646:"}),(0,Aj.jsx)("textarea",{value:b,required:!0,placeholder:"\u0623\u062f\u062e\u0644 \u0627\u0644\u0639\u0646\u0648\u0627\u0646",onChange:function(e){return k(e.target.value)}})]}),(0,Aj.jsx)("button",{type:"submit",className:"ct-checkout-btn",disabled:S||0===o.length||v&&!Z,children:S?"... \u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644":"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628"}),(0,Aj.jsx)("button",{type:"button",className:"ct-back-btn",onClick:function(){P(!1),V("")},disabled:S,children:"\u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"})]})]})}),Y&&K&&(0,Aj.jsx)("div",{className:"ct-image-modal-overlay",onClick:function(){return J(!1)},children:(0,Aj.jsxs)("div",{className:"ct-image-modal",onClick:function(e){return e.stopPropagation()},children:[(0,Aj.jsxs)("div",{className:"ct-image-modal-header",children:[(0,Aj.jsx)("h3",{children:"\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u0635\u0648\u0631\u0629"}),(0,Aj.jsx)("button",{className:"ct-image-modal-close",onClick:function(){return J(!1)},children:"\xd7"})]}),(0,Aj.jsx)("div",{className:"ct-image-modal-content",children:(0,Aj.jsx)("img",{src:K,alt:"\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u0645\u0646\u062a\u062c",className:"ct-image-modal-image"})})]})})]}),(0,Aj.jsx)(Vj,{})]})};var tS=function(){var t=c((0,e.useState)(""),2),n=t[0],r=t[1],a=c((0,e.useState)(""),2),i=a[0],s=a[1],o=c((0,e.useState)(""),2),u=o[0],l=o[1],d=c((0,e.useState)(!1),2),f=d[0],h=d[1],p=c((0,e.useState)(!0),2),m=p[0],v=p[1],g=Ne();(0,e.useEffect)(function(){var e=Sy(Sj,function(e){e?g("/admin/dashboard"):v(!1)});return function(){return e()}},[g]);var y=function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.preventDefault(),l(""),h(!0),e.p=1,e.n=2,jy(Sj,n,i);case 2:g("/admin/dashboard"),e.n=4;break;case 3:e.p=3,e.v,l("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0623\u0648 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631");case 4:return e.p=4,h(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(t){return e.apply(this,arguments)}}();return m?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsx)("div",{className:"admin-login-page",children:(0,Aj.jsx)("div",{className:"al-form",children:(0,Aj.jsxs)("div",{className:"al-checking",children:[(0,Aj.jsx)("div",{className:"al-spinner"}),(0,Aj.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u062d\u0627\u0644\u0629 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644..."})]})})})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"admin-login-page",children:[(0,Aj.jsx)("h1",{children:"\u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644 \u0627\u0644\u0645\u0633\u0624\u0648\u0644"}),(0,Aj.jsxs)("form",{onSubmit:y,className:"al-form",children:[u&&(0,Aj.jsx)("p",{className:"al-error",children:u}),(0,Aj.jsxs)("div",{className:"al-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a:"}),(0,Aj.jsx)("input",{type:"email",value:n,required:!0,placeholder:"\u0623\u062f\u062e\u0644 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",onChange:function(e){return r(e.target.value)},autoComplete:"email"})]}),(0,Aj.jsxs)("div",{className:"al-form-group",children:[(0,Aj.jsx)("label",{children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631:"}),(0,Aj.jsx)("input",{type:"password",value:i,required:!0,placeholder:"\u0623\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",onChange:function(e){return s(e.target.value)},autoComplete:"current-password"})]}),(0,Aj.jsx)("button",{type:"submit",className:"al-login-btn",disabled:f,children:f?"\u062c\u0627\u0631\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644...":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})]}),(0,Aj.jsx)("div",{className:"al-footer",children:(0,Aj.jsx)("p",{children:"\xa9 2026 Luxury Fashion"})})]})]})},nS="BA0tYbyX_1CvftRLU-13Xj3ISPpUkhCNafGp1LglIikSt1leaEUei8b-kA_yquTygO-ZBvAdnEwmSy-fqwSYfhE",rS=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).log.apply(e,["[NotificationService]"].concat(n))},aS=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[NotificationService ERROR]"].concat(n))},iS=function(){return y(function e(){p(this,e),this.messaging=null,this.currentToken=null,this.isInitialized=!1},[{key:"isSupported",value:function(){var e="Notification"in window,t="serviceWorker"in navigator,n="PushManager"in window;return rS("isSupported check:",{hasNotification:e,hasSW:t,hasPush:n}),e&&t&&n}},{key:"isPWA",value:function(){return window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"getPermissionStatus",value:function(){return this.isSupported()?Notification.permission:"unsupported"}},{key:"initialize",value:function(){var e=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(rS("initialize() called, isInitialized:",this.isInitialized),!this.isInitialized){e.n=1;break}return e.a(2,!0);case 1:return e.p=1,rS("Calling initializeMessaging()..."),e.n=2,Cj();case 2:if(this.messaging=e.v,rS("initializeMessaging result:",this.messaging?"SUCCESS":"FAILED"),this.messaging){e.n=3;break}return aS("Messaging initialization returned null"),e.a(2,!1);case 3:return rS("Registering service worker..."),e.n=4,navigator.serviceWorker.register("/firebase-messaging-sw.js");case 4:return t=e.v,rS("Service worker registered:",t.scope),rS("SW state:",t.active?"active":t.waiting?"waiting":t.installing?"installing":"none"),t.active&&(rS("Sending config to active SW"),t.active.postMessage({type:"FIREBASE_CONFIG",config:{apiKey:"AIzaSyAVhrfvLQlMSLciJogsKFo82BswvhbRvR0",authDomain:"luxuryfashion-76ce1.firebaseapp.com",projectId:"luxuryfashion-76ce1",storageBucket:"luxuryfashion-76ce1.firebasestorage.app",messagingSenderId:"181559034525",appId:"1:181559034525:web:77acfe9afe9ff000d50a74"}})),navigator.serviceWorker.ready.then(function(e){var t;rS("SW ready, sending config"),null===(t=e.active)||void 0===t||t.postMessage({type:"FIREBASE_CONFIG",config:{apiKey:"AIzaSyAVhrfvLQlMSLciJogsKFo82BswvhbRvR0",authDomain:"luxuryfashion-76ce1.firebaseapp.com",projectId:"luxuryfashion-76ce1",storageBucket:"luxuryfashion-76ce1.firebasestorage.app",messagingSenderId:"181559034525",appId:"1:181559034525:web:77acfe9afe9ff000d50a74"}})}),this.isInitialized=!0,rS("Initialization complete!"),e.a(2,!0);case 5:return e.p=5,n=e.v,aS("Initialize error:",n.message,n),e.a(2,!1)}},e,this,[[1,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"requestPermissionAndGetToken",value:function(){var e=_n(jn().m(function e(){var t,n,r,a,i,s;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return rS("requestPermissionAndGetToken() called"),rS("VAPID_KEY exists:",!0,"length:",87),e.p=1,e.n=2,this.initialize();case 2:if(t=e.v,rS("Initialize result:",t),t){e.n=3;break}throw new Error("Could not initialize messaging");case 3:return rS("Requesting notification permission..."),e.n=4,Notification.requestPermission();case 4:if(n=e.v,rS("Permission result:",n),"granted"===n){e.n=5;break}return e.a(2,{success:!1,error:"permission_denied"});case 5:if(rS("Getting messaging instance..."),r=Tj(),rS("Messaging instance:",r?"EXISTS":"NULL"),r){e.n=6;break}throw new Error("Messaging not initialized");case 6:return rS("Waiting for SW ready..."),e.n=7,navigator.serviceWorker.ready;case 7:return a=e.v,rS("SW ready, getting FCM token..."),rS("Using VAPID key (first 20 chars):",nS.substring(0,20)),e.n=8,gj(r,{vapidKey:nS,serviceWorkerRegistration:a});case 8:if(i=e.v,rS("Token received:",i?"YES (".concat(i.substring(0,20),"...)"):"NO"),!i){e.n=9;break}return this.currentToken=i,rS("Token saved to instance"),e.a(2,{success:!0,token:i});case 9:throw new Error("No token received");case 10:e.n=12;break;case 11:return e.p=11,s=e.v,aS("requestPermissionAndGetToken error:",s.message,s),e.a(2,{success:!1,error:s.message});case 12:return e.a(2)}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"saveTokenToFirestore",value:function(){var e=_n(jn().m(function e(){var t,n,r,a,i=arguments;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},rS("saveTokenToFirestore() called"),rS("currentToken exists:",!!this.currentToken),this.currentToken){e.n=1;break}return aS("No token to save"),e.a(2,!1);case 1:return e.p=1,n=this.generateTokenId(this.currentToken),rS("Generated tokenId:",n),r={token:this.currentToken,deviceInfo:st({userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,isIOS:this.isIOS(),isPWA:this.isPWA()},t),createdAt:Im(),lastActiveAt:Im()},rS("Saving to Firestore collection: adminDevices"),e.n=2,gm(cp(jj,"adminDevices",n),r);case 2:return rS("Token saved to Firestore successfully!"),e.a(2,!0);case 3:return e.p=3,a=e.v,aS("saveTokenToFirestore error:",a.message,a),e.a(2,!1)}},e,this,[[1,3]])}));return function(){return e.apply(this,arguments)}}()},{key:"removeTokenFromFirestore",value:function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.currentToken){e.n=1;break}return e.a(2,!1);case 1:return e.p=1,t=this.generateTokenId(this.currentToken),e.n=2,bm(cp(jj,"adminDevices",t));case 2:return e.a(2,!0);case 3:return e.p=3,e.v,e.a(2,!1)}},e,this,[[1,3]])}));return function(){return e.apply(this,arguments)}}()},{key:"generateTokenId",value:function(e){return e.substring(0,40)}},{key:"onForegroundMessage",value:function(e){var t=Tj();return t?bj(t,function(t){rS("Foreground message received:",t),e&&e(t)}):function(){}}},{key:"getRegisteredDevices",value:function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,vm(op(jj,"adminDevices"));case 1:return t=e.v,e.a(2,t.docs.map(function(e){return st({id:e.id},e.data())}));case 2:return e.p=2,e.v,e.a(2,[])}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}()},{key:"updateLastActive",value:function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.currentToken){e.n=1;break}return e.a(2);case 1:return e.p=1,t=this.generateTokenId(this.currentToken),e.n=2,gm(cp(jj,"adminDevices",t),{lastActiveAt:Im()},{merge:!0});case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,this,[[1,3]])}));return function(){return e.apply(this,arguments)}}()},{key:"sendTestNotification",value:function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if("granted"!==Notification.permission){e.n=3;break}return e.p=1,new Notification("\u0627\u062e\u062a\u0628\u0627\u0631 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",{body:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u062a\u0639\u0645\u0644 \u0628\u0634\u0643\u0644 \u0635\u062d\u064a\u062d! \u2705",icon:"/images/logo.ico",badge:"/images/logo.ico",tag:"test-notification"}).onclick=function(){window.focus()},e.a(2,!0);case 2:return e.p=2,e.v,e.a(2,!1);case 3:return e.a(2,!1)}},e,null,[[1,2]])}));return function(){return e.apply(this,arguments)}}()}])}(),sS=new iS,oS=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).log.apply(e,["[useNotifications]"].concat(n))},cS=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[useNotifications ERROR]"].concat(n))};var uS=function(){var t=c((0,e.useState)("default"),2),n=t[0],r=t[1],a=c((0,e.useState)(!1),2),i=a[0],s=a[1],o=c((0,e.useState)(!1),2),u=o[0],l=o[1],d=c((0,e.useState)(!1),2),f=d[0],h=d[1],p=c((0,e.useState)(null),2),m=p[0],v=p[1],g=c((0,e.useState)(!1),2),y=g[0],b=g[1],k=c((0,e.useState)(!1),2),x=k[0],w=k[1];(0,e.useEffect)(function(){oS("Hook mounted, checking support...");var e=sS.isSupported();if(oS("Supported:",e),s(e),b(sS.isIOS()),w(sS.isPWA()),oS("isIOS:",sS.isIOS(),"isPWA:",sS.isPWA()),e){var t=sS.getPermissionStatus();oS("Current permission:",t),r(t),"granted"===t&&(oS("Permission granted, initializing and refreshing token..."),sS.initialize().then(function(){var e=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.n){case 0:if(oS("Initialize result:",t),!t){e.n=4;break}return oS("Getting FCM token for returning user..."),e.n=1,sS.requestPermissionAndGetToken();case 1:if(n=e.v,oS("Token result:",n.success?"SUCCESS":n.error),!n.success){e.n=3;break}return oS("Saving token to Firestore..."),e.n=2,sS.saveTokenToFirestore();case 2:r=e.v,oS("Token saved:",r);case 3:h(!0),oS("Notifications enabled!");case 4:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()))}},[]),(0,e.useEffect)(function(){if(f){var e=sS.onForegroundMessage();return function(){"function"===typeof e&&e()}}},[f]),(0,e.useEffect)(function(){if(f){sS.updateLastActive();var e=setInterval(function(){sS.updateLastActive()},3e5);return function(){return clearInterval(e)}}},[f]);var N=(0,e.useCallback)(_n(jn().m(function e(){var t,n,a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return oS("enableNotifications() called"),l(!0),v(null),e.p=1,oS("Requesting permission and token..."),e.n=2,sS.requestPermissionAndGetToken();case 2:if(t=e.v,oS("requestPermissionAndGetToken result:",t),t.success){e.n=3;break}return cS("Failed to get token:",t.error),"permission_denied"===t.error?v("\u062a\u0645 \u0631\u0641\u0636 \u0625\u0630\u0646 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a. \u064a\u0631\u062c\u0649 \u062a\u0641\u0639\u064a\u0644\u0647\u0627 \u0645\u0646 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u062a\u0635\u0641\u062d."):v("\u062e\u0637\u0623: ".concat(t.error)),h(!1),e.a(2,!1);case 3:return oS("Saving token to Firestore..."),e.n=4,sS.saveTokenToFirestore();case 4:if(n=e.v,oS("saveTokenToFirestore result:",n),n){e.n=5;break}return cS("Failed to save token to Firestore"),v("\u062a\u0645 \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0644\u0643\u0646 \u0641\u0634\u0644 \u062d\u0641\u0638 \u0627\u0644\u062c\u0647\u0627\u0632. \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649."),e.a(2,!1);case 5:return h(!0),r("granted"),oS("Notifications fully enabled!"),e.a(2,!0);case 6:return e.p=6,a=e.v,console.error("Error enabling notifications:",a),v("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a"),e.a(2,!1);case 7:return e.p=7,l(!1),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])})),[]),j=(0,e.useCallback)(_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return l(!0),e.p=1,e.n=2,sS.removeTokenFromFirestore();case 2:return h(!1),e.a(2,!0);case 3:return e.p=3,t=e.v,console.error("Error disabling notifications:",t),e.a(2,!1);case 4:return e.p=4,l(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])})),[]),S=(0,e.useCallback)(_n(jn().m(function e(){return jn().w(function(e){for(;;)if(0===e.n)return e.a(2,sS.sendTestNotification())},e)})),[]);return{permissionStatus:n,isSupported:i,isLoading:u,isEnabled:f,error:m,isIOS:y,isPWA:x,needsPWAForIOS:y&&!x,enableNotifications:N,disableNotifications:j,sendTestNotification:S}};var lS=function(){var t=Ne(),n=c((0,e.useState)(!0),2),r=n[0],a=n[1],i=c((0,e.useState)(!1),2),s=i[0],o=i[1],u=c((0,e.useState)(null),2),l=u[0],d=u[1],f=c((0,e.useState)(null),2),h=f[0],p=f[1],m=c((0,e.useState)([]),2),v=m[0],g=m[1],y=c((0,e.useState)([]),2),b=y[0],k=y[1],x=c((0,e.useState)([]),2),w=x[0],N=x[1],j=c((0,e.useState)([]),2),S=j[0],_=j[1],E=uS(),C=E.isSupported,T=E.isEnabled,I=E.isLoading,A=E.error,D=E.needsPWAForIOS,P=(E.isIOS,E.enableNotifications),R=E.disableNotifications,O=E.sendTestNotification,L=(0,e.useMemo)(function(){return["\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631","\u0642\u064a\u062f \u0627\u0644\u062a\u0646\u0641\u064a\u0630","\u0642\u064a\u062f \u0627\u0644\u062a\u0648\u0635\u064a\u0644","\u0645\u0646\u062c\u0632","\u0645\u0631\u0641\u0648\u0636"]},[]),M=(0,e.useMemo)(function(){return{orders:"/admin/orders",products:"/admin/products",brands:"/admin/brands",categories:"/admin/categories"}},[]),F=function(){var e=_n(jn().m(function e(){var t,n,r,i,s,u,l,f,h,m,v,y,b,x=arguments;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return(t=x.length>0&&void 0!==x[0]&&x[0])?o(!0):a(!0),p(null),e.p=1,n=function(){var e=_n(jn().m(function e(n,r,a){var i,s,o;return jn().w(function(e){for(;;)switch(e.n){case 0:if(t){e.n=1;break}if(!(i=Wj.get(n))||!Array.isArray(i)){e.n=1;break}return e.a(2,i);case 1:return e.n=2,vm(op(jj,r));case 2:if(s=e.v,o=[],s.forEach(function(e){return o.push(st({id:e.id},e.data()))}),Array.isArray(o)){e.n=3;break}throw new Error("Invalid data structure for ".concat(r));case 3:return Wj.set(n,o,a),e.a(2,o)}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),r=[n(Uj.ORDERS,"orders",3e4).catch(function(e){return[]}),n(Uj.PRODUCTS,"products",3e5).catch(function(e){return[]}),n(Uj.BRANDS,"brands",6e5).catch(function(e){return[]}),n(Uj.CATEGORIES,"categories",6e5).catch(function(e){return[]})],e.n=2,Promise.all(r);case 2:i=e.v,s=c(i,4),u=s[0],l=s[1],f=s[2],h=s[3],m=Array.isArray(u)?u:[],v=Array.isArray(l)?l:[],y=Array.isArray(f)?f:[],b=Array.isArray(h)?h:[],m.sort(function(e,t){var n,r;return((null===(n=t.createdAt)||void 0===n?void 0:n.seconds)||0)-((null===(r=e.createdAt)||void 0===r?void 0:r.seconds)||0)}),g(m),k(v),N(y),_(b),d(new Date),e.n=4;break;case 3:e.p=3,e.v,p("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649."),g([]),k([]),N([]),_([]);case 4:return e.p=4,a(!1),o(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)(function(){F(!1);var e=setInterval(function(){"visible"===document.visibilityState&&F(!0)},12e4);return function(){return clearInterval(e)}},[]);var V=(0,e.useMemo)(function(){var e=v.length,t=v.filter(function(e){return"\u0645\u0646\u062c\u0632"===e.status}),n=t.reduce(function(e,t){return e+(t.total||0)},0),r=b.filter(function(e){return(e.stock||0)>0&&(e.stock||0)<=5}).length,a=b.filter(function(e){return 0===(e.stock||0)}).length,i=L.reduce(function(e,t){return e[t]=v.filter(function(e){return e.status===t}).length,e},{});return{totalOrders:e,completedCount:t.length,revenue:n,productsCount:b.length,lowStock:r,outOfStock:a,brandsCount:w.length,categoriesCount:S.length,byStatus:i}},[v,b,w,S,L]),U=((0,e.useMemo)(function(){return v.slice(0,5)},[v]),function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,_y(Sj);case 1:Wj.clearAll(),t("/admin"),e.n=3;break;case 2:e.p=2,e.v,t("/admin");case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}());return r?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsx)("div",{className:"admin-dashboard",children:(0,Aj.jsxs)("div",{className:"admin-dash-loading-container",children:[(0,Aj.jsx)("div",{className:"admin-dash-loading-spinner"}),(0,Aj.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a..."})]})})]}):h&&!s?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsx)("div",{className:"admin-dashboard",children:(0,Aj.jsxs)("div",{className:"admin-dash-error-container",children:[(0,Aj.jsx)("div",{className:"admin-dash-error-icon",children:(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})}),(0,Aj.jsx)("h2",{children:"\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}),(0,Aj.jsx)("p",{children:h}),(0,Aj.jsx)("button",{className:"admin-dash-btn primary",onClick:function(){return F(!0)},children:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"})]})})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"admin-dashboard",children:[(0,Aj.jsxs)("header",{className:"admin-dash-header",children:[(0,Aj.jsx)("h1",{children:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"}),(0,Aj.jsxs)("div",{className:"admin-dash-actions",children:[(0,Aj.jsx)("button",{className:"admin-dash-btn primary",onClick:function(){return F(!0)},disabled:s,title:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",children:s?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...":(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-sync-alt"})," \u062a\u062d\u062f\u064a\u062b"]})}),(0,Aj.jsxs)("button",{className:"admin-dash-btn ghost",onClick:U,title:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c",children:[(0,Aj.jsx)("i",{className:"fas fa-sign-out-alt"})," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"]}),l&&(0,Aj.jsxs)("span",{className:"admin-dash-last-update",children:["\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b: ",l.toLocaleTimeString("en-US")]})]})]}),(0,Aj.jsxs)("div",{className:"admin-dash-status ".concat(s?"updating":"live"),children:[(0,Aj.jsx)("span",{className:"admin-dash-status-dot"}),s?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...":"\u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0645\u062d\u062f\u062b\u0629"]}),(0,Aj.jsxs)("section",{className:"admin-dash-notifications-panel","aria-label":"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",children:[(0,Aj.jsxs)("div",{className:"notifications-panel-header",children:[(0,Aj.jsx)("div",{className:"notifications-panel-icon",children:(0,Aj.jsx)("i",{className:"fas fa-bell"})}),(0,Aj.jsxs)("div",{className:"notifications-panel-info",children:[(0,Aj.jsx)("h3",{children:"\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0637\u0644\u0628\u064a\u0627\u062a"}),(0,Aj.jsx)("p",{children:"\u0627\u0633\u062a\u0644\u0645 \u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0641\u0648\u0631\u064a\u0629 \u0639\u0646\u062f \u0648\u0635\u0648\u0644 \u0637\u0644\u0628\u064a\u0629 \u062c\u062f\u064a\u062f\u0629"})]})]}),C?D?(0,Aj.jsxs)("div",{className:"notifications-panel-ios-guide",children:[(0,Aj.jsx)("div",{className:"ios-guide-icon",children:(0,Aj.jsx)("i",{className:"fas fa-mobile-alt"})}),(0,Aj.jsxs)("div",{className:"ios-guide-content",children:[(0,Aj.jsx)("h4",{children:"\u0644\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0639\u0644\u0649 iPhone"}),(0,Aj.jsxs)("ol",{children:[(0,Aj.jsxs)("li",{children:["\u0627\u0636\u063a\u0637 \u0639\u0644\u0649 ",(0,Aj.jsx)("i",{className:"fas fa-share-square"})," (\u0645\u0634\u0627\u0631\u0643\u0629) \u0623\u0633\u0641\u0644 \u0627\u0644\u0634\u0627\u0634\u0629"]}),(0,Aj.jsxs)("li",{children:['\u0627\u062e\u062a\u0631 "\u0625\u0636\u0627\u0641\u0629 \u0625\u0644\u0649 \u0627\u0644\u0634\u0627\u0634\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"'," ",(0,Aj.jsx)("i",{className:"fas fa-plus-square"})]}),(0,Aj.jsx)("li",{children:"\u0627\u0641\u062a\u062d \u0627\u0644\u062a\u0637\u0628\u064a\u0642 \u0645\u0646 \u0627\u0644\u0634\u0627\u0634\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"}),(0,Aj.jsx)("li",{children:"\u062b\u0645 \u0641\u0639\u0651\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0645\u0646 \u0647\u0646\u0627"})]})]})]}):(0,Aj.jsx)("div",{className:"notifications-panel-controls",children:T?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsxs)("div",{className:"notifications-panel-status enabled",children:[(0,Aj.jsx)("i",{className:"fas fa-check-circle"}),(0,Aj.jsx)("span",{children:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0645\u0641\u0639\u0651\u0644\u0629 \u0639\u0644\u0649 \u0647\u0630\u0627 \u0627\u0644\u062c\u0647\u0627\u0632"})]}),(0,Aj.jsxs)("div",{className:"notifications-panel-buttons",children:[(0,Aj.jsxs)("button",{className:"notifications-btn test",onClick:O,disabled:I,children:[(0,Aj.jsx)("i",{className:"fas fa-paper-plane"}),"\u0627\u062e\u062a\u0628\u0627\u0631 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a"]}),(0,Aj.jsxs)("button",{className:"notifications-btn disable",onClick:R,disabled:I,children:[(0,Aj.jsx)("i",{className:"fas fa-bell-slash"}),"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0641\u0639\u064a\u0644"]})]})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[A&&(0,Aj.jsxs)("div",{className:"notifications-panel-error",children:[(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,Aj.jsx)("span",{children:A})]}),(0,Aj.jsx)("button",{className:"notifications-btn enable",onClick:P,disabled:I,children:I?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-spinner fa-spin"}),"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u0641\u0639\u064a\u0644..."]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-bell"}),"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a"]})})]})}):(0,Aj.jsxs)("div",{className:"notifications-panel-status unsupported",children:[(0,Aj.jsx)("i",{className:"fas fa-exclamation-circle"}),(0,Aj.jsx)("span",{children:"\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a"})]})]}),(0,Aj.jsxs)("section",{className:"admin-dash-stats-grid","aria-label":"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",children:[(0,Aj.jsxs)("div",{className:"admin-dash-card stat",children:[(0,Aj.jsx)("div",{className:"dash-stat-label",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Aj.jsx)("div",{className:"dash-stat-value",children:V.totalOrders})]}),(0,Aj.jsxs)("div",{className:"admin-dash-card stat",children:[(0,Aj.jsx)("div",{className:"dash-stat-label",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Aj.jsx)("div",{className:"dash-stat-value",children:V.productsCount})]}),(0,Aj.jsxs)("div",{className:"admin-dash-card stat warn",children:[(0,Aj.jsx)("div",{className:"dash-stat-label",children:"\u0645\u062e\u0632\u0648\u0646 \u0642\u0644\u064a\u0644"}),(0,Aj.jsx)("div",{className:"dash-stat-value",children:V.lowStock})]}),(0,Aj.jsxs)("div",{className:"admin-dash-card stat danger",children:[(0,Aj.jsx)("div",{className:"dash-stat-label",children:"\u0646\u0641\u062f\u062a \u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Aj.jsx)("div",{className:"dash-stat-value",children:V.outOfStock})]}),(0,Aj.jsxs)("div",{className:"admin-dash-card stat",children:[(0,Aj.jsx)("div",{className:"dash-stat-label",children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"}),(0,Aj.jsx)("div",{className:"dash-stat-value",children:V.brandsCount})]}),(0,Aj.jsxs)("div",{className:"admin-dash-card stat",children:[(0,Aj.jsx)("div",{className:"dash-stat-label",children:"\u0627\u0644\u0641\u0626\u0627\u062a"}),(0,Aj.jsx)("div",{className:"dash-stat-value",children:V.categoriesCount})]})]}),(0,Aj.jsxs)("div",{className:"admin-dash-panel",children:[(0,Aj.jsx)("div",{className:"admin-dash-panel-header",children:(0,Aj.jsx)("h2",{children:"\u0635\u0641\u062d\u0627\u062a \u0627\u0644\u0623\u062f\u0645\u0646"})}),(0,Aj.jsxs)("div",{className:"admin-dash-quick-grid",children:[(0,Aj.jsxs)(Ze,{to:M.orders,className:"admin-dash-tile",children:[(0,Aj.jsx)("span",{className:"tile-title",children:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Aj.jsx)("span",{className:"tile-sub",children:"\u0639\u0631\u0636 \u0648\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062a"})]}),(0,Aj.jsxs)(Ze,{to:M.products,className:"admin-dash-tile",children:[(0,Aj.jsx)("span",{className:"tile-title",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Aj.jsx)("span",{className:"tile-sub",children:"\u0625\u062f\u0627\u0631\u0629 \u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0634\u0639\u0631"})]}),(0,Aj.jsxs)(Ze,{to:M.brands,className:"admin-dash-tile",children:[(0,Aj.jsx)("span",{className:"tile-title",children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"}),(0,Aj.jsx)("span",{className:"tile-sub",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a"})]}),(0,Aj.jsxs)(Ze,{to:M.categories,className:"admin-dash-tile",children:[(0,Aj.jsx)("span",{className:"tile-title",children:"\u0627\u0644\u0641\u0626\u0627\u062a"}),(0,Aj.jsx)("span",{className:"tile-sub",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0641\u0626\u0627\u062a"})]}),(0,Aj.jsxs)(Ze,{to:"/admin/feedbacks",className:"admin-dash-tile",children:[(0,Aj.jsx)("span",{className:"tile-title",children:"\u062a\u0642\u064a\u064a\u0645\u0627\u062a \u0627\u0644\u0639\u0645\u0644\u0627\u0621"}),(0,Aj.jsx)("span",{className:"tile-sub",children:"\u0645\u0631\u0627\u062c\u0639\u0629 \u0648\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u062a\u0642\u064a\u064a\u0645\u0627\u062a"})]}),(0,Aj.jsxs)(Ze,{to:"/admin/discounts",className:"admin-dash-tile",children:[(0,Aj.jsx)("span",{className:"tile-title",children:"\u0627\u0644\u062e\u0635\u0648\u0645\u0627\u062a"}),(0,Aj.jsx)("span",{className:"tile-sub",children:"\u062a\u0637\u0628\u064a\u0642 \u062e\u0635\u0648\u0645\u0627\u062a \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0648\u0627\u0644\u0641\u0626\u0627\u062a"})]}),(0,Aj.jsxs)(Ze,{to:"/admin/coupons",className:"admin-dash-tile",children:[(0,Aj.jsx)("span",{className:"tile-title",children:"\u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a"}),(0,Aj.jsx)("span",{className:"tile-sub",children:"\u0625\u0646\u0634\u0627\u0621 \u0648\u0625\u062f\u0627\u0631\u0629 \u0643\u0648\u0628\u0648\u0646\u0627\u062a \u0627\u0644\u062e\u0635\u0645"})]}),(0,Aj.jsxs)(Ze,{to:"/admin/statistics",className:"admin-dash-tile",children:[(0,Aj.jsx)("span",{className:"tile-title",children:"\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639"}),(0,Aj.jsx)("span",{className:"tile-sub",children:"\u0639\u0631\u0636 \u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0634\u0627\u0645\u0644\u0629 \u0639\u0646 \u0627\u0644\u0645\u0648\u0642\u0639"})]}),(0,Aj.jsxs)(Ze,{to:"/admin/visitor-statistics",className:"admin-dash-tile",children:[(0,Aj.jsx)("span",{className:"tile-title",children:"\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0632\u0648\u0627\u0631"}),(0,Aj.jsx)("span",{className:"tile-sub",children:"\u062a\u062a\u0628\u0639 \u0639\u062f\u062f \u0627\u0644\u0632\u0648\u0627\u0631 \u0648\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0644\u062d\u0638\u064a\u0629"})]}),(0,Aj.jsxs)(Ze,{to:"/admin/hero-slides",className:"admin-dash-tile",children:[(0,Aj.jsx)("span",{className:"tile-title",children:"\u0634\u0631\u0627\u0626\u062d \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"}),(0,Aj.jsx)("span",{className:"tile-sub",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0634\u0631\u0627\u0626\u062d \u0627\u0644\u0645\u062a\u062d\u0631\u0643\u0629 \u0641\u064a \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"})]}),(0,Aj.jsxs)(Ze,{to:"/admin/promotional-banner",className:"admin-dash-tile",children:[(0,Aj.jsx)("span",{className:"tile-title",children:"\u0627\u0644\u0628\u0627\u0646\u0631 \u0627\u0644\u062a\u0631\u0648\u064a\u062c\u064a"}),(0,Aj.jsx)("span",{className:"tile-sub",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0628\u0627\u0646\u0631 \u0627\u0644\u062a\u0631\u0648\u064a\u062c\u064a \u0641\u064a \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"})]})]})]})]})]})};var dS=function(){Ne();var t,n,r,a,i,s,o=c((0,e.useState)([]),2),u=o[0],l=o[1],d=c((0,e.useState)([]),2),f=d[0],p=d[1],m=c((0,e.useState)([]),2),v=m[0],g=m[1],y=c((0,e.useState)({id:null,name:"",price:"",description:"",howToUse:"",images:[],categoryIds:[],subcategoryIds:[],brand:"",stock:"",isNew:!1,onDemand:!1,isFeatured:!1,hasVariants:!1,variants:[],sizes:[],colors:[]}),2),b=y[0],k=y[1],x=c((0,e.useState)([]),2),w=x[0],N=x[1],j=c((0,e.useState)({}),2),S=j[0],_=j[1],C=c((0,e.useState)(!1),2),T=C[0],I=C[1],A=c((0,e.useState)(!1),2),D=A[0],P=A[1],R=c((0,e.useState)(!1),2),O=R[0],L=R[1],M=c((0,e.useState)(""),2),F=M[0],V=M[1],U=c((0,e.useState)(1),2),z=U[0],B=U[1],q=c((0,e.useState)(10),1)[0],H=c((0,e.useState)(""),2),W=H[0],G=H[1],K=c((0,e.useState)([]),2),Q=K[0],X=K[1],Y=c((0,e.useState)(new Set),2),J=Y[0],$=Y[1],Z=c((0,e.useState)(!1),2),ee=Z[0],te=Z[1],ne=c((0,e.useState)(!1),2),re=(ne[0],ne[1],c((0,e.useState)(""),2)),ae=re[0],ie=re[1],se=c((0,e.useState)(""),2),oe=se[0],ce=se[1],ue=c((0,e.useState)({min:"",max:""}),2),le=ue[0],de=ue[1],fe=c((0,e.useState)([]),2),he=fe[0],pe=fe[1],me=c((0,e.useState)("newest"),2),ve=me[0],ge=me[1],ye=c((0,e.useState)("all"),2),be=ye[0],ke=ye[1],xe=c((0,e.useState)(null),2),we=xe[0],je=xe[1],Se=c((0,e.useState)(!1),2),_e=Se[0],Ee=Se[1],Ce=[{key:"new",label:"\u062c\u062f\u064a\u062f",icon:(0,Aj.jsx)("i",{className:"fas fa-certificate"})},{key:"onDemand",label:"\u0639 \u0627\u0644\u0637\u0644\u0628",icon:(0,Aj.jsx)("i",{className:"fas fa-box"})},{key:"hasVariants",label:"\u0645\u062a\u0639\u062f\u062f \u0627\u0644\u0623\u062d\u062c\u0627\u0645",icon:(0,Aj.jsx)("i",{className:"fas fa-ruler"})},{key:"lowStock",label:"\u0645\u062e\u0632\u0648\u0646 \u0642\u0644\u064a\u0644",icon:(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})},{key:"outOfStock",label:"\u0646\u0641\u0630 \u0627\u0644\u0645\u062e\u0632\u0648\u0646",icon:(0,Aj.jsx)("i",{className:"fas fa-times-circle"})}],Te=function(){var e=_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=[vm(op(jj,"products")).then(function(e){var t=[];return e.forEach(function(e){return t.push(st({id:e.id},e.data()))}),l(t),t}),vm(op(jj,"categories")).then(function(e){var t=[];return e.forEach(function(e){return t.push(st({id:e.id},e.data()))}),p(t),t}),vm(op(jj,"brands")).then(function(e){var t=[];return e.forEach(function(e){return t.push(st({id:e.id},e.data()))}),g(t),t})],e.n=1,Promise.all(t);case 1:e.n=3;break;case 2:e.p=2,e.v,l([{id:"1",name:"\u0634\u0627\u0645\u0628\u0648 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641",price:50,description:"\u0634\u0627\u0645\u0628\u0648 \u0645\u062e\u0635\u0635 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641 \u0648\u0627\u0644\u0645\u062a\u0636\u0631\u0631 \u0628\u062a\u0631\u0643\u064a\u0628\u0629 \u0645\u0631\u0637\u0628\u0629 \u0639\u0645\u064a\u0642\u0629.",images:["/images/sample1.jpg"],categories:["\u0627\u0644\u0634\u0639\u0631"],brand:"\u0644\u0648\u0631\u064a\u0627\u0644",stock:15,isNew:!0,onDemand:!1,hasVariants:!1,createdAt:new Date("2024-01-15")},{id:"2",name:"\u0645\u0627\u0633\u0643 \u0645\u063a\u0630\u064a \u0644\u0644\u0634\u0639\u0631",price:75,description:"\u0645\u0627\u0633\u0643 \u0644\u0644\u0634\u0639\u0631 \u0628\u0627\u0644\u0632\u064a\u0648\u062a \u0627\u0644\u0637\u0628\u064a\u0639\u064a\u0629 \u0644\u0644\u062a\u063a\u0630\u064a\u0629 \u0627\u0644\u0639\u0645\u064a\u0642\u0629.",images:["/images/sample2.jpg"],categories:["\u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0634\u0639\u0631"],brand:"\u0628\u0627\u0646\u062a\u064a\u0646",stock:0,isNew:!1,onDemand:!1,hasVariants:!1,createdAt:new Date("2023-12-01")},{id:"3",name:"\u0643\u0631\u064a\u0645 \u062a\u0635\u0641\u064a\u0641 \u0627\u0644\u0634\u0639\u0631",price:60,description:"\u0643\u0631\u064a\u0645 \u0637\u0628\u064a\u0639\u064a \u0644\u062a\u0635\u0641\u064a\u0641 \u0648\u062a\u062b\u0628\u064a\u062a \u0627\u0644\u0634\u0639\u0631 \u0628\u062f\u0648\u0646 \u0643\u064a\u0645\u0627\u0648\u064a\u0627\u062a \u0636\u0627\u0631\u0629.",images:["/images/sample3.jpg"],categories:["\u062a\u0635\u0641\u064a\u0641"],brand:"\u0644\u0648\u0631\u064a\u0627\u0644",stock:25,isNew:!1,onDemand:!0,hasVariants:!1,createdAt:new Date("2023-11-20")},{id:"4",name:"\u0632\u064a\u062a \u0627\u0644\u0623\u0631\u063a\u0627\u0646 \u0644\u0644\u0634\u0639\u0631",price:85,description:"\u0632\u064a\u062a \u0637\u0628\u064a\u0639\u064a 100% \u0644\u062a\u0642\u0648\u064a\u0629 \u0627\u0644\u0634\u0639\u0631 \u0648\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0644\u0645\u0639\u0627\u0646 \u0627\u0644\u0637\u0628\u064a\u0639\u064a.",images:["/images/sample1.jpg"],categories:["\u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0634\u0639\u0631"],brand:"The Ordinary",stock:3,isNew:!0,onDemand:!1,hasVariants:!0,variants:[{size:"30ml",price:85,stock:3},{size:"60ml",price:150,stock:0}],createdAt:new Date("2024-01-10")},{id:"5",name:"\u0633\u064a\u0631\u0648\u0645 \u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u0633\u064a",price:95,description:"\u0633\u064a\u0631\u0648\u0645 \u0645\u0636\u0627\u062f \u0644\u0644\u0623\u0643\u0633\u062f\u0629 \u0644\u0625\u0634\u0631\u0627\u0642 \u0627\u0644\u0628\u0634\u0631\u0629 \u0648\u0645\u062d\u0627\u0631\u0628\u0629 \u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u0642\u062f\u0645.",images:["/images/sample2.jpg"],categories:["\u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0628\u0634\u0631\u0629"],brand:"The Ordinary",stock:8,isNew:!1,onDemand:!1,hasVariants:!1,createdAt:new Date("2023-10-15")},{id:"6",name:"\u0643\u0631\u064a\u0645 \u0645\u0631\u0637\u0628 \u0644\u0644\u0648\u062c\u0647",price:45,description:"\u0643\u0631\u064a\u0645 \u064a\u0631\u0637\u0628 \u0627\u0644\u0628\u0634\u0631\u0629 \u0648\u064a\u0645\u0646\u062d\u0647\u0627 \u0646\u0639\u0648\u0645\u0629 \u0641\u0627\u0626\u0642\u0629 \u0645\u0639 \u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0627\u0644\u064a\u0648\u0645\u064a\u0629.",images:["/images/sample3.jpg"],categories:["\u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0628\u0634\u0631\u0629"],brand:"Nivea",stock:2,isNew:!1,onDemand:!0,hasVariants:!1,createdAt:new Date("2023-09-30")}]),p([{id:"cat1",name:"\u0634\u0627\u0645\u0628\u0648"},{id:"cat2",name:"\u0628\u0644\u0633\u0645"},{id:"cat3",name:"\u0645\u0627\u0633\u0643 \u0627\u0644\u0634\u0639\u0631"},{id:"cat4",name:"\u0643\u0631\u064a\u0645\u0627\u062a \u0627\u0644\u062a\u0635\u0641\u064a\u0641"}]),g([{id:"brand1",name:"\u0644\u0648\u0631\u064a\u0627\u0644"},{id:"brand2",name:"\u0628\u0627\u0646\u062a\u064a\u0646"},{id:"brand3",name:"\u0647\u064a\u062f \u0622\u0646\u062f \u0634\u0648\u0644\u062f\u0631\u0632"}]);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)(function(){Te()},[]),(0,e.useEffect)(function(){if(ee){var e=setTimeout(function(){te(!1)},5e3);return function(){return clearTimeout(e)}}},[ee]),(0,e.useEffect)(function(){document.querySelectorAll(".mp-form textarea").forEach(function(e){e.style.height="auto",e.style.height=e.scrollHeight+"px"})},[b.description,b.howToUse,O]);var Ie=function(e){var t=e.target,n=t.name,r=t.value;k(function(e){return st(st({},e),{},at({},n,r))}),"TEXTAREA"===e.target.tagName&&(e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+"px")},Ae=function(e,t,n,r){k(function(a){var i=h(a.variants),s=i.findIndex(function(n){return e&&t?n.size===e&&n.color===t:e&&!t?n.size===e&&!n.color:!(e||!t)&&(!n.size&&n.color===t)});return s>=0?i[s]=st(st({},i[s]),{},at({},n,"stock"===n?parseInt(r)||0:r)):i.push({size:e||null,color:t||null,price:"",stock:0}),st(st({},a),{},{variants:i})})},De=function(e,t){k(function(n){return st(st({},n),{},{variants:n.variants.filter(function(n){return e&&t?!(n.size===e&&n.color===t):e&&!t?!(n.size===e&&!n.color):!(!e&&t)||!(!n.size&&n.color===t)})})})},Pe=function(e){k(function(t){if("none"===e)return t.categoryIds.includes("none")?st(st({},t),{},{categoryIds:t.categoryIds.filter(function(e){return"none"!==e}),subcategoryIds:t.subcategoryIds}):st(st({},t),{},{categoryIds:["none"],subcategoryIds:[]});var n,r=t.categoryIds.includes(e),a=h(t.subcategoryIds);if(r){n=t.categoryIds.filter(function(t){return t!==e});var i=f.find(function(t){return t.id===e});i&&i.subcategories&&(a=a.filter(function(t){return!t.startsWith("".concat(e,"_"))}))}else n=t.categoryIds.filter(function(e){return"none"!==e}),n=[].concat(h(n),[e]);return st(st({},t),{},{categoryIds:n,subcategoryIds:a})})},Re=function(){var e=_n(jn().m(function e(t,n){var r,a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t&&0!==t.length){e.n=1;break}return e.a(2,[]);case 1:return I(!0),r=t.map(function(){var e=_n(jn().m(function e(t,r){var a,i,s,o,c;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return a="products/".concat(n,"/").concat(Date.now(),"_").concat(r,"_").concat(t.name),i=Bx(_j,a),_(function(e){return st(st({},e),{},at({},r,0))}),e.p=1,e.n=2,Vx(i,t);case 2:return s=e.v,e.n=3,Ux(s.ref);case 3:return o=e.v,_(function(e){return st(st({},e),{},at({},r,100))}),e.a(2,o);case 4:throw e.p=4,c=e.v,_(function(e){return st(st({},e),{},at({},r,-1))}),c;case 5:return e.a(2)}},e,null,[[1,4]])}));return function(t,n){return e.apply(this,arguments)}}()),e.p=2,e.n=3,Promise.all(r);case 3:return a=e.v,I(!1),_({}),e.a(2,a);case 4:throw e.p=4,i=e.v,I(!1),_({}),i;case 5:return e.a(2)}},e,null,[[2,4]])}));return function(t,n){return e.apply(this,arguments)}}(),Oe=function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:if(t&&0!==t.length){e.n=1;break}return e.a(2);case 1:return n=t.map(function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n=Bx(_j,t),e.n=1,zx(n);case 1:e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}()),e.n=2,Promise.all(n);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=_n(jn().m(function e(t){var n,r,a,i,s,o,c,d,f,p,m,v;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),P(!0),e.p=1,n=[],!b.id){e.n=6;break}if(r=[],a=[],Q.forEach(function(e,t){J.has(t)?r.push(e):a.push(e)}),i=[],!(w.length>0)){e.n=3;break}return s=b.id,e.n=2,Re(w,s);case 2:i=e.v;case 3:if(!((n=[].concat(a,h(i))).length>9)){e.n=4;break}return wn.error("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0623\u0646 \u064a\u062a\u062c\u0627\u0648\u0632 \u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0635\u0648\u0631 9 \u0635\u0648\u0631. \u064a\u0631\u062c\u0649 \u062d\u0630\u0641 \u0628\u0639\u0636 \u0627\u0644\u0635\u0648\u0631 \u0623\u0648 \u062a\u0642\u0644\u064a\u0644 \u0639\u062f\u062f \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629."),P(!1),e.a(2);case 4:if(!(r.length>0)){e.n=5;break}return e.n=5,Oe(r);case 5:e.n=9;break;case 6:if(!(w.length>0)){e.n=8;break}return o="temp_".concat(Date.now()),e.n=7,Re(w,o);case 7:n=e.v;case 8:if(!(n.length>9)){e.n=9;break}return wn.error("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0623\u0646 \u064a\u062a\u062c\u0627\u0648\u0632 \u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0635\u0648\u0631 9 \u0635\u0648\u0631. \u064a\u0631\u062c\u0649 \u062a\u0642\u0644\u064a\u0644 \u0639\u062f\u062f \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u0645\u062e\u062a\u0627\u0631\u0629."),P(!1),e.a(2);case 9:if(c={name:b.name,description:b.description,howToUse:b.howToUse||"",images:n,categoryIds:b.categoryIds,subcategoryIds:b.subcategoryIds||[],brand:b.brand,isNew:b.isNew||!1,onDemand:b.onDemand||!1,isFeatured:b.isFeatured||!1},b.id||(c.createdAt=new Date),b.hasVariants?(c.hasVariants=!0,c.sizes=b.sizes,c.colors=b.colors,c.variants=b.variants.map(function(e){return st(st({},e),{},{price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0})}),c.price=null,c.stock=null):(c.hasVariants=!1,d=parseFloat(b.price),c.price=d,c.stock=parseInt(b.stock)||0,c.variants=[],c.sizes=[],c.colors=[],b.id&&(f=u.find(function(e){return e.id===b.id}),f&&f.hasDiscount&&(c.originalPrice=d,c.hasDiscount=!0,c.discountType=f.discountType,c.discountValue=f.discountValue,c.discountName=f.discountName,c.discountAppliedAt=f.discountAppliedAt,c.discountExpiresAt=f.discountExpiresAt,"percentage"===f.discountType?c.price=Math.round(d*(1-f.discountValue/100)*100)/100:c.price=Math.max(0,d-f.discountValue)))),!b.id){e.n=11;break}return m=cp(jj,"products",b.id),e.n=10,ym(m,c);case 10:p=u.map(function(e){return e.id===b.id?st(st({},e),c):e}),e.n=13;break;case 11:return e.n=12,km(op(jj,"products"),c);case 12:v=e.v,p=[].concat(h(u),[st({id:v.id},c)]);case 13:l(p),Wj.set(Uj.PRODUCTS,p,3e5),We(),k({id:null,name:"",price:"",description:"",howToUse:"",images:[],categoryIds:[],subcategoryIds:[],brand:"",stock:"",isNew:!1,onDemand:!1,isFeatured:!1,hasVariants:!1,variants:[],sizes:[],colors:[]}),N([]),L(!1),wn.success(b.id?"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0646\u062a\u062c \u0628\u0646\u062c\u0627\u062d":"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062a\u062c \u0628\u0646\u062c\u0627\u062d"),e.n=15;break;case 14:e.p=14,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062d\u0641\u0638 \u0627\u0644\u0645\u0646\u062a\u062c. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.");case 15:return e.p=15,P(!1),e.f(15);case 16:return e.a(2)}},e,null,[[1,14,15,16]])}));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=_n(jn().m(function e(t){var n,r,a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,new Promise(function(e){wn(function(t){return(0,Aj.jsxs)("div",{style:{textAlign:"center"},children:[(0,Aj.jsx)("p",{style:{marginBottom:"15px",fontWeight:"bold"},children:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0646\u062a\u062c\u061f"}),(0,Aj.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!0)},style:{padding:"8px 20px",background:"#ef4444",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u062d\u0630\u0641"}),(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!1)},style:{padding:"8px 20px",background:"#6b7280",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u0625\u0644\u063a\u0627\u0621"})]})]})},{duration:1/0})});case 1:if(e.v){e.n=2;break}return e.a(2);case 2:if(e.p=2,r=u.find(function(e){return e.id===t}),!((null===r||void 0===r||null===(n=r.images)||void 0===n?void 0:n.length)>0)){e.n=3;break}return e.n=3,Oe(r.images);case 3:return e.n=4,bm(cp(jj,"products",t));case 4:a=u.filter(function(e){return e.id!==t}),l(a),Wj.set(Uj.PRODUCTS,a,3e5),We(),wn.success("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u062a\u062c \u0628\u0646\u062c\u0627\u062d"),e.n=6;break;case 5:e.p=5,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u062a\u062c. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.");case 6:return e.a(2)}},e,null,[[2,5]])}));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=0;return F&&e++,W&&e++,ae&&e++,oe&&e++,(le.min||le.max)&&e++,he.length>0&&e++,ve&&"newest"!==ve&&e++,"all"!==be&&e++,e},Ve=function(){var e=u;if(F){var t=F.toLowerCase();e=e.filter(function(e){var n,r,a;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.brand)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.categories)||void 0===a?void 0:a.some(function(e){return e.toLowerCase().includes(t)}))})}return ae&&(e=e.filter(function(e){var t;return e.categoryIds&&e.categoryIds.length>0?e.categoryIds.includes(ae):null===(t=e.categories)||void 0===t?void 0:t.includes(ae)})),oe&&(e=e.filter(function(e){return e.brand===oe})),""===le.min&&""===le.max||(e=e.filter(function(e){var t=""!==le.min?parseFloat(le.min):0,n=""!==le.max?parseFloat(le.max):1/0;if(e.hasVariants&&e.variants&&e.variants.length>0)return e.variants.some(function(e){var r=parseFloat(e.price)||0;return r>=t&&r<=n});var r=parseFloat(e.price)||0;return r>=t&&r<=n})),he.length>0&&(e=e.filter(function(e){return he.every(function(t){switch(t){case"new":return!0===e.isNew;case"onDemand":return!0===e.onDemand;case"hasVariants":return!0===e.hasVariants;case"lowStock":if(e.hasVariants&&e.variants)return e.variants.some(function(e){return(e.stock||0)>0&&(e.stock||0)<=5});var n=e.stock||0;return n>0&&n<=5;case"outOfStock":return e.hasVariants&&e.variants?e.variants.every(function(e){return 0===(e.stock||0)}):0===(e.stock||0);default:return!1}})})),W&&(e=e.filter(function(e){var t;switch(t=e.hasVariants&&e.variants?e.variants.reduce(function(e,t){return e+(parseInt(t.stock)||0)},0):e.stock||0,W){case"in-stock":return t>5;case"low-stock":return t>0&&t<=5;case"out-of-stock":return 0===t;default:return!0}})),"all"!==be&&(e=e.filter(function(e){switch(be){case"available":return!e.onDemand;case"onDemand":return!0===e.onDemand;default:return!0}})),ve&&e.sort(function(e,t){switch(ve){case"name":return(e.name||"").localeCompare(t.name||"");case"brand":return(e.brand||"").localeCompare(t.brand||"");case"priceAsc":return(e.price||0)-(t.price||0);case"priceDesc":return(t.price||0)-(e.price||0);case"stockAsc":return(e.stock||0)-(t.stock||0);case"stockDesc":return(t.stock||0)-(e.stock||0);case"newest":var n=e.createdAt?new Date(e.createdAt.toDate?e.createdAt.toDate():e.createdAt):new Date(0);return(t.createdAt?new Date(t.createdAt.toDate?t.createdAt.toDate():t.createdAt):new Date(0))-n;default:return 0}}),e}(),Ue=z*q,ze=Ue-q,Be=Ve.slice(ze,Ue),qe=Math.ceil(Ve.length/q),He=function(e){B(e),window.scrollTo({top:0,behavior:"smooth"})};(0,e.useEffect)(function(){B(1)},[F,W,ae,oe,le,he,ve,be]),(0,e.useEffect)(function(){ve||ge("newest")},[ve]);var We=function(){Wj.remove(Uj.PRODUCTS)};return(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"manage-products-page",children:[(0,Aj.jsx)("div",{className:"mp-header",children:(0,Aj.jsx)("h1",{children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"})}),!O&&(0,Aj.jsx)("div",{className:"mp-add-section",children:(0,Aj.jsx)("button",{className:"mp-add-button",onClick:function(){return L(!0)},children:"+ \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u062c\u062f\u064a\u062f"})}),!O&&(0,Aj.jsxs)("div",{className:"mp-controls",children:[(0,Aj.jsxs)("div",{className:"mp-filters-header",children:[(0,Aj.jsx)("span",{className:"mp-filters-icon",children:(0,Aj.jsx)("i",{className:"fas fa-search"})}),(0,Aj.jsx)("h3",{className:"mp-filters-title",children:"\u0627\u0644\u0628\u062d\u062b \u0648\u0627\u0644\u062a\u0635\u0641\u064a\u0629"}),Fe()>0&&(0,Aj.jsxs)("span",{className:"mp-filters-count",children:["(",Fe(),")"]})]}),(0,Aj.jsxs)("div",{className:"mp-basic-filters",children:[(0,Aj.jsx)("div",{className:"mp-search",children:(0,Aj.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0645\u0646\u062a\u062c \u0628\u0627\u0644\u0627\u0633\u0645\u060c \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629\u060c \u0623\u0648 \u0627\u0644\u0641\u0626\u0629...",value:F,onChange:function(e){return V(e.target.value)},className:"mp-search-input"})}),(0,Aj.jsxs)("div",{className:"mp-filter-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0641\u0626\u0629:"}),(0,Aj.jsxs)("select",{value:ae,onChange:function(e){return ie(e.target.value)},className:"mp-filter-select",children:[(0,Aj.jsx)("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0641\u0626\u0627\u062a"}),f.map(function(e){return(0,Aj.jsx)("option",{value:e.id,children:e.name},e.id)})]})]}),(0,Aj.jsxs)("div",{className:"mp-filter-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629:"}),(0,Aj.jsxs)("select",{value:oe,onChange:function(e){return ce(e.target.value)},className:"mp-filter-select",children:[(0,Aj.jsx)("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"}),v.map(function(e){return(0,Aj.jsx)("option",{value:e.name,children:e.name},e.id)})]})]}),(0,Aj.jsxs)("div",{className:"mp-filter-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u062a\u0631\u062a\u064a\u0628:"}),(0,Aj.jsx)("select",{value:ve,onChange:function(e){return ge(e.target.value)},className:"mp-filter-select",children:[{value:"newest",label:"\u0627\u0644\u0623\u062d\u062f\u062b \u0623\u0648\u0644\u0627\u064b (\u0627\u0641\u062a\u0631\u0627\u0636\u064a)"},{value:"",label:"\u0628\u062f\u0648\u0646 \u062a\u0631\u062a\u064a\u0628"},{value:"name",label:"\u0627\u0644\u0627\u0633\u0645 (\u0623-\u064a)"},{value:"brand",label:"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 (\u0623-\u064a)"},{value:"priceAsc",label:"\u0627\u0644\u0633\u0639\u0631 (\u0627\u0644\u0623\u0642\u0644 \u0623\u0648\u0644\u0627\u064b)"},{value:"priceDesc",label:"\u0627\u0644\u0633\u0639\u0631 (\u0627\u0644\u0623\u0639\u0644\u0649 \u0623\u0648\u0644\u0627\u064b)"},{value:"stockAsc",label:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646 (\u0627\u0644\u0623\u0642\u0644 \u0623\u0648\u0644\u0627\u064b)"},{value:"stockDesc",label:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646 (\u0627\u0644\u0623\u0643\u062b\u0631 \u0623\u0648\u0644\u0627\u064b)"}].map(function(e){return(0,Aj.jsx)("option",{value:e.value,children:e.label},e.value)})})]})]}),(0,Aj.jsxs)("div",{className:"mp-advanced-filters",children:[(0,Aj.jsxs)("div",{className:"mp-filter-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646:"}),(0,Aj.jsx)("select",{value:W,onChange:function(e){return G(e.target.value)},className:"mp-filter-select",children:[{value:"",label:"\u0643\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"},{value:"in-stock",label:"\u0645\u062a\u0648\u0641\u0631 (\u0623\u0643\u062b\u0631 \u0645\u0646 5)"},{value:"low-stock",label:"\u0645\u062e\u0632\u0648\u0646 \u0642\u0644\u064a\u0644 (1-5)"},{value:"out-of-stock",label:"\u0646\u0641\u062f\u062a \u0627\u0644\u0643\u0645\u064a\u0629 (0)"}].map(function(e){return(0,Aj.jsx)("option",{value:e.value,children:e.label},e.value)})})]}),(0,Aj.jsxs)("div",{className:"mp-filter-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u062a\u0648\u0641\u0631:"}),(0,Aj.jsx)("select",{value:be,onChange:function(e){return ke(e.target.value)},className:"mp-filter-select",children:[{value:"all",label:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"},{value:"available",label:"\u0645\u062a\u0648\u0641\u0631 \u0641\u0648\u0631\u0627\u064b"},{value:"onDemand",label:"\u0639 \u0627\u0644\u0637\u0644\u0628"}].map(function(e){return(0,Aj.jsx)("option",{value:e.value,children:e.label},e.value)})})]}),(0,Aj.jsxs)("div",{className:"mp-price-range",children:[(0,Aj.jsx)("label",{children:"\u0646\u0637\u0627\u0642 \u0627\u0644\u0633\u0639\u0631:"}),(0,Aj.jsxs)("div",{className:"mp-price-inputs",children:[(0,Aj.jsx)("input",{type:"number",placeholder:"\u0645\u0646",value:le.min,onChange:function(e){return de(function(t){return st(st({},t),{},{min:e.target.value})})},className:"mp-price-input",min:"0"}),(0,Aj.jsx)("span",{className:"mp-price-separator",children:"-"}),(0,Aj.jsx)("input",{type:"number",placeholder:"\u0625\u0644\u0649",value:le.max,onChange:function(e){return de(function(t){return st(st({},t),{},{max:e.target.value})})},className:"mp-price-input",min:"0"})]})]})]}),(0,Aj.jsxs)("div",{className:"mp-badge-filters",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u062e\u0635\u0627\u0626\u0635:"}),(0,Aj.jsx)("div",{className:"mp-badges-grid",children:Ce.map(function(e){return(0,Aj.jsxs)("button",{className:"mp-badge-filter ".concat((t=e.key,he.includes(t)?"active":"")),onClick:function(){return function(e){pe(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):[].concat(h(t),[e])})}(e.key)},type:"button",children:[(0,Aj.jsx)("span",{className:"mp-badge-icon",children:e.icon}),(0,Aj.jsx)("span",{className:"mp-badge-text",children:e.label})]},e.key);var t})})]}),Fe()>0&&(0,Aj.jsx)("div",{className:"mp-active-filters",children:(0,Aj.jsx)("button",{className:"mp-clear-filters",onClick:function(){V(""),ie(""),ce(""),de({min:"",max:""}),pe([]),ge("newest"),ke("all"),G("")},children:"\u0645\u0633\u062d \u062c\u0645\u064a\u0639 \u0627\u0644\u0641\u0644\u0627\u062a\u0631"})}),(0,Aj.jsxs)("div",{className:"mp-products-count",children:["\u0639\u0631\u0636 ",ze+1,"-",Math.min(Ue,Ve.length)," \u0645\u0646"," ",Ve.length," \u0645\u0646\u062a\u062c"]})]}),O&&(0,Aj.jsxs)("form",{onSubmit:Le,className:"mp-form",children:[ee&&(0,Aj.jsx)("div",{className:"mp-form-opened-indicator",children:(0,Aj.jsxs)("div",{className:"mp-indicator-content",children:[(0,Aj.jsx)("span",{className:"mp-indicator-icon",children:(0,Aj.jsx)("i",{className:"fas fa-check-circle"})}),(0,Aj.jsx)("span",{className:"mp-indicator-text",children:"\u062a\u0645 \u0641\u062a\u062d \u0646\u0645\u0648\u0630\u062c \u0627\u0644\u062a\u0639\u062f\u064a\u0644! \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0622\u0646 \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0646\u062a\u062c"})]})}),(0,Aj.jsx)("h2",{children:b.id?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c":"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u062c\u062f\u064a\u062f"}),b.id&&(0,Aj.jsxs)("div",{className:"mp-creation-date-display",children:[(0,Aj.jsxs)("span",{className:"mp-creation-date-label",children:[(0,Aj.jsx)("i",{className:"fas fa-calendar-alt"})," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"]}),(0,Aj.jsx)("span",{className:"mp-creation-date-value",children:function(){var e=u.find(function(e){return e.id===b.id});if(null!==e&&void 0!==e&&e.createdAt){var t=new Date(e.createdAt.toDate?e.createdAt.toDate():e.createdAt);return t.toLocaleDateString("en-US")+" "+t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}return"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"}()})]}),b.id&&(null===(t=u.find(function(e){return e.id===b.id}))||void 0===t?void 0:t.hasDiscount)&&(0,Aj.jsx)("div",{className:"mp-edit-discount-header",children:(0,Aj.jsxs)("div",{className:"mp-edit-discount-summary",children:[(0,Aj.jsx)("span",{className:"mp-edit-discount-icon",children:(0,Aj.jsx)("i",{className:"fas fa-tag"})}),(0,Aj.jsxs)("span",{className:"mp-edit-discount-text",children:["\u0647\u0630\u0627 \u0627\u0644\u0645\u0646\u062a\u062c \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u062e\u0635\u0645. \u0623\u0646\u062a \u062a\u0642\u0648\u0645 \u0628\u062a\u0639\u062f\u064a\u0644"," ",(0,Aj.jsx)("strong",{children:"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0623\u0635\u0644\u064a"})," (\u0642\u0628\u0644 \u0627\u0644\u062e\u0635\u0645)."]})]})}),(0,Aj.jsxs)("div",{className:"mp-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c:"}),(0,Aj.jsx)("input",{type:"text",name:"name",value:b.name,required:!0,onChange:Ie,placeholder:"\u0645\u062b\u0627\u0644: \u0634\u0627\u0645\u0628\u0648 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641"})]}),(0,Aj.jsxs)("div",{className:"mp-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629:"}),(0,Aj.jsxs)("select",{name:"brand",value:b.brand,onChange:Ie,className:"mp-brand-select",children:[(0,Aj.jsx)("option",{value:"",children:"\u0628\u062f\u0648\u0646 \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629"}),v.map(function(e){return(0,Aj.jsx)("option",{value:e.name,children:e.name},e.id)})]})]}),(0,Aj.jsxs)("div",{className:"mp-form-group",children:[(0,Aj.jsx)("label",{children:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0646\u062a\u062c:"}),(0,Aj.jsx)("div",{className:"mp-variant-toggle",children:(0,Aj.jsxs)("label",{className:"mp-checkbox-label",children:[(0,Aj.jsx)("input",{type:"checkbox",checked:b.hasVariants,onChange:function(){k(function(e){return st(st({},e),{},{hasVariants:!e.hasVariants,variants:e.hasVariants?e.variants:[],price:e.hasVariants?"":e.price,stock:e.hasVariants?"":e.stock})})}}),(0,Aj.jsx)("span",{children:"\u0645\u0646\u062a\u062c \u0628\u0623\u062d\u062c\u0627\u0645 \u0648\u0623\u0644\u0648\u0627\u0646 \u0645\u062a\u0639\u062f\u062f\u0629"})]})})]}),b.hasVariants?(0,Aj.jsxs)("div",{className:"mp-variants-section",children:[(0,Aj.jsx)("h4",{children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0623\u062d\u062c\u0627\u0645 \u0648\u0627\u0644\u0623\u0644\u0648\u0627\u0646"}),(0,Aj.jsxs)("div",{className:"mp-sizes-section",children:[(0,Aj.jsxs)("div",{className:"mp-section-header",children:[(0,Aj.jsx)("h5",{children:"\u0627\u0644\u0623\u062d\u062c\u0627\u0645 \u0627\u0644\u0645\u062a\u0627\u062d\u0629"}),(0,Aj.jsx)("button",{type:"button",onClick:function(){var e=prompt("\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u062d\u062c\u0645 \u0627\u0644\u062c\u062f\u064a\u062f:");e&&e.trim()&&k(function(t){return st(st({},t),{},{sizes:[].concat(h(t.sizes),[e.trim()])})})},className:"mp-add-btn-small",children:"+ \u0625\u0636\u0627\u0641\u0629 \u062d\u062c\u0645"})]}),(0,Aj.jsx)("div",{className:"mp-sizes-list",children:b.sizes.map(function(e,t){return(0,Aj.jsxs)("div",{className:"mp-size-item",children:[(0,Aj.jsx)("span",{children:e}),(0,Aj.jsx)("button",{type:"button",onClick:function(){return t=e,void k(function(e){return st(st({},e),{},{sizes:e.sizes.filter(function(e){return e!==t}),variants:e.variants.filter(function(e){return e.size!==t})})});var t},className:"mp-remove-btn-small",children:"\xd7"})]},t)})})]}),(0,Aj.jsxs)("div",{className:"mp-colors-section",children:[(0,Aj.jsxs)("div",{className:"mp-section-header",children:[(0,Aj.jsx)("h5",{children:"\u0627\u0644\u0623\u0644\u0648\u0627\u0646 \u0627\u0644\u0645\u062a\u0627\u062d\u0629"}),(0,Aj.jsx)("button",{type:"button",onClick:function(){var e=prompt("\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u062c\u062f\u064a\u062f:");e&&e.trim()&&k(function(t){return st(st({},t),{},{colors:[].concat(h(t.colors),[e.trim()])})})},className:"mp-add-btn-small",children:"+ \u0625\u0636\u0627\u0641\u0629 \u0644\u0648\u0646"})]}),(0,Aj.jsx)("div",{className:"mp-colors-list",children:b.colors.map(function(e,t){return(0,Aj.jsxs)("div",{className:"mp-color-item",children:[(0,Aj.jsx)("span",{children:e}),(0,Aj.jsx)("button",{type:"button",onClick:function(){return t=e,void k(function(e){return st(st({},e),{},{colors:e.colors.filter(function(e){return e!==t}),variants:e.variants.filter(function(e){return e.color!==t})})});var t},className:"mp-remove-btn-small",children:"\xd7"})]},t)})})]}),(b.sizes.length>0||b.colors.length>0)&&(0,Aj.jsxs)("div",{className:"mp-variants-table",children:[(0,Aj.jsx)("h5",{children:"\u062c\u062f\u0648\u0644 \u0627\u0644\u0623\u0633\u0639\u0627\u0631 \u0648\u0627\u0644\u0645\u062e\u0632\u0648\u0646"}),b.sizes.length>0&&b.colors.length>0?(0,Aj.jsxs)("table",{className:"mp-variants-grid",children:[(0,Aj.jsx)("thead",{children:(0,Aj.jsxs)("tr",{children:[(0,Aj.jsx)("th",{children:"\u0627\u0644\u062d\u062c\u0645 / \u0627\u0644\u0644\u0648\u0646"}),b.colors.map(function(e){return(0,Aj.jsx)("th",{children:e},e)})]})}),(0,Aj.jsx)("tbody",{children:b.sizes.map(function(e){return(0,Aj.jsxs)("tr",{children:[(0,Aj.jsx)("td",{className:"mp-size-label",children:e}),b.colors.map(function(t){var n=b.variants.find(function(n){return n.size===e&&n.color===t});return(0,Aj.jsx)("td",{className:"mp-variant-cell",children:(0,Aj.jsxs)("div",{className:"mp-variant-inputs",children:[(0,Aj.jsx)("input",{type:"number",placeholder:"\u0627\u0644\u0633\u0639\u0631",value:(null===n||void 0===n?void 0:n.price)||"",onChange:function(n){return Ae(e,t,"price",n.target.value)},min:"0",step:"0.01",className:"mp-variant-price"}),(0,Aj.jsx)("input",{type:"number",placeholder:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646",value:(null===n||void 0===n?void 0:n.stock)||"",onChange:function(n){return Ae(e,t,"stock",n.target.value)},min:"0",className:"mp-variant-stock"}),(0,Aj.jsx)("button",{type:"button",onClick:function(){return De(e,t)},className:"mp-remove-variant-btn",title:"\u0625\u0632\u0627\u0644\u0629 \u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u063a\u064a\u0631",children:"\xd7"})]})},t)})]},e)})})]}):b.sizes.length>0?(0,Aj.jsxs)("div",{className:"mp-sizes-only-variants",children:[(0,Aj.jsx)("h6",{children:"\u0645\u062a\u063a\u064a\u0631\u0627\u062a \u0627\u0644\u0623\u062d\u062c\u0627\u0645 \u0641\u0642\u0637"}),(0,Aj.jsx)("div",{className:"mp-size-variants-list",children:b.sizes.map(function(e){var t=b.variants.find(function(t){return t.size===e&&!t.color});return(0,Aj.jsxs)("div",{className:"mp-size-variant-item",children:[(0,Aj.jsx)("span",{className:"mp-size-variant-label",children:e}),(0,Aj.jsxs)("div",{className:"mp-size-variant-inputs",children:[(0,Aj.jsx)("input",{type:"number",placeholder:"\u0627\u0644\u0633\u0639\u0631",value:(null===t||void 0===t?void 0:t.price)||"",onChange:function(t){return Ae(e,null,"price",t.target.value)},min:"0",step:"0.01",className:"mp-variant-price"}),(0,Aj.jsx)("input",{type:"number",placeholder:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646",value:(null===t||void 0===t?void 0:t.stock)||"",onChange:function(t){return Ae(e,null,"stock",t.target.value)},min:"0",className:"mp-variant-stock"}),(0,Aj.jsx)("button",{type:"button",onClick:function(){return De(e,null)},className:"mp-remove-variant-btn",title:"\u0625\u0632\u0627\u0644\u0629 \u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u063a\u064a\u0631",children:"\xd7"})]})]},e)})})]}):(0,Aj.jsxs)("div",{className:"mp-colors-only-variants",children:[(0,Aj.jsx)("h6",{children:"\u0645\u062a\u063a\u064a\u0631\u0627\u062a \u0627\u0644\u0623\u0644\u0648\u0627\u0646 \u0641\u0642\u0637"}),(0,Aj.jsx)("div",{className:"mp-color-variants-list",children:b.colors.map(function(e){var t=b.variants.find(function(t){return!t.size&&t.color===e});return(0,Aj.jsxs)("div",{className:"mp-color-variant-item",children:[(0,Aj.jsx)("span",{className:"mp-color-variant-label",children:e}),(0,Aj.jsxs)("div",{className:"mp-color-variant-inputs",children:[(0,Aj.jsx)("input",{type:"number",placeholder:"\u0627\u0644\u0633\u0639\u0631",value:(null===t||void 0===t?void 0:t.price)||"",onChange:function(t){return Ae(null,e,"price",t.target.value)},min:"0",step:"0.01",className:"mp-variant-price"}),(0,Aj.jsx)("input",{type:"number",placeholder:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646",value:(null===t||void 0===t?void 0:t.stock)||"",onChange:function(t){return Ae(null,e,"stock",t.target.value)},min:"0",className:"mp-variant-stock"}),(0,Aj.jsx)("button",{type:"button",onClick:function(){return De(null,e)},className:"mp-remove-variant-btn",title:"\u0625\u0632\u0627\u0644\u0629 \u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u063a\u064a\u0631",children:"\xd7"})]})]},e)})})]})]})]}):(0,Aj.jsxs)("div",{className:"mp-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0633\u0639\u0631 (\u0634\u064a\u0643\u0644):"}),(0,Aj.jsx)("input",{type:"number",name:"price",value:b.price,required:!0,min:"0",step:"0.01",onChange:Ie}),b.id&&(0,Aj.jsxs)("small",{className:"mp-discount-note",children:[(0,Aj.jsx)("i",{className:"fas fa-lightbulb"})," \u0645\u0644\u0627\u062d\u0638\u0629: \u0625\u0630\u0627 \u0643\u0627\u0646 \u0627\u0644\u0645\u0646\u062a\u062c \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u062e\u0635\u0645\u060c \u0633\u064a\u062a\u0645 \u0639\u0631\u0636 \u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0623\u0635\u0644\u064a (\u0642\u0628\u0644 \u0627\u0644\u062e\u0635\u0645) \u0641\u064a \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644. \u0639\u0646\u062f \u0627\u0644\u062d\u0641\u0638\u060c \u0633\u064a\u062a\u0645 \u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u062e\u0635\u0645 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b \u0639\u0644\u0649 \u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u062c\u062f\u064a\u062f"]}),b.id&&(null===(n=u.find(function(e){return e.id===b.id}))||void 0===n?void 0:n.hasDiscount)&&(0,Aj.jsxs)("div",{className:"mp-current-discount-info",children:[(0,Aj.jsx)("span",{className:"mp-discount-label",children:"\u062e\u0635\u0645 \u062d\u0627\u0644\u064a:"}),(0,Aj.jsx)("span",{className:"mp-discount-name",children:null===(r=u.find(function(e){return e.id===b.id}))||void 0===r?void 0:r.discountName}),(0,Aj.jsxs)("span",{className:"mp-discount-value",children:[null===(a=u.find(function(e){return e.id===b.id}))||void 0===a?void 0:a.discountValue,"percentage"===(null===(i=u.find(function(e){return e.id===b.id}))||void 0===i?void 0:i.discountType)?"%":" \u0634\u064a\u0643\u0644"]}),(0,Aj.jsxs)("span",{className:"mp-current-discounted-price",children:["\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u062d\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645:"," ",null===(s=u.find(function(e){return e.id===b.id}))||void 0===s?void 0:s.price," \u0634\u064a\u0643\u0644"]})]})]}),!b.hasVariants&&(0,Aj.jsxs)("div",{className:"mp-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629:"}),(0,Aj.jsx)("input",{type:"number",name:"stock",value:b.stock,required:!0,min:"0",onChange:Ie,placeholder:"\u0639\u062f\u062f \u0627\u0644\u0642\u0637\u0639 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629"})]}),(0,Aj.jsxs)("div",{className:"mp-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a \u0648\u0627\u0644\u0634\u0627\u0631\u0627\u062a:"}),(0,Aj.jsxs)("div",{className:"mp-badge-controls",children:[(0,Aj.jsx)("div",{className:"mp-checkbox-group",children:(0,Aj.jsxs)("label",{className:"mp-checkbox-label",children:[(0,Aj.jsx)("input",{type:"checkbox",name:"isNew",checked:b.isNew,onChange:function(e){return k(function(t){return st(st({},t),{},{isNew:e.target.checked})})}}),(0,Aj.jsxs)("span",{className:"mp-checkbox-text",children:[(0,Aj.jsx)("span",{className:"mp-badge-preview mp-badge-preview--new",children:"\u062c\u062f\u064a\u062f"}),"\u0645\u0646\u062a\u062c \u062c\u062f\u064a\u062f"]})]})}),(0,Aj.jsx)("div",{className:"mp-checkbox-group",children:(0,Aj.jsxs)("label",{className:"mp-checkbox-label",children:[(0,Aj.jsx)("input",{type:"checkbox",name:"onDemand",checked:b.onDemand,onChange:function(e){return k(function(t){return st(st({},t),{},{onDemand:e.target.checked})})}}),(0,Aj.jsxs)("span",{className:"mp-checkbox-text",children:[(0,Aj.jsx)("span",{className:"mp-badge-preview mp-badge-preview--on-demand",children:"\u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628"}),"\u0645\u062a\u0648\u0641\u0631 \u0639\u0646\u062f \u0627\u0644\u0637\u0644\u0628"]})]})}),(0,Aj.jsx)("div",{className:"mp-checkbox-group",children:(0,Aj.jsxs)("label",{className:"mp-checkbox-label",children:[(0,Aj.jsx)("input",{type:"checkbox",name:"isFeatured",checked:b.isFeatured,onChange:function(e){return k(function(t){return st(st({},t),{},{isFeatured:e.target.checked})})}}),(0,Aj.jsxs)("span",{className:"mp-checkbox-text",children:[(0,Aj.jsx)("span",{className:"mp-badge-preview mp-badge-preview--featured",children:"\u2b50 \u0645\u0645\u064a\u0632"}),"\u0639\u0631\u0636 \u0641\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0645\u0645\u064a\u0632\u0629"]})]})}),(0,Aj.jsx)("div",{className:"mp-info-note",children:(0,Aj.jsxs)("small",{children:[(0,Aj.jsx)("i",{className:"fas fa-lightbulb"}),' \u0645\u0644\u0627\u062d\u0638\u0629: \u0634\u0627\u0631\u0629 "\u0628\u064a\u0639\u062a \u0643\u0644\u0647\u0627" \u062a\u0638\u0647\u0631 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b \u0639\u0646\u062f \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629']})})]})]}),(0,Aj.jsxs)("div",{className:"mp-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0648\u0635\u0641:"}),(0,Aj.jsx)("textarea",{name:"description",value:b.description,required:!0,onChange:Ie,placeholder:"\u0648\u0635\u0641 \u062a\u0641\u0635\u064a\u0644\u064a \u0644\u0644\u0645\u0646\u062a\u062c \u0648\u0641\u0648\u0627\u0626\u062f\u0647"})]}),(0,Aj.jsxs)("div",{className:"mp-form-group",children:[(0,Aj.jsx)("label",{children:"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645:"}),(0,Aj.jsx)("textarea",{name:"howToUse",value:b.howToUse,onChange:Ie,placeholder:"\u0627\u0634\u0631\u062d \u0643\u064a\u0641\u064a\u0629 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0645\u0646\u062a\u062c \u0628\u0627\u0644\u062a\u0641\u0635\u064a\u0644 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a)",rows:"4"}),(0,Aj.jsxs)("small",{children:[(0,Aj.jsx)("i",{className:"fas fa-lightbulb"})," \u0645\u0644\u0627\u062d\u0638\u0629: \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0627\u062e\u062a\u064a\u0627\u0631\u064a \u0648\u0644\u0643\u0646 \u064a\u0633\u0627\u0639\u062f \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0639\u0644\u0649 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0645\u0646\u062a\u062c \u0628\u0634\u0643\u0644 \u0635\u062d\u064a\u062d"]})]}),(0,Aj.jsxs)("div",{className:"mp-form-group",children:[(0,Aj.jsx)("label",{children:"\u0635\u0648\u0631 \u0627\u0644\u0645\u0646\u062a\u062c (\u062d\u062f \u0623\u0642\u0635\u0649 9 \u0635\u0648\u0631):"}),(0,Aj.jsx)("input",{type:"file",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:function(e){var t=Array.from(e.target.files),n=b.id?Q.length-J.size:0,r=n+t.length;if(r>9)wn.error("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0623\u0646 \u064a\u062a\u062c\u0627\u0648\u0632 \u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0635\u0648\u0631 9 \u0635\u0648\u0631. \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u062d\u0627\u0644\u064a\u0629: ".concat(n,", \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629: ").concat(t.length,", \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a: ").concat(r));else if(t.length>9)wn.error("\u064a\u0645\u0643\u0646\u0643 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u062f \u0623\u0642\u0635\u0649 9 \u0635\u0648\u0631");else{var a=["image/jpeg","image/jpg","image/png","image/webp"];if(t.filter(function(e){return!a.includes(e.type)}).length>0)wn.error("\u064a\u064f\u0633\u0645\u062d \u0641\u0642\u0637 \u0628\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0635\u0648\u0631 (JPG, PNG, WEBP)");else t.filter(function(e){return e.size>5242880}).length>0?wn.error("\u062d\u062c\u0645 \u0627\u0644\u0635\u0648\u0631\u0629 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0623\u0642\u0644 \u0645\u0646 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a"):N(t)}},className:"mp-file-input"}),(0,Aj.jsx)("div",{className:"mp-file-info",children:(0,Aj.jsxs)("small",{children:["\u064a\u064f\u0633\u0645\u062d \u0628\u0645\u0644\u0641\u0627\u062a JPG, PNG, WEBP \u0641\u0642\u0637. \u062d\u062f \u0623\u0642\u0635\u0649 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a \u0644\u0643\u0644 \u0635\u0648\u0631\u0629.",b.id&&Q.length>0&&(0,Aj.jsxs)("span",{className:"mp-additive-note",children:["\u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629 \u0633\u062a\u0636\u0627\u0641 \u0625\u0644\u0649 \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u0645\u062d\u062a\u0641\u0638 \u0628\u0647\u0627. \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u0645\u062d\u062a\u0641\u0638 \u0628\u0647\u0627: ",Q.length-J.size," | \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629: ",w.length," | \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0646\u0647\u0627\u0626\u064a:"," ",Q.length-J.size+w.length]})]})}),w.length>0&&(0,Aj.jsxs)("div",{className:"mp-selected-files",children:[(0,Aj.jsx)("h4",{children:"\u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u0645\u062e\u062a\u0627\u0631\u0629:"}),(0,Aj.jsx)("div",{className:"mp-file-list",children:w.map(function(e,t){return(0,Aj.jsxs)("div",{className:"mp-file-item",children:[(0,Aj.jsx)("span",{children:e.name}),(0,Aj.jsxs)("span",{className:"mp-file-size",children:["(",(e.size/1024/1024).toFixed(2)," MB)"]}),void 0!==S[t]&&(0,Aj.jsx)("div",{className:"mp-upload-progress",children:-1===S[t]?(0,Aj.jsx)("span",{className:"mp-error",children:"\u0641\u0634\u0644 \u0627\u0644\u0631\u0641\u0639"}):(0,Aj.jsxs)("span",{children:[S[t],"%"]})}),(0,Aj.jsx)("button",{type:"button",onClick:function(){return e=t,void N(function(t){return t.filter(function(t,n){return n!==e})});var e},className:"mp-remove-selected-file-btn",title:"\u0625\u0632\u0627\u0644\u0629 \u0647\u0630\u0647 \u0627\u0644\u0635\u0648\u0631\u0629",children:"\xd7"})]},t)})})]}),b.id&&Q.length>0&&(0,Aj.jsxs)("div",{className:"mp-existing-images",children:[(0,Aj.jsx)("h4",{children:"\u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u062d\u0627\u0644\u064a\u0629:"}),(0,Aj.jsx)("div",{className:"mp-image-grid",children:Q.map(function(e,t){var n=J.has(t);return(0,Aj.jsxs)("div",{className:"mp-image-item ".concat(n?"marked-for-deletion":""),children:[(0,Aj.jsx)("img",{src:e,alt:"Product ".concat(t+1),className:"mp-image-preview"}),n?(0,Aj.jsx)("button",{type:"button",onClick:function(){return e=t,void $(function(t){var n=new Set(t);return n.delete(e),n});var e},className:"mp-restore-existing-image-btn",title:"\u0627\u0633\u062a\u0639\u0627\u062f\u0629 \u0647\u0630\u0647 \u0627\u0644\u0635\u0648\u0631\u0629",children:"\u21ba"}):(0,Aj.jsx)("button",{type:"button",onClick:function(){return e=t,void $(function(t){var n=new Set(t);return n.add(e),n});var e},className:"mp-delete-existing-image-btn",title:"\u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0635\u0648\u0631\u0629",children:"\xd7"}),n&&(0,Aj.jsx)("div",{className:"mp-deletion-overlay",children:(0,Aj.jsx)("span",{className:"mp-deletion-text",children:"\u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647\u0627"})})]},t)})}),(0,Aj.jsxs)("div",{className:"mp-image-management-info",children:[(0,Aj.jsxs)("small",{children:[(0,Aj.jsx)("i",{className:"fas fa-lightbulb"}),' \u064a\u0645\u0643\u0646\u0643 \u062d\u0630\u0641 \u0635\u0648\u0631 \u0645\u062d\u062f\u062f\u0629 \u0628\u0627\u0644\u0646\u0642\u0631 \u0639\u0644\u0649 \xd7 \u0623\u0648 \u0625\u0636\u0627\u0641\u0629 \u0635\u0648\u0631 \u062c\u062f\u064a\u062f\u0629 \u0623\u062f\u0646\u0627\u0647. \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u0645\u062d\u0630\u0648\u0641\u0629 \u0633\u062a\u0638\u0647\u0631 \u0645\u0639 \u0639\u0644\u0627\u0645\u0629 "\u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647\u0627".']}),b.id&&(0,Aj.jsxs)("div",{className:"mp-image-summary",children:[(0,Aj.jsxs)("span",{className:"mp-summary-item",children:[(0,Aj.jsx)("i",{className:"fas fa-camera"})," \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u0645\u062d\u062a\u0641\u0638 \u0628\u0647\u0627:"," ",Q.length-J.size]}),J.size>0&&(0,Aj.jsxs)("span",{className:"mp-summary-item mp-summary-deleted",children:[(0,Aj.jsx)("i",{className:"fas fa-trash-alt"})," \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u0645\u062d\u0630\u0648\u0641\u0629:"," ",J.size]}),w.length>0&&(0,Aj.jsxs)("span",{className:"mp-summary-item mp-summary-added",children:[(0,Aj.jsx)("i",{className:"fas fa-plus"})," \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629:"," ",w.length]}),(0,Aj.jsxs)("span",{className:"mp-summary-item mp-summary-total",children:[(0,Aj.jsx)("i",{className:"fas fa-chart-bar"})," \u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u0646\u0647\u0627\u0626\u064a:"," ",Q.length-J.size+w.length]})]})]})]})]}),(0,Aj.jsxs)("div",{className:"mp-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0641\u0626\u0627\u062a:"}),(0,Aj.jsxs)("div",{className:"mp-categories",children:[(0,Aj.jsxs)("label",{className:"mp-category",children:[(0,Aj.jsx)("input",{type:"checkbox",checked:b.categoryIds.includes("none"),onChange:function(){return Pe("none")}}),"\u0628\u062f\u0648\u0646 \u0641\u0626\u0629"]}),f.map(function(e){return(0,Aj.jsxs)("div",{className:"mp-category-group",children:[(0,Aj.jsxs)("label",{className:"mp-category",children:[(0,Aj.jsx)("input",{type:"checkbox",checked:b.categoryIds.includes(e.id),onChange:function(){return Pe(e.id)},disabled:b.categoryIds.includes("none")}),e.name]}),b.categoryIds.includes(e.id)&&e.subcategories&&e.subcategories.length>0&&(0,Aj.jsxs)("div",{className:"mp-subcategories",children:[(0,Aj.jsx)("span",{className:"mp-subcategory-label",children:"\u0627\u0644\u0641\u0626\u0627\u062a \u0627\u0644\u0641\u0631\u0639\u064a\u0629:"}),e.subcategories.map(function(t,n){return(0,Aj.jsxs)("label",{className:"mp-subcategory",children:[(0,Aj.jsx)("input",{type:"checkbox",checked:b.subcategoryIds.includes("".concat(e.id,"_").concat(t)),onChange:function(){return n=e.id,r=t,void k(function(e){var t,a="".concat(n,"_").concat(r);return t=e.subcategoryIds.includes(a)?e.subcategoryIds.filter(function(e){return e!==a}):[].concat(h(e.subcategoryIds),[a]),st(st({},e),{},{subcategoryIds:t})});var n,r}}),t]},n)})]})]},e.id)})]}),(0,Aj.jsx)("small",{className:"mp-category-note",children:'\u0627\u062e\u062a\u0631 "\u0628\u062f\u0648\u0646 \u0641\u0626\u0629" \u0623\u0648 \u0627\u062e\u062a\u0631 \u0641\u0626\u0629 \u0623\u0648 \u0623\u0643\u062b\u0631 \u0645\u0646 \u0627\u0644\u0641\u0626\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629. \u064a\u0645\u0643\u0646\u0643 \u0623\u064a\u0636\u0627\u064b \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0641\u0626\u0627\u062a \u0627\u0644\u0641\u0631\u0639\u064a\u0629'})]}),(0,Aj.jsx)("button",{type:"submit",className:"mp-save-btn",disabled:D||T,children:T?"\u062c\u0627\u0631\u064a \u0631\u0641\u0639 \u0627\u0644\u0635\u0648\u0631...":D?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":b.id?"\u062a\u062d\u062f\u064a\u062b":"\u0625\u0636\u0627\u0641\u0629"}),(0,Aj.jsx)("button",{type:"button",className:"mp-cancel-btn",onClick:function(){k({id:null,name:"",price:"",description:"",howToUse:"",images:[],categories:[],subcategories:[],brand:"",stock:"",isNew:!1,onDemand:!1,isFeatured:!1,hasVariants:!1,variants:[],sizes:[],colors:[]}),N([]),X([]),$(new Set),L(!1),te(!1),We()},disabled:D||T,children:"\u0625\u0644\u063a\u0627\u0621"})]}),(0,Aj.jsxs)("table",{className:"mp-table",children:[(0,Aj.jsx)("thead",{children:(0,Aj.jsxs)("tr",{children:[(0,Aj.jsx)("th",{children:"\u0627\u0644\u0635\u0648\u0631\u0629"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0627\u0633\u0645"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0633\u0639\u0631"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0641\u0626\u0627\u062a"}),(0,Aj.jsx)("th",{children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621"}),(0,Aj.jsx)("th",{children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Aj.jsx)("tbody",{children:Be.map(function(e){var t,n,r,a,i,s,o,c,u,l,d,h;return(0,Aj.jsxs)("tr",{children:[(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0635\u0648\u0631\u0629",children:(0,Aj.jsxs)("div",{className:"mp-product-image",children:[e.images&&e.images.length>0?(0,Aj.jsx)("img",{src:e.images[0],alt:e.name,className:"mp-product-thumbnail",loading:"lazy",onClick:function(){je(e.images[0]),Ee(!0)},onError:function(e){e.target.style.display="none",e.target.nextSibling.style.display="block"}}):null,(!e.images||0===e.images.length)&&(0,Aj.jsxs)("div",{className:"mp-no-image",children:[(0,Aj.jsx)("span",{className:"mp-no-image-icon",children:(0,Aj.jsx)("i",{className:"fas fa-camera"})}),(0,Aj.jsx)("span",{className:"mp-no-image-text",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0635\u0648\u0631\u0629"})]})]})}),(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0627\u0633\u0645",children:(0,Aj.jsxs)(Ze,{to:"/products/".concat(e.id),target:"_blank",className:"mp-product-link",title:"\u0639\u0631\u0636 \u062a\u0641\u0627\u0635\u064a\u0644 ".concat(e.name),children:[e.name,(0,Aj.jsx)("span",{className:"mp-link-icon",children:(0,Aj.jsx)("i",{className:"fas fa-external-link-alt"})})]})}),(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629",children:(0,Aj.jsx)("span",{className:"mp-brand-tag",children:e.brand||"\u0628\u062f\u0648\u0646 \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629"})}),(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0633\u0639\u0631",children:e.hasVariants?(0,Aj.jsxs)("div",{className:"mp-variants-summary",children:[(0,Aj.jsx)("span",{className:"mp-variants-indicator",children:(null===(t=e.sizes)||void 0===t?void 0:t.length)>0&&(null===(n=e.colors)||void 0===n?void 0:n.length)>0?"\u0645\u062a\u063a\u064a\u0631\u0627\u062a \u0645\u062a\u0639\u062f\u062f\u0629":(null===(r=e.sizes)||void 0===r?void 0:r.length)>0?"\u0645\u062a\u063a\u064a\u0631\u0627\u062a \u0623\u062d\u062c\u0627\u0645":"\u0645\u062a\u063a\u064a\u0631\u0627\u062a \u0623\u0644\u0648\u0627\u0646"}),(0,Aj.jsxs)("div",{className:"mp-variants-details",children:[(null===(a=e.sizes)||void 0===a?void 0:a.length)>0&&(0,Aj.jsxs)("small",{children:["\u0627\u0644\u0623\u062d\u062c\u0627\u0645: ",e.sizes.join(", ")]}),(null===(i=e.colors)||void 0===i?void 0:i.length)>0&&(0,Aj.jsxs)("small",{children:["\u0627\u0644\u0623\u0644\u0648\u0627\u0646: ",e.colors.join(", ")]}),(!e.sizes||0===e.sizes.length)&&(!e.colors||0===e.colors.length)&&(0,Aj.jsx)("small",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062a\u063a\u064a\u0631\u0627\u062a \u0645\u062d\u062f\u062f\u0629"})]})]}):e.hasDiscount&&e.originalPrice?(0,Aj.jsxs)("div",{className:"mp-price-display",children:[(0,Aj.jsxs)("span",{className:"mp-original-price",children:[e.originalPrice," \u0634\u064a\u0643\u0644"]}),(0,Aj.jsxs)("span",{className:"mp-discount-info",children:["(\u062e\u0635\u0645: ",e.price," \u0634\u064a\u0643\u0644)"]})]}):"".concat(e.price," \u0634\u064a\u0643\u0644")}),(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0645\u062e\u0632\u0648\u0646",children:e.hasVariants?(0,Aj.jsxs)("div",{className:"mp-variants-stock",children:[(0,Aj.jsx)("span",{className:"mp-variants-stock-indicator",children:(null===(s=e.sizes)||void 0===s?void 0:s.length)>0&&(null===(o=e.colors)||void 0===o?void 0:o.length)>0?"\u0645\u062e\u0632\u0648\u0646 \u0645\u062a\u063a\u064a\u0631":(null===(c=e.sizes)||void 0===c?void 0:c.length)>0?"\u0645\u062e\u0632\u0648\u0646 \u0623\u062d\u062c\u0627\u0645":"\u0645\u062e\u0632\u0648\u0646 \u0623\u0644\u0648\u0627\u0646"}),(0,Aj.jsxs)("div",{className:"mp-variants-stock-summary",children:[(0,Aj.jsxs)("small",{children:["\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062a\u063a\u064a\u0631\u0627\u062a: ",(null===(u=e.variants)||void 0===u?void 0:u.length)||0]}),(0,Aj.jsxs)("small",{children:["\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062e\u0632\u0648\u0646:"," ",(null===(l=e.variants)||void 0===l?void 0:l.reduce(function(e,t){return e+(parseInt(t.stock)||0)},0))||0]}),(null===(d=e.sizes)||void 0===d?void 0:d.length)>0&&(0,Aj.jsxs)("small",{children:["\u0627\u0644\u0623\u062d\u062c\u0627\u0645: ",e.sizes.join(", ")]}),(null===(h=e.colors)||void 0===h?void 0:h.length)>0&&(0,Aj.jsxs)("small",{children:["\u0627\u0644\u0623\u0644\u0648\u0627\u0646: ",e.colors.join(", ")]})]})]}):function(){var t=e.stock||0,n=t<=0?"mp-out-of-stock":t<=5?"mp-low-stock":"mp-in-stock";return(0,Aj.jsxs)("span",{className:"mp-stock-badge ".concat(n),children:[t," \u0642\u0637\u0639\u0629"]})}()}),(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0641\u0626\u0627\u062a",children:function(){var t=e.categoryIds||[],n=e.categories||[];if(t.includes("none")||n.includes("\u0628\u062f\u0648\u0646 \u0641\u0626\u0629"))return"\u0628\u062f\u0648\u0646 \u0641\u0626\u0629";if(t.length>0){var r=t.map(function(e){var t=f.find(function(t){return t.id===e});return t?t.name:e});return r.join(", ")}return n.length>0?n.join(", "):"\u0628\u062f\u0648\u0646 \u0641\u0626\u0629"}()}),(0,Aj.jsx)("td",{"data-label":"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621",children:e.createdAt?(0,Aj.jsxs)("div",{className:"mp-creation-date",children:[(0,Aj.jsx)("span",{className:"mp-date",children:new Date(e.createdAt.toDate?e.createdAt.toDate():e.createdAt).toLocaleDateString("en-US")}),(0,Aj.jsx)("small",{className:"mp-time",children:new Date(e.createdAt.toDate?e.createdAt.toDate():e.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}):(0,Aj.jsx)("span",{className:"mp-no-date",children:"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Aj.jsxs)("td",{"data-label":"\u0625\u062c\u0631\u0627\u0621\u0627\u062a",children:[(0,Aj.jsx)("button",{className:"mp-edit-btn",onClick:function(){return function(e){var t=e.categoryIds||[],n=e.subcategoryIds||[];!e.categoryIds&&e.categories&&(t=e.categories.map(function(e){if("\u0628\u062f\u0648\u0646 \u0641\u0626\u0629"===e)return"none";var t=f.find(function(t){return t.name===e});return t?t.id:null}).filter(Boolean)),!e.subcategoryIds&&e.subcategories&&(n=e.subcategories.map(function(e){var t,n=E(f);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.subcategories&&r.subcategories.includes(e))return"".concat(r.id,"_").concat(e)}}catch(a){n.e(a)}finally{n.f()}return null}).filter(Boolean)),k({id:e.id,name:e.name,price:e.hasVariants?"":e.hasDiscount&&e.originalPrice?e.originalPrice:e.price,description:e.description,howToUse:e.howToUse||"",images:[],categoryIds:t,subcategoryIds:n,brand:e.brand||"",stock:e.hasVariants?"":e.stock||0,isNew:e.isNew||!1,onDemand:e.onDemand||!1,isFeatured:e.isFeatured||!1,hasVariants:e.hasVariants||!1,variants:e.variants||[],sizes:e.sizes||[],colors:e.colors||[]}),N([]),X(e.images||[]),$(new Set),L(!0),te(!0),setTimeout(function(){var e=document.querySelector(".mp-form");if(e){var t=e.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:t,behavior:"smooth"})}},100)}(e)},children:"\u062a\u0639\u062f\u064a\u0644"}),(0,Aj.jsx)("button",{className:"mp-delete-btn",onClick:function(){return Me(e.id)},children:"\u062d\u0630\u0641"})]})]},e.id)})})]}),qe>1&&(0,Aj.jsxs)("div",{className:"mp-pagination",children:[(0,Aj.jsx)("button",{className:"mp-pagination-btn",onClick:function(){return He(z-1)},disabled:1===z,children:"\u0627\u0644\u0633\u0627\u0628\u0642"}),h(Array(qe)).map(function(e,t){var n=t+1;return(0,Aj.jsx)("button",{className:"mp-pagination-btn ".concat(z===n?"active":""),onClick:function(){return He(n)},children:n},n)}),(0,Aj.jsx)("button",{className:"mp-pagination-btn",onClick:function(){return He(z+1)},disabled:z===qe,children:"\u0627\u0644\u062a\u0627\u0644\u064a"})]}),0===Ve.length&&!O&&(0,Aj.jsx)("div",{className:"mp-no-results",children:(0,Aj.jsxs)("p",{children:["\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0646\u062a\u062c\u0627\u062a"," ",F||W?"\u062a\u0637\u0627\u0628\u0642 \u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u0628\u062d\u062b":""]})}),_e&&we&&(0,Aj.jsx)("div",{className:"mp-image-modal-overlay",onClick:function(){return Ee(!1)},children:(0,Aj.jsxs)("div",{className:"mp-image-modal",onClick:function(e){return e.stopPropagation()},children:[(0,Aj.jsxs)("div",{className:"mp-image-modal-header",children:[(0,Aj.jsx)("h3",{children:"\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u0635\u0648\u0631\u0629"}),(0,Aj.jsx)("button",{className:"mp-image-modal-close",onClick:function(){return Ee(!1)},children:"\xd7"})]}),(0,Aj.jsx)("div",{className:"mp-image-modal-content",children:(0,Aj.jsx)("img",{src:we,alt:"\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u0645\u0646\u062a\u062c",className:"mp-image-modal-image"})})]})})]})]})};var fS=function(){var t=Ne(),n=c((0,e.useState)([]),2),r=n[0],a=n[1],i=c((0,e.useState)(""),2),s=i[0],o=i[1],u=c((0,e.useState)(null),2),l=u[0],d=u[1],f=c((0,e.useState)(""),2),p=f[0],m=f[1],v=c((0,e.useState)([]),2),g=v[0],y=v[1],b=c((0,e.useState)(""),2),k=b[0],x=b[1],w=c((0,e.useState)(null),2),N=w[0],j=w[1],S=c((0,e.useState)(!1),2),_=S[0],E=S[1],C=c((0,e.useState)(!1),2),T=C[0],I=C[1],A=c((0,e.useState)(""),2),D=A[0],P=A[1],R=c((0,e.useState)(1),2),O=R[0],L=R[1],M=c((0,e.useState)(8),1)[0];(0,e.useEffect)(function(){function e(){return e=_n(jn().m(function e(){var t,n,r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!(t=Wj.get(Uj.CATEGORIES))){e.n=1;break}return a(t),e.a(2);case 1:return e.n=2,vm(op(jj,"categories"));case 2:n=e.v,r=[],n.forEach(function(e){return r.push(st({id:e.id},e.data()))}),a(r),Wj.set(Uj.CATEGORIES,r,6e5),e.n=4;break;case 3:e.p=3,e.v,a([{id:"cat1",name:"\u0627\u0644\u0648\u062c\u0647",imageUrl:""},{id:"cat2",name:"\u0627\u0644\u0634\u0639\u0631",imageUrl:""},{id:"cat3",name:"\u0627\u0644\u062c\u0633\u0645",imageUrl:""}]);case 4:return e.a(2)}},e,null,[[0,3]])})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var F=function(){var e=_n(jn().m(function e(t,n){var r,a,i;return jn().w(function(e){for(;;)switch(e.n){case 0:if(t){e.n=1;break}return e.a(2,null);case 1:return r=Bx(_j,"categories/".concat(n,"/").concat(t.name)),e.n=2,Vx(r,t);case 2:return a=e.v,e.n=3,Ux(a.ref);case 3:return i=e.v,e.a(2,i)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=_n(jn().m(function e(t){var n;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t){e.n=1;break}return e.a(2);case 1:return e.p=1,n=Bx(_j,t),e.n=2,zx(n);case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}(),U=function(){k.trim()&&(y([].concat(h(g),[k.trim()])),x(""))},z=function(){var e=_n(jn().m(function e(t){var n,i,c,u,f,p,v;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),s){e.n=1;break}return e.a(2);case 1:if(E(!0),e.p=2,!N){e.n=7;break}if(i=cp(jj,"categories",N),c=r.find(function(e){return e.id===N}),u={name:s,subcategories:g},!l){e.n=5;break}if(null===c||void 0===c||!c.imageUrl){e.n=3;break}return e.n=3,V(c.imageUrl);case 3:return e.n=4,F(l,N);case 4:f=e.v,u.imageUrl=f;case 5:return e.n=6,ym(i,u);case 6:n=r.map(function(e){return e.id===N?st(st({},e),u):e}),e.n=11;break;case 7:return e.n=8,km(op(jj,"categories"),{name:s,imageUrl:"",subcategories:g});case 8:if(p=e.v,v="",!l){e.n=10;break}return e.n=9,F(l,p.id);case 9:return v=e.v,e.n=10,ym(p,{imageUrl:v});case 10:n=[].concat(h(r),[{id:p.id,name:s,imageUrl:v,subcategories:g}]);case 11:a(n),Wj.set(Uj.CATEGORIES,n,6e5),o(""),d(null),m(""),y([]),x(""),j(null),I(!1),wn.success(N?"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0641\u0626\u0629 \u0628\u0646\u062c\u0627\u062d":"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0641\u0626\u0629 \u0628\u0646\u062c\u0627\u062d"),e.n=13;break;case 12:e.p=12,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.");case 13:return e.p=13,E(!1),e.f(13);case 14:return e.a(2)}},e,null,[[2,12,13,14]])}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=_n(jn().m(function e(t){var n,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,new Promise(function(e){wn(function(t){return(0,Aj.jsxs)("div",{style:{textAlign:"center"},children:[(0,Aj.jsx)("p",{style:{marginBottom:"15px",fontWeight:"bold"},children:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0641\u0626\u0629\u061f"}),(0,Aj.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!0)},style:{padding:"8px 20px",background:"#ef4444",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u062d\u0630\u0641"}),(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!1)},style:{padding:"8px 20px",background:"#6b7280",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u0625\u0644\u063a\u0627\u0621"})]})]})},{duration:1/0})});case 1:if(e.v){e.n=2;break}return e.a(2);case 2:if(e.p=2,n=r.find(function(e){return e.id===t}),null===n||void 0===n||!n.imageUrl){e.n=3;break}return e.n=3,V(n.imageUrl);case 3:return e.n=4,bm(cp(jj,"categories",t));case 4:i=r.filter(function(e){return e.id!==t}),a(i),Wj.set(Uj.CATEGORIES,i,6e5),wn.success("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0641\u0626\u0629 \u0628\u0646\u062c\u0627\u062d"),e.n=6;break;case 5:e.p=5,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062d\u0630\u0641");case 6:return e.a(2)}},e,null,[[2,5]])}));return function(t){return e.apply(this,arguments)}}(),q=D?r.filter(function(e){var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(D.toLowerCase())}):r,H=O*M,W=H-M,G=q.slice(W,H),K=Math.ceil(q.length/M),Q=function(e){L(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,e.useEffect)(function(){L(1)},[D]),(0,e.useEffect)(function(){return function(){}},[t]),(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"manage-categories-page",children:[(0,Aj.jsx)("h1",{children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0641\u0626\u0627\u062a"}),!T&&(0,Aj.jsx)("div",{className:"mc-add-section",children:(0,Aj.jsx)("button",{className:"mc-add-button",onClick:function(){return I(!0)},children:"+ \u0625\u0636\u0627\u0641\u0629 \u0641\u0626\u0629 \u062c\u062f\u064a\u062f\u0629"})}),!T&&(0,Aj.jsxs)("div",{className:"mc-search-bar",children:[(0,Aj.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0641\u0626\u0629 \u0628\u0627\u0644\u0627\u0633\u0645...",value:D,onChange:function(e){return P(e.target.value)},className:"mc-search-input"}),(0,Aj.jsxs)("div",{className:"mc-categories-count",children:["\u0639\u0631\u0636 ",W+1,"-",Math.min(H,q.length)," \u0645\u0646"," ",q.length," \u0641\u0626\u0629"]})]}),T&&(0,Aj.jsxs)("form",{onSubmit:z,className:"mc-form",children:[(0,Aj.jsx)("h2",{children:N?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0641\u0626\u0629":"\u0625\u0636\u0627\u0641\u0629 \u0641\u0626\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Aj.jsxs)("div",{className:"mc-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0633\u0645 \u0627\u0644\u0641\u0626\u0629:"}),(0,Aj.jsx)("input",{type:"text",value:s,required:!0,onChange:function(e){return o(e.target.value)}})]}),(0,Aj.jsxs)("div",{className:"mc-form-group",children:[(0,Aj.jsx)("label",{children:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0641\u0626\u0629:"}),(0,Aj.jsxs)("div",{className:"mc-image-upload",children:[(0,Aj.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){d(t);var n=new FileReader;n.onload=function(){m(n.result)},n.readAsDataURL(t)}},className:"mc-file-input",id:"category-image"}),(0,Aj.jsx)("label",{htmlFor:"category-image",className:"mc-file-label",children:l?"\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0635\u0648\u0631\u0629":"\u0627\u062e\u062a\u0631 \u0635\u0648\u0631\u0629"}),(p||l)&&(0,Aj.jsxs)("div",{className:"mc-image-preview",children:[(0,Aj.jsx)("img",{src:p,alt:"\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u0635\u0648\u0631\u0629",className:"mc-preview-img"}),(0,Aj.jsx)("button",{type:"button",onClick:function(){d(null),m("")},className:"mc-remove-image-btn",children:"\u062d\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629"})]})]})]}),(0,Aj.jsxs)("div",{className:"mc-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0641\u0626\u0627\u062a \u0627\u0644\u0641\u0631\u0639\u064a\u0629 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a):"}),(0,Aj.jsxs)("div",{className:"mc-subcategories-section",children:[(0,Aj.jsxs)("div",{className:"mc-subcategory-input-group",children:[(0,Aj.jsx)("input",{type:"text",value:k,onChange:function(e){return x(e.target.value)},placeholder:"\u0645\u062b\u0627\u0644: \u0642\u0645\u0635\u0627\u0646\u060c \u0628\u0646\u0627\u0637\u064a\u0644\u060c \u062c\u0627\u0643\u064a\u062a\u0627\u062a...",className:"mc-subcategory-input",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),U())}}),(0,Aj.jsx)("button",{type:"button",onClick:U,className:"mc-add-subcategory-btn",disabled:!k.trim(),children:"+ \u0625\u0636\u0627\u0641\u0629"})]}),g.length>0&&(0,Aj.jsx)("div",{className:"mc-subcategories-list",children:g.map(function(e,t){return(0,Aj.jsxs)("div",{className:"mc-subcategory-item",children:[(0,Aj.jsx)("span",{className:"mc-subcategory-name",children:e}),(0,Aj.jsx)("button",{type:"button",onClick:function(){return function(e){y(g.filter(function(t,n){return n!==e}))}(t)},className:"mc-remove-subcategory-btn",children:"\xd7"})]},t)})}),(0,Aj.jsxs)("small",{className:"mc-subcategory-hint",children:[(0,Aj.jsx)("i",{className:"fas fa-lightbulb"})," \u0627\u0644\u0641\u0626\u0627\u062a \u0627\u0644\u0641\u0631\u0639\u064a\u0629 \u062a\u0633\u0627\u0639\u062f \u0641\u064a \u062a\u0646\u0638\u064a\u0645 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0628\u0634\u0643\u0644 \u0623\u0641\u0636\u0644"]})]})]}),(0,Aj.jsx)("button",{type:"submit",className:"mc-save-btn",disabled:_,children:_?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":N?"\u062a\u062d\u062f\u064a\u062b":"\u0625\u0636\u0627\u0641\u0629"}),(0,Aj.jsx)("button",{type:"button",className:"mc-cancel-btn",onClick:function(){o(""),d(null),m(""),y([]),x(""),j(null),I(!1)},children:"\u0625\u0644\u063a\u0627\u0621"})]}),(0,Aj.jsxs)("table",{className:"mc-table",children:[(0,Aj.jsx)("thead",{children:(0,Aj.jsxs)("tr",{children:[(0,Aj.jsx)("th",{children:"\u0627\u0644\u0635\u0648\u0631\u0629"}),(0,Aj.jsx)("th",{children:"\u0627\u0633\u0645 \u0627\u0644\u0641\u0626\u0629"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0641\u0626\u0627\u062a \u0627\u0644\u0641\u0631\u0639\u064a\u0629"}),(0,Aj.jsx)("th",{children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Aj.jsx)("tbody",{children:G.map(function(e){return(0,Aj.jsxs)("tr",{children:[(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0635\u0648\u0631\u0629",className:"mc-image-cell",children:e.imageUrl?(0,Aj.jsx)("img",{src:e.imageUrl,alt:e.name,className:"mc-category-image"}):(0,Aj.jsx)("div",{className:"mc-no-image",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0635\u0648\u0631\u0629"})}),(0,Aj.jsx)("td",{"data-label":"\u0627\u0633\u0645 \u0627\u0644\u0641\u0626\u0629",children:e.name}),(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0641\u0626\u0627\u062a \u0627\u0644\u0641\u0631\u0639\u064a\u0629",children:e.subcategories&&e.subcategories.length>0?(0,Aj.jsx)("div",{className:"mc-subcategories-display",children:e.subcategories.map(function(e,t){return(0,Aj.jsx)("span",{className:"mc-subcategory-tag",children:e},t)})}):(0,Aj.jsx)("span",{className:"mc-no-subcategories",children:"\u0644\u0627 \u062a\u0648\u062c\u062f"})}),(0,Aj.jsxs)("td",{"data-label":"\u0625\u062c\u0631\u0627\u0621\u0627\u062a",children:[(0,Aj.jsx)("button",{className:"mc-edit-btn",onClick:function(){return function(e){o(e.name),d(null),m(e.imageUrl||""),y(e.subcategories||[]),j(e.id),I(!0)}(e)},children:"\u062a\u0639\u062f\u064a\u0644"})," ",(0,Aj.jsx)("button",{className:"mc-delete-btn",onClick:function(){return B(e.id)},children:"\u062d\u0630\u0641"})]})]},e.id)})})]}),K>1&&!T&&(0,Aj.jsxs)("div",{className:"mc-pagination",children:[(0,Aj.jsx)("button",{className:"mc-pagination-btn",onClick:function(){return Q(O-1)},disabled:1===O,children:"\u0627\u0644\u0633\u0627\u0628\u0642"}),h(Array(K)).map(function(e,t){var n=t+1;return(0,Aj.jsx)("button",{className:"mc-pagination-btn ".concat(O===n?"active":""),onClick:function(){return Q(n)},children:n},n)}),(0,Aj.jsx)("button",{className:"mc-pagination-btn",onClick:function(){return Q(O+1)},disabled:O===K,children:"\u0627\u0644\u062a\u0627\u0644\u064a"})]}),0===q.length&&!T&&(0,Aj.jsx)("div",{className:"mc-no-results",children:(0,Aj.jsxs)("p",{children:["\u0644\u0627 \u062a\u0648\u062c\u062f \u0641\u0626\u0627\u062a ",D?"\u062a\u0637\u0627\u0628\u0642 \u0627\u0644\u0628\u062d\u062b":""]})})]})]})};var hS=function(){Ne();var t=c((0,e.useState)([]),2),n=t[0],r=t[1],a=c((0,e.useState)({id:null,name:"",description:"",logo:"",website:"",country:""}),2),i=a[0],s=a[1],o=c((0,e.useState)(!1),2),u=o[0],l=o[1],d=c((0,e.useState)(!1),2),f=d[0],p=d[1],m=c((0,e.useState)(""),2),v=m[0],g=m[1],y=c((0,e.useState)(1),2),b=y[0],k=y[1],x=c((0,e.useState)(6),1)[0];(0,e.useEffect)(function(){function e(){return e=_n(jn().m(function e(){var t,n,a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!(t=Wj.get(Uj.BRANDS))){e.n=1;break}return r(t),e.a(2);case 1:return e.n=2,vm(op(jj,"brands"));case 2:n=e.v,a=[],n.forEach(function(e){return a.push(st({id:e.id},e.data()))}),r(a),Wj.set(Uj.BRANDS,a,6e5),e.n=4;break;case 3:e.p=3,e.v,r([{id:"brand1",name:"\u0644\u0648\u0631\u064a\u0627\u0644",description:"\u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629 \u0641\u0631\u0646\u0633\u064a\u0629 \u0644\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0634\u0639\u0631",logo:"",website:"https://loreal.com",country:"\u0641\u0631\u0646\u0633\u0627"},{id:"brand2",name:"\u0628\u0627\u0646\u062a\u064a\u0646",description:"\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0634\u0639\u0631 \u0645\u0646 \u0628\u0631\u0648\u0643\u062a\u0631 \u0622\u0646\u062f \u062c\u0627\u0645\u0628\u0644",logo:"",website:"https://pantene.com",country:"\u0623\u0645\u0631\u064a\u0643\u0627"},{id:"brand3",name:"\u0647\u064a\u062f \u0622\u0646\u062f \u0634\u0648\u0644\u062f\u0631\u0632",description:"\u0634\u0627\u0645\u0628\u0648 \u0636\u062f \u0627\u0644\u0642\u0634\u0631\u0629",logo:"",website:"https://headandshoulders.com",country:"\u0623\u0645\u0631\u064a\u0643\u0627"}]);case 4:return e.a(2)}},e,null,[[0,3]])})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var w=function(e){var t=e.target,n=t.name,r=t.value;s(function(e){return st(st({},e),{},at({},n,r))})},N=function(){var e=_n(jn().m(function e(t){var a,o,c,u;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),l(!0),a={name:i.name,description:i.description,logo:i.logo,website:i.website,country:i.country},e.p=1,!i.id){e.n=3;break}return c=cp(jj,"brands",i.id),e.n=2,ym(c,a);case 2:o=n.map(function(e){return e.id===i.id?st({id:e.id},a):e}),e.n=5;break;case 3:return e.n=4,km(op(jj,"brands"),a);case 4:u=e.v,o=[].concat(h(n),[st({id:u.id},a)]);case 5:r(o),Wj.set(Uj.BRANDS,o,6e5),s({id:null,name:"",description:"",logo:"",website:"",country:""}),p(!1),wn.success(i.id?"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 \u0628\u0646\u062c\u0627\u062d":"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 \u0628\u0646\u062c\u0627\u062d"),e.n=7;break;case 6:e.p=6,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.");case 7:return e.p=7,l(!1),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=_n(jn().m(function e(t){var a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,new Promise(function(e){wn(function(t){return(0,Aj.jsxs)("div",{style:{textAlign:"center"},children:[(0,Aj.jsx)("p",{style:{marginBottom:"15px",fontWeight:"bold"},children:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629\u061f"}),(0,Aj.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!0)},style:{padding:"8px 20px",background:"#ef4444",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u062d\u0630\u0641"}),(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!1)},style:{padding:"8px 20px",background:"#6b7280",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u0625\u0644\u063a\u0627\u0621"})]})]})},{duration:1/0})});case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return e.p=2,e.n=3,bm(cp(jj,"brands",t));case 3:a=n.filter(function(e){return e.id!==t}),r(a),Wj.set(Uj.BRANDS,a,6e5),wn.success("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 \u0628\u0646\u062c\u0627\u062d"),e.n=5;break;case 4:e.p=4,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062d\u0630\u0641");case 5:return e.a(2)}},e,null,[[2,4]])}));return function(t){return e.apply(this,arguments)}}(),S=v?n.filter(function(e){var t,n,r;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(v.toLowerCase()))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(v.toLowerCase()))||(null===(r=e.country)||void 0===r?void 0:r.toLowerCase().includes(v.toLowerCase()))}):n,_=b*x,E=_-x,C=S.slice(E,_),T=Math.ceil(S.length/x),I=function(e){k(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,e.useEffect)(function(){k(1)},[v]),(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"manage-brands-page",children:[(0,Aj.jsx)("h1",{children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"}),!f&&(0,Aj.jsx)("div",{className:"mb-add-section",children:(0,Aj.jsx)("button",{className:"mb-add-button",onClick:function(){return p(!0)},children:"+ \u0625\u0636\u0627\u0641\u0629 \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629 \u062c\u062f\u064a\u062f\u0629"})}),!f&&(0,Aj.jsxs)("div",{className:"mb-search-bar",children:[(0,Aj.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629 \u0628\u0627\u0644\u0627\u0633\u0645\u060c \u0627\u0644\u0648\u0635\u0641\u060c \u0623\u0648 \u0628\u0644\u062f \u0627\u0644\u0645\u0646\u0634\u0623...",value:v,onChange:function(e){return g(e.target.value)},className:"mb-search-input"}),(0,Aj.jsxs)("div",{className:"mb-brands-count",children:["\u0639\u0631\u0636 ",E+1,"-",Math.min(_,S.length)," \u0645\u0646"," ",S.length," \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629"]})]}),f&&(0,Aj.jsxs)("form",{onSubmit:N,className:"mb-form",children:[(0,Aj.jsx)("h2",{children:i.id?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629":"\u0625\u0636\u0627\u0641\u0629 \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Aj.jsxs)("div",{className:"mb-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0633\u0645 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629:"}),(0,Aj.jsx)("input",{type:"text",name:"name",value:i.name,required:!0,onChange:w,placeholder:"\u0645\u062b\u0627\u0644: \u0644\u0648\u0631\u064a\u0627\u0644"})]}),(0,Aj.jsxs)("div",{className:"mb-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0648\u0635\u0641:"}),(0,Aj.jsx)("textarea",{name:"description",value:i.description,onChange:w,placeholder:"\u0648\u0635\u0641 \u0645\u062e\u062a\u0635\u0631 \u0639\u0646 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"})]}),(0,Aj.jsxs)("div",{className:"mb-form-group",children:[(0,Aj.jsx)("label",{children:"\u0631\u0627\u0628\u0637 \u0627\u0644\u0634\u0639\u0627\u0631:"}),(0,Aj.jsx)("input",{type:"url",name:"logo",value:i.logo,onChange:w,placeholder:"https://example.com/logo.png"})]}),(0,Aj.jsxs)("div",{className:"mb-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0631\u0633\u0645\u064a:"}),(0,Aj.jsx)("input",{type:"url",name:"website",value:i.website,onChange:w,placeholder:"https://example.com"})]}),(0,Aj.jsxs)("div",{className:"mb-form-group",children:[(0,Aj.jsx)("label",{children:"\u0628\u0644\u062f \u0627\u0644\u0645\u0646\u0634\u0623:"}),(0,Aj.jsx)("input",{type:"text",name:"country",value:i.country,onChange:w,placeholder:"\u0645\u062b\u0627\u0644: \u0641\u0631\u0646\u0633\u0627"})]}),(0,Aj.jsx)("button",{type:"submit",className:"mb-save-btn",disabled:u,children:u?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":i.id?"\u062a\u062d\u062f\u064a\u062b":"\u0625\u0636\u0627\u0641\u0629"}),(0,Aj.jsx)("button",{type:"button",className:"mb-cancel-btn",onClick:function(){s({id:null,name:"",description:"",logo:"",website:"",country:""}),p(!1)},children:"\u0625\u0644\u063a\u0627\u0621"})]}),(0,Aj.jsxs)("table",{className:"mb-table",children:[(0,Aj.jsx)("thead",{children:(0,Aj.jsxs)("tr",{children:[(0,Aj.jsx)("th",{children:"\u0627\u0644\u0634\u0639\u0627\u0631"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0627\u0633\u0645"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0648\u0635\u0641"}),(0,Aj.jsx)("th",{children:"\u0628\u0644\u062f \u0627\u0644\u0645\u0646\u0634\u0623"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0645\u0648\u0642\u0639"}),(0,Aj.jsx)("th",{children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Aj.jsx)("tbody",{children:C.map(function(e){return(0,Aj.jsxs)("tr",{children:[(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0634\u0639\u0627\u0631",children:e.logo?(0,Aj.jsx)("img",{src:e.logo,alt:e.name,className:"mb-brand-logo",onError:function(e){e.target.style.display="none"}}):(0,Aj.jsx)("div",{className:"mb-no-logo",children:(0,Aj.jsx)("i",{className:"fas fa-tag"})})}),(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0627\u0633\u0645",className:"mb-brand-name",children:e.name}),(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0648\u0635\u0641",className:"mb-brand-description",children:e.description||"\u0644\u0627 \u064a\u0648\u062c\u062f \u0648\u0635\u0641"}),(0,Aj.jsx)("td",{"data-label":"\u0628\u0644\u062f \u0627\u0644\u0645\u0646\u0634\u0623",children:e.country||"-"}),(0,Aj.jsx)("td",{"data-label":"\u0627\u0644\u0645\u0648\u0642\u0639",children:e.website?(0,Aj.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"mb-website-link",children:"\u0632\u064a\u0627\u0631\u0629 \u0627\u0644\u0645\u0648\u0642\u0639"}):"-"}),(0,Aj.jsxs)("td",{"data-label":"\u0625\u062c\u0631\u0627\u0621\u0627\u062a",children:[(0,Aj.jsx)("button",{className:"mb-edit-btn",onClick:function(){return function(e){s({id:e.id,name:e.name,description:e.description||"",logo:e.logo||"",website:e.website||"",country:e.country||""}),p(!0)}(e)},children:"\u062a\u0639\u062f\u064a\u0644"}),(0,Aj.jsx)("button",{className:"mb-delete-btn",onClick:function(){return j(e.id)},children:"\u062d\u0630\u0641"})]})]},e.id)})})]}),T>1&&!f&&(0,Aj.jsxs)("div",{className:"mb-pagination",children:[(0,Aj.jsx)("button",{className:"mb-pagination-btn",onClick:function(){return I(b-1)},disabled:1===b,children:"\u0627\u0644\u0633\u0627\u0628\u0642"}),h(Array(T)).map(function(e,t){var n=t+1;return(0,Aj.jsx)("button",{className:"mb-pagination-btn ".concat(b===n?"active":""),onClick:function(){return I(n)},children:n},n)}),(0,Aj.jsx)("button",{className:"mb-pagination-btn",onClick:function(){return I(b+1)},disabled:b===T,children:"\u0627\u0644\u062a\u0627\u0644\u064a"})]}),0===S.length&&!f&&(0,Aj.jsx)("div",{className:"mb-no-results",children:(0,Aj.jsxs)("p",{children:["\u0644\u0627 \u062a\u0648\u062c\u062f \u0639\u0644\u0627\u0645\u0627\u062a \u062a\u062c\u0627\u0631\u064a\u0629 ",v?"\u062a\u0637\u0627\u0628\u0642 \u0627\u0644\u0628\u062d\u062b":""]})})]})]})};var pS=function(){var t=c((0,e.useState)([]),2),n=t[0],r=t[1],a=c((0,e.useState)(!0),2),i=a[0],s=a[1],o=c((0,e.useState)(!1),2),u=o[0],l=o[1],d=c((0,e.useState)(null),2),f=d[0],h=d[1],p=c((0,e.useState)({title:"",subtitle:"",buttonText:"",buttonLink:"/",order:1,isActive:!0,textColor:"#FFFFFF",buttonColor:"#BFA57A"}),2),m=p[0],v=p[1],g=c((0,e.useState)({textColor:"",buttonColor:""}),2),y=g[0],b=g[1],k=c((0,e.useState)(null),2),x=k[0],w=k[1],N=c((0,e.useState)(null),2),j=N[0],S=N[1],_=c((0,e.useState)(!1),2),E=_[0],C=_[1];(0,e.useEffect)(function(){T()},[]);var T=function(){var e=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return s(!0),e.p=1,e.n=2,vm(op(jj,"heroSlides"));case 2:t=e.v,n=[],t.forEach(function(e){n.push(st({id:e.id},e.data()))}),n.sort(function(e,t){return(e.order||0)-(t.order||0)}),r(n),e.n=4;break;case 3:e.p=3,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0634\u0631\u0627\u0626\u062d");case 4:return e.p=4,s(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),I=function(e){return/^#[0-9A-Fa-f]{6}$/.test(e)},A=function(e){var t=e.target,n=t.name,r=t.value,a=t.type,i=t.checked;"textColor"===n||"buttonColor"===n?function(e,t){if(""===t||"#"===t)return v(function(n){return st(st({},n),{},at({},e,t))}),void b(function(t){return st(st({},t),{},at({},e,"\u0623\u062f\u062e\u0644 \u0644\u0648\u0646 \u0635\u0627\u0644\u062d \u0628\u0635\u064a\u063a\u0629 #RRGGBB"))});t.startsWith("#")||(t="#"+t),v(function(n){return st(st({},n),{},at({},e,t))}),7===t.length&&(I(t)?b(function(t){return st(st({},t),{},at({},e,""))}):b(function(t){return st(st({},t),{},at({},e,"\u0644\u0648\u0646 \u063a\u064a\u0631 \u0635\u0627\u0644\u062d. \u0627\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u0635\u064a\u063a\u0629 #RRGGBB"))}))}(n,r):v(function(e){return st(st({},e),{},at({},n,"checkbox"===a?i:r))})},D=function(){var e=_n(jn().m(function e(t){var n,r,a,i;return jn().w(function(e){for(;;)switch(e.n){case 0:return n=Date.now(),r="hero-".concat(n,"-").concat(t.name),a=Bx(_j,"hero-slides/".concat(r)),e.n=1,Vx(a,t);case 1:return e.n=2,Ux(a);case 2:return i=e.v,e.a(2,i)}},e)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=_n(jn().m(function e(t){var r,a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),I(m.textColor)){e.n=1;break}return wn.error("\u0644\u0648\u0646 \u0627\u0644\u0646\u0635 \u063a\u064a\u0631 \u0635\u0627\u0644\u062d. \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0628\u0635\u064a\u063a\u0629 #RRGGBB"),e.a(2);case 1:if(I(m.buttonColor)){e.n=2;break}return wn.error("\u0644\u0648\u0646 \u0627\u0644\u0632\u0631 \u063a\u064a\u0631 \u0635\u0627\u0644\u062d. \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0628\u0635\u064a\u063a\u0629 #RRGGBB"),e.a(2);case 2:if(C(!0),e.p=3,r=parseInt(m.order)||1,!n.some(function(e){return e.order===r&&(!f||e.id!==f.id)})){e.n=4;break}return wn.error("\u0627\u0644\u062a\u0631\u062a\u064a\u0628 ".concat(r," \u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0627\u0644\u0641\u0639\u0644. \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u062a\u0631\u062a\u064a\u0628 \u0622\u062e\u0631.")),C(!1),e.a(2);case 4:if(a=(null===f||void 0===f?void 0:f.imageUrl)||"",!x){e.n=6;break}return e.n=5,D(x);case 5:a=e.v;case 6:if(i=st(st({},m),{},{imageUrl:a,order:r,updatedAt:new Date}),!f){e.n=8;break}return e.n=7,ym(cp(jj,"heroSlides",f.id),i);case 7:wn.success("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0634\u0631\u064a\u062d\u0629 \u0628\u0646\u062c\u0627\u062d"),e.n=10;break;case 8:return i.createdAt=new Date,e.n=9,km(op(jj,"heroSlides"),i);case 9:wn.success("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0634\u0631\u064a\u062d\u0629 \u0628\u0646\u062c\u0627\u062d");case 10:T(),O(),e.n=12;break;case 11:e.p=11,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062d\u0641\u0638 \u0627\u0644\u0634\u0631\u064a\u062d\u0629");case 12:return e.p=12,C(!1),e.f(12);case 13:return e.a(2)}},e,null,[[3,11,12,13]])}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,new Promise(function(e){wn(function(t){return(0,Aj.jsxs)("div",{style:{textAlign:"center"},children:[(0,Aj.jsx)("p",{style:{marginBottom:"15px",fontWeight:"bold"},children:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0634\u0631\u064a\u062d\u0629\u061f"}),(0,Aj.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!0)},style:{padding:"8px 20px",background:"#ef4444",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u062d\u0630\u0641"}),(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!1)},style:{padding:"8px 20px",background:"#6b7280",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u0625\u0644\u063a\u0627\u0621"})]})]})},{duration:1/0})});case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return e.p=2,e.n=3,bm(cp(jj,"heroSlides",t.id));case 3:wn.success("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0634\u0631\u064a\u062d\u0629 \u0628\u0646\u062c\u0627\u062d"),T(),e.n=5;break;case 4:e.p=4,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062d\u0630\u0641 \u0627\u0644\u0634\u0631\u064a\u062d\u0629");case 5:return e.a(2)}},e,null,[[2,4]])}));return function(t){return e.apply(this,arguments)}}(),O=function(){l(!1),h(null),v({title:"",subtitle:"",buttonText:"",buttonLink:"/",order:1,isActive:!0,textColor:"#FFFFFF",buttonColor:"#BFA57A"}),w(null),S(null)};return(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"manage-hero-slides",children:[(0,Aj.jsxs)("div",{className:"mhs-header",children:[(0,Aj.jsx)("h1",{children:"\u0625\u062f\u0627\u0631\u0629 \u0634\u0631\u0627\u0626\u062d \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"}),(0,Aj.jsx)("button",{className:"mhs-btn primary",onClick:function(){return l(!0)},children:"+ \u0625\u0636\u0627\u0641\u0629 \u0634\u0631\u064a\u062d\u0629 \u062c\u062f\u064a\u062f\u0629"})]}),i?(0,Aj.jsxs)("div",{className:"mhs-loading",children:[(0,Aj.jsx)("div",{className:"spinner"}),(0,Aj.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,Aj.jsxs)("div",{className:"mhs-slides-grid",children:[n.map(function(e){return(0,Aj.jsxs)("div",{className:"mhs-slide-card",children:[(0,Aj.jsxs)("div",{className:"mhs-slide-image",children:[e.imageUrl?(0,Aj.jsx)("img",{src:e.imageUrl,alt:e.title}):(0,Aj.jsx)("div",{className:"mhs-no-image",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0635\u0648\u0631\u0629"}),!e.isActive&&(0,Aj.jsx)("div",{className:"mhs-inactive-badge",children:"\u063a\u064a\u0631 \u0646\u0634\u0637"})]}),(0,Aj.jsxs)("div",{className:"mhs-slide-content",children:[(0,Aj.jsx)("h3",{children:e.title||"\u0628\u062f\u0648\u0646 \u0639\u0646\u0648\u0627\u0646"}),(0,Aj.jsx)("p",{children:e.subtitle||"\u0628\u062f\u0648\u0646 \u0646\u0635 \u0641\u0631\u0639\u064a"}),(0,Aj.jsxs)("div",{className:"mhs-slide-meta",children:[(0,Aj.jsxs)("span",{className:"mhs-order",children:["\u0627\u0644\u062a\u0631\u062a\u064a\u0628: ",e.order]}),e.buttonText&&(0,Aj.jsxs)("span",{className:"mhs-button-text",children:["\u0632\u0631: ",e.buttonText]})]}),(0,Aj.jsxs)("div",{className:"mhs-slide-actions",children:[(0,Aj.jsxs)("button",{className:"mhs-btn edit",onClick:function(){return function(e){h(e),v({title:e.title||"",subtitle:e.subtitle||"",buttonText:e.buttonText||"",buttonLink:e.buttonLink||"",order:e.order||1,isActive:!1!==e.isActive,textColor:e.textColor||"#FFFFFF",buttonColor:e.buttonColor||"#BFA57A"}),S(e.imageUrl||null),l(!0)}(e)},children:[(0,Aj.jsx)("i",{className:"fas fa-edit"})," \u062a\u0639\u062f\u064a\u0644"]}),(0,Aj.jsxs)("button",{className:"mhs-btn delete",onClick:function(){return R(e)},children:[(0,Aj.jsx)("i",{className:"fas fa-trash-alt"})," \u062d\u0630\u0641"]})]})]})]},e.id)}),0===n.length&&(0,Aj.jsx)("div",{className:"mhs-empty",children:(0,Aj.jsx)("p",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0634\u0631\u0627\u0626\u062d. \u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0634\u0631\u064a\u062d\u0629 \u062c\u062f\u064a\u062f\u0629 \u0644\u0644\u0628\u062f\u0621."})})]}),u&&(0,Aj.jsx)("div",{className:"mhs-modal-overlay",onClick:O,children:(0,Aj.jsxs)("div",{className:"mhs-modal",onClick:function(e){return e.stopPropagation()},children:[(0,Aj.jsxs)("div",{className:"mhs-modal-header",children:[(0,Aj.jsx)("h2",{children:f?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0634\u0631\u064a\u062d\u0629":"\u0625\u0636\u0627\u0641\u0629 \u0634\u0631\u064a\u062d\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Aj.jsx)("button",{className:"mhs-close-btn",onClick:O,children:(0,Aj.jsx)("i",{className:"fas fa-times"})})]}),(0,Aj.jsxs)("form",{onSubmit:P,className:"mhs-form",children:[(0,Aj.jsxs)("div",{className:"mhs-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0631\u0626\u064a\u0633\u064a *"}),(0,Aj.jsx)("input",{type:"text",name:"title",value:m.title,onChange:A,required:!0,placeholder:"\u0645\u062b\u0627\u0644: \u0623\u062d\u062f\u062b \u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0634\u0639\u0631"})]}),(0,Aj.jsxs)("div",{className:"mhs-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0646\u0635 \u0627\u0644\u0641\u0631\u0639\u064a"}),(0,Aj.jsx)("textarea",{name:"subtitle",value:m.subtitle,onChange:A,placeholder:"\u0645\u062b\u0627\u0644: \u0627\u0643\u062a\u0634\u0641 \u0645\u062c\u0645\u0648\u0639\u062a\u0646\u0627 \u0627\u0644\u0645\u0645\u064a\u0632\u0629 \u0645\u0646 \u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0639\u0646\u0627\u064a\u0629",rows:"3"})]}),(0,Aj.jsxs)("div",{className:"mhs-form-row",children:[(0,Aj.jsxs)("div",{className:"mhs-form-group",children:[(0,Aj.jsx)("label",{children:"\u0646\u0635 \u0627\u0644\u0632\u0631"}),(0,Aj.jsx)("input",{type:"text",name:"buttonText",value:m.buttonText,onChange:A,placeholder:"\u0645\u062b\u0627\u0644: \u062a\u0633\u0648\u0642 \u0627\u0644\u0622\u0646"})]}),(0,Aj.jsxs)("div",{className:"mhs-form-group",children:[(0,Aj.jsx)("label",{children:"\u0631\u0627\u0628\u0637 \u0627\u0644\u0632\u0631"}),(0,Aj.jsx)("select",{name:"buttonLink",value:m.buttonLink,onChange:A,className:"mhs-select",children:[{value:"/",label:"\u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"},{value:"/products",label:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"},{value:"/about",label:"\u0645\u0646 \u0646\u062d\u0646"},{value:"/contact",label:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627"},{value:"/cart",label:"\u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a"}].map(function(e){return(0,Aj.jsx)("option",{value:e.value,children:e.label},e.value)})})]})]}),(0,Aj.jsxs)("div",{className:"mhs-form-row",children:[(0,Aj.jsxs)("div",{className:"mhs-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u062a\u0631\u062a\u064a\u0628 *"}),(0,Aj.jsx)("input",{type:"number",name:"order",value:m.order,onChange:A,required:!0,min:"1"})]}),(0,Aj.jsxs)("div",{className:"mhs-form-group",children:[(0,Aj.jsx)("label",{children:"\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0634\u0631\u064a\u062d\u0629"}),(0,Aj.jsxs)("label",{className:"mhs-checkbox-label",children:[(0,Aj.jsx)("input",{type:"checkbox",name:"isActive",checked:m.isActive,onChange:A}),(0,Aj.jsx)("span",{children:"\u0646\u0634\u0637"})]})]}),(0,Aj.jsxs)("div",{className:"mhs-form-group",children:[(0,Aj.jsx)("label",{children:"\u0644\u0648\u0646 \u0627\u0644\u0646\u0635"}),(0,Aj.jsxs)("div",{className:"color-picker-container",children:[(0,Aj.jsx)("input",{type:"color",name:"textColor",value:I(m.textColor)?m.textColor:"#FFFFFF",onChange:A,className:"mhs-color-picker"}),(0,Aj.jsx)("input",{type:"text",name:"textColor",value:m.textColor,onChange:A,placeholder:"#FFFFFF",className:"mhs-color-input ".concat(y.textColor?"error":"")})]}),y.textColor&&(0,Aj.jsx)("div",{className:"mhs-color-error",children:y.textColor})]}),(0,Aj.jsxs)("div",{className:"mhs-form-group",children:[(0,Aj.jsx)("label",{children:"\u0644\u0648\u0646 \u0627\u0644\u0632\u0631"}),(0,Aj.jsxs)("div",{className:"color-picker-container",children:[(0,Aj.jsx)("input",{type:"color",name:"buttonColor",value:I(m.buttonColor)?m.buttonColor:"#BFA57A",onChange:A,className:"mhs-color-picker"}),(0,Aj.jsx)("input",{type:"text",name:"buttonColor",value:m.buttonColor,onChange:A,placeholder:"#BFA57A",className:"mhs-color-input ".concat(y.buttonColor?"error":"")})]}),y.buttonColor&&(0,Aj.jsx)("div",{className:"mhs-color-error",children:y.buttonColor})]})]}),(0,Aj.jsxs)("div",{className:"mhs-form-group",children:[(0,Aj.jsx)("label",{children:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0634\u0631\u064a\u062d\u0629 *"}),(0,Aj.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){w(t);var n=new FileReader;n.onloadend=function(){S(n.result)},n.readAsDataURL(t)}},required:!f}),j&&(0,Aj.jsx)("div",{className:"mhs-image-preview",children:(0,Aj.jsx)("img",{src:j,alt:"Preview"})})]}),(0,Aj.jsxs)("div",{className:"mhs-form-actions",children:[(0,Aj.jsx)("button",{type:"button",className:"mhs-btn cancel",onClick:O,disabled:E,children:"\u0625\u0644\u063a\u0627\u0621"}),(0,Aj.jsx)("button",{type:"submit",className:"mhs-btn primary",disabled:E,children:E?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":f?"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0634\u0631\u064a\u062d\u0629":"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0634\u0631\u064a\u062d\u0629"})]})]})]})})]})]})};var mS=function(){var t=c((0,e.useState)(!0),2),n=t[0],r=t[1],a=c((0,e.useState)(!1),2),i=a[0],s=a[1],o=c((0,e.useState)({backgroundImage:"",headline:"",subheading:"",primaryButtonText:"",secondaryButtonText:"",primaryButtonAction:"",secondaryButtonAction:"",isActive:!0}),2),u=o[0],l=o[1],d=c((0,e.useState)(null),2),f=d[0],h=d[1],p=c((0,e.useState)("url"),2),m=p[0],v=p[1],g=c((0,e.useState)(null),2),y=g[0],b=g[1],k=c((0,e.useState)(!1),2),x=k[0],w=k[1],N=c((0,e.useState)(""),2),j=N[0],S=N[1],_=[{value:"/",label:"\u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"},{value:"/products",label:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"},{value:"/about",label:"\u0645\u0646 \u0646\u062d\u0646"},{value:"/contact",label:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627"},{value:"/cart",label:"\u0627\u0644\u0633\u0644\u0629"}];(0,e.useEffect)(function(){E()},[]);var E=function(){var e=_n(jn().m(function e(){var t,n,a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return r(!0),e.p=1,e.n=2,vm(op(jj,"promotionalBanner"));case 2:(t=e.v).empty?l({backgroundImage:"https://images.unsplash.com/photo-1532453288672-3a27e9be9efd?q=80&w=764&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",headline:"\u0639\u0631\u0648\u0636 \u062d\u0635\u0631\u064a\u0629 \u0639\u0644\u0649 \u062c\u0645\u064a\u0639 \u0627\u0644\u0642\u0637\u0639 \u0641\u064a \u0627\u0644\u0645\u062a\u062c\u0631",subheading:"\u0648\u0641\u0631\u064a \u062d\u062a\u0649 30% \u0639\u0644\u0649 \u0642\u0637\u0639 \u0645\u062e\u062a\u0627\u0631\u0629 \u0644\u0641\u062a\u0631\u0629 \u0645\u062d\u062f\u0648\u062f\u0629",primaryButtonText:"\u062a\u0633\u0648\u0642\u064a \u0627\u0644\u0622\u0646",secondaryButtonText:"\u0627\u0639\u0631\u0641\u064a \u0627\u0644\u0645\u0632\u064a\u062f",primaryButtonAction:"/products",secondaryButtonAction:"/contact",isActive:!0}):(n=t.docs[0],h(n.id),a=n.data(),l({backgroundImage:a.backgroundImage||"",headline:a.headline||"",subheading:a.subheading||"",primaryButtonText:a.primaryButtonText||"",secondaryButtonText:a.secondaryButtonText||"",primaryButtonAction:a.primaryButtonAction||"",secondaryButtonAction:a.secondaryButtonAction||"",isActive:void 0===a.isActive||a.isActive}),S(a.backgroundImage||"")),e.n=4;break;case 3:e.p=3,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a");case 4:return e.p=4,r(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),C=function(e){var t=e.target,n=t.name,r=t.value,a=t.type,i=t.checked;l(function(e){return st(st({},e),{},at({},n,"checkbox"===a?i:r))})},T=function(){var e=_n(jn().m(function e(){var t,n,r,a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(y){e.n=1;break}return e.a(2,u.backgroundImage);case 1:return w(!0),e.p=2,t="promotional-banner/".concat(Date.now(),"_").concat(y.name),n=Bx(_j,t),e.n=3,Vx(n,y);case 3:return r=e.v,e.n=4,Ux(r.ref);case 4:if(a=e.v,!j||!j.includes("firebase")){e.n=8;break}return e.p=5,i=Bx(_j,j),e.n=6,zx(i);case 6:e.n=8;break;case 7:e.p=7,e.v;case 8:return e.a(2,a);case 9:throw e.p=9,e.v;case 10:return e.p=10,w(!1),e.f(10);case 11:return e.a(2)}},e,null,[[5,7],[2,9,10,11]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),s(!0),e.p=1,n=u.backgroundImage,"upload"!==m||!y){e.n=3;break}return e.n=2,T();case 2:n=e.v;case 3:if(r=st(st({},u),{},{backgroundImage:n,updatedAt:new Date}),!f){e.n=5;break}return e.n=4,ym(cp(jj,"promotionalBanner",f),r);case 4:e.n=7;break;case 5:return e.n=6,gm(cp(jj,"promotionalBanner","main"),st(st({},r),{},{createdAt:new Date}));case 6:h("main");case 7:S(n),b(null),wn.success("\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u0627\u0646\u0631 \u0628\u0646\u062c\u0627\u062d!"),e.n=9;break;case 8:e.p=8,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062d\u0641\u0638 \u0627\u0644\u0628\u0627\u0646\u0631");case 9:return e.p=9,s(!1),e.f(9);case 10:return e.a(2)}},e,null,[[1,8,9,10]])}));return function(t){return e.apply(this,arguments)}}();return n?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsx)("div",{className:"mpb-container",children:(0,Aj.jsx)("div",{className:"mpb-loading",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a..."})})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"mpb-container",children:[(0,Aj.jsx)("div",{className:"mpb-header",children:(0,Aj.jsx)("h1",{className:"mpb-title",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0628\u0627\u0646\u0631 \u0627\u0644\u062a\u0631\u0648\u064a\u062c\u064a"})}),(0,Aj.jsxs)("form",{onSubmit:I,className:"mpb-form",children:[(0,Aj.jsxs)("div",{className:"mpb-preview-section",children:[(0,Aj.jsx)("h3",{children:"\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u0628\u0627\u0646\u0631"}),(0,Aj.jsx)("div",{className:"mpb-preview",style:{backgroundImage:"url(".concat(u.backgroundImage,")"),opacity:u.isActive?1:.5},children:(0,Aj.jsx)("div",{className:"mpb-preview-overlay",children:(0,Aj.jsxs)("div",{className:"mpb-preview-content",children:[(0,Aj.jsx)("h2",{children:u.headline||"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0631\u0626\u064a\u0633\u064a"}),(0,Aj.jsx)("p",{children:u.subheading||"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0641\u0631\u0639\u064a"}),(0,Aj.jsxs)("div",{className:"mpb-preview-buttons",children:[(0,Aj.jsx)("button",{type:"button",className:"mpb-preview-btn-primary",children:u.primaryButtonText||"\u0627\u0644\u0632\u0631 \u0627\u0644\u0623\u0633\u0627\u0633\u064a"}),(0,Aj.jsx)("button",{type:"button",className:"mpb-preview-btn-secondary",children:u.secondaryButtonText||"\u0627\u0644\u0632\u0631 \u0627\u0644\u062b\u0627\u0646\u0648\u064a"})]})]})})}),!u.isActive&&(0,Aj.jsx)("p",{className:"mpb-inactive-notice",children:"\u0627\u0644\u0628\u0627\u0646\u0631 \u063a\u064a\u0631 \u0646\u0634\u0637 - \u0644\u0646 \u064a\u0638\u0647\u0631 \u0641\u064a \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"})]}),(0,Aj.jsxs)("div",{className:"mpb-form-section",children:[(0,Aj.jsx)("h3",{children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0628\u0627\u0646\u0631"}),(0,Aj.jsxs)("div",{className:"mpb-form-group",children:[(0,Aj.jsx)("label",{children:"\u0635\u0648\u0631\u0629 \u0627\u0644\u062e\u0644\u0641\u064a\u0629:"}),(0,Aj.jsxs)("div",{className:"mpb-image-mode-toggle",children:[(0,Aj.jsxs)("label",{className:"mpb-radio-label",children:[(0,Aj.jsx)("input",{type:"radio",name:"imageMode",value:"url",checked:"url"===m,onChange:function(e){return v(e.target.value)}}),(0,Aj.jsx)("span",{children:"\u0631\u0627\u0628\u0637 \u0635\u0648\u0631\u0629"})]}),(0,Aj.jsxs)("label",{className:"mpb-radio-label",children:[(0,Aj.jsx)("input",{type:"radio",name:"imageMode",value:"upload",checked:"upload"===m,onChange:function(e){return v(e.target.value)}}),(0,Aj.jsx)("span",{children:"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629"})]})]}),"url"===m?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("input",{type:"url",name:"backgroundImage",value:u.backgroundImage,onChange:C,required:!0,placeholder:"https://example.com/image.jpg"}),(0,Aj.jsx)("small",{children:"\u0623\u062f\u062e\u0644 \u0631\u0627\u0628\u0637 \u0627\u0644\u0635\u0648\u0631\u0629 \u0645\u0646 \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a (Unsplash\u060c Pexels\u060c \u0625\u0644\u062e)"})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:function(e){var t=e.target.files[0];if(t){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(t.type))return void wn.error("\u064a\u064f\u0633\u0645\u062d \u0641\u0642\u0637 \u0628\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0635\u0648\u0631 (JPG, PNG, WEBP)");if(t.size>5242880)return void wn.error("\u062d\u062c\u0645 \u0627\u0644\u0635\u0648\u0631\u0629 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0623\u0642\u0644 \u0645\u0646 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a");b(t);var n=URL.createObjectURL(t);l(function(e){return st(st({},e),{},{backgroundImage:n})})}},className:"mpb-file-input"}),(0,Aj.jsxs)("small",{children:["\u0627\u062e\u062a\u0631 \u0635\u0648\u0631\u0629 \u0645\u0646 \u062c\u0647\u0627\u0632\u0643 (JPG, PNG, WEBP - \u062d\u062f \u0623\u0642\u0635\u0649 5MB)",y&&(0,Aj.jsxs)("span",{className:"mpb-file-selected",children:[" ","\u2713 \u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631: ",y.name]})]})]})]}),(0,Aj.jsxs)("div",{className:"mpb-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0631\u0626\u064a\u0633\u064a:"}),(0,Aj.jsx)("input",{type:"text",name:"headline",value:u.headline,onChange:C,required:!0,placeholder:"\u0645\u062b\u0627\u0644: \u0639\u0631\u0648\u0636 \u062d\u0635\u0631\u064a\u0629 \u0639\u0644\u0649 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"})]}),(0,Aj.jsxs)("div",{className:"mpb-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0641\u0631\u0639\u064a:"}),(0,Aj.jsx)("input",{type:"text",name:"subheading",value:u.subheading,onChange:C,required:!0,placeholder:"\u0645\u062b\u0627\u0644: \u0648\u0641\u0631\u064a \u062d\u062a\u0649 30% \u0639\u0644\u0649 \u0645\u0646\u062a\u062c\u0627\u062a \u0645\u062e\u062a\u0627\u0631\u0629"})]}),(0,Aj.jsxs)("div",{className:"mpb-form-row",children:[(0,Aj.jsxs)("div",{className:"mpb-form-group",children:[(0,Aj.jsx)("label",{children:"\u0646\u0635 \u0627\u0644\u0632\u0631 \u0627\u0644\u0623\u0633\u0627\u0633\u064a:"}),(0,Aj.jsx)("input",{type:"text",name:"primaryButtonText",value:u.primaryButtonText,onChange:C,required:!0,placeholder:"\u0645\u062b\u0627\u0644: \u062a\u0633\u0648\u0642\u064a \u0627\u0644\u0622\u0646"})]}),(0,Aj.jsxs)("div",{className:"mpb-form-group",children:[(0,Aj.jsx)("label",{children:"\u0635\u0641\u062d\u0629 \u0627\u0644\u0632\u0631 \u0627\u0644\u0623\u0633\u0627\u0633\u064a:"}),(0,Aj.jsxs)("select",{name:"primaryButtonAction",value:u.primaryButtonAction,onChange:C,required:!0,className:"mpb-select",children:[(0,Aj.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0635\u0641\u062d\u0629..."}),_.map(function(e){return(0,Aj.jsx)("option",{value:e.value,children:e.label},e.value)})]}),(0,Aj.jsx)("small",{children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u062a\u064a \u0633\u064a\u0646\u062a\u0642\u0644 \u0625\u0644\u064a\u0647\u0627 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0639\u0646\u062f \u0627\u0644\u0636\u063a\u0637"})]})]}),(0,Aj.jsxs)("div",{className:"mpb-form-row",children:[(0,Aj.jsxs)("div",{className:"mpb-form-group",children:[(0,Aj.jsx)("label",{children:"\u0646\u0635 \u0627\u0644\u0632\u0631 \u0627\u0644\u062b\u0627\u0646\u0648\u064a:"}),(0,Aj.jsx)("input",{type:"text",name:"secondaryButtonText",value:u.secondaryButtonText,onChange:C,required:!0,placeholder:"\u0645\u062b\u0627\u0644: \u0627\u0639\u0631\u0641\u064a \u0627\u0644\u0645\u0632\u064a\u062f"})]}),(0,Aj.jsxs)("div",{className:"mpb-form-group",children:[(0,Aj.jsx)("label",{children:"\u0635\u0641\u062d\u0629 \u0627\u0644\u0632\u0631 \u0627\u0644\u062b\u0627\u0646\u0648\u064a:"}),(0,Aj.jsxs)("select",{name:"secondaryButtonAction",value:u.secondaryButtonAction,onChange:C,required:!0,className:"mpb-select",children:[(0,Aj.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0635\u0641\u062d\u0629..."}),_.map(function(e){return(0,Aj.jsx)("option",{value:e.value,children:e.label},e.value)})]}),(0,Aj.jsx)("small",{children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u062a\u064a \u0633\u064a\u0646\u062a\u0642\u0644 \u0625\u0644\u064a\u0647\u0627 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0639\u0646\u062f \u0627\u0644\u0636\u063a\u0637"})]})]}),(0,Aj.jsx)("div",{className:"mpb-form-group",children:(0,Aj.jsxs)("label",{className:"mpb-checkbox-label",children:[(0,Aj.jsx)("input",{type:"checkbox",name:"isActive",checked:u.isActive,onChange:C}),(0,Aj.jsx)("span",{children:"\u0627\u0644\u0628\u0627\u0646\u0631 \u0646\u0634\u0637 (\u0633\u064a\u0638\u0647\u0631 \u0641\u064a \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629)"})]})})]}),(0,Aj.jsx)("div",{className:"mpb-form-actions",children:(0,Aj.jsx)("button",{type:"submit",className:"mpb-save-btn",disabled:i||x,children:x?"\u062c\u0627\u0631\u064a \u0631\u0641\u0639 \u0627\u0644\u0635\u0648\u0631\u0629...":i?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":"\u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a"})})]})]})]})};var vS=function(){Ne();var t=c((0,e.useState)([]),2),n=t[0],r=t[1],a=c((0,e.useState)(""),2),i=a[0],s=a[1],o=c((0,e.useState)(""),2),u=o[0],l=o[1],d=c((0,e.useState)({start:"",end:""}),2),f=d[0],p=d[1],m=c((0,e.useState)(new Set),2),v=m[0],g=m[1],y=c((0,e.useState)({}),2),b=y[0],k=y[1],x=c((0,e.useState)(1),2),w=x[0],N=x[1],j=c((0,e.useState)(5),1)[0],S=c((0,e.useState)(!1),2),_=S[0],C=S[1],T=c((0,e.useState)(null),2),I=T[0],A=T[1],D=["\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631","\u0642\u064a\u062f \u0627\u0644\u062a\u0646\u0641\u064a\u0630","\u0642\u064a\u062f \u0627\u0644\u062a\u0648\u0635\u064a\u0644","\u0645\u0646\u062c\u0632","\u0645\u0631\u0641\u0648\u0636"],P=function(){var e=_n(jn().m(function e(){return jn().w(function(e){for(;;)switch(e.n){case 0:return C(!0),Wj.remove(Uj.ORDERS),e.n=1,R(!0);case 1:C(!1);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=_n(jn().m(function e(){var t,n,a,i,s,o,c=arguments;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=c.length>0&&void 0!==c[0]&&c[0],e.p=1,n=3e4,!(a=t?null:Wj.get(Uj.ORDERS))||t){e.n=2;break}return r(a),O(a),A(new Date(null===(i=JSON.parse(localStorage.getItem(Uj.ORDERS)))||void 0===i?void 0:i.timestamp)),e.a(2);case 2:return e.n=3,vm(op(jj,"orders"));case 3:s=e.v,o=[],s.forEach(function(e){return o.push(st({id:e.id},e.data()))}),o.sort(function(e,t){var n,r;return((null===(n=t.createdAt)||void 0===n?void 0:n.seconds)||0)-((null===(r=e.createdAt)||void 0===r?void 0:r.seconds)||0)}),r(o),A(new Date),Wj.set(Uj.ORDERS,o,n),O(o),e.n=5;break;case 4:e.p=4,e.v,r([{id:"order1",customerName:"\u0623\u062d\u0645\u062f",customerEmail:"ahmed@example.com",customerPhone:"0590xxxxxx",customerAddress:"\u0634\u0627\u0631\u0639 xx\u060c \u0646\u0627\u0628\u0644\u0633",items:[{id:"1",name:"\u0643\u0631\u064a\u0645 \u0645\u0631\u0637\u0628",price:50,quantity:2}],total:100,status:"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",createdAt:{seconds:Date.now()/1e3}}]);case 5:return e.a(2)}},e,null,[[1,4]])}));return function(){return e.apply(this,arguments)}}();function O(e){var t=D.reduce(function(t,n){return t[n]=e.filter(function(e){return e.status===n}).length,t},{});t.total=e.length,t.totalRevenue=e.filter(function(e){return"\u0645\u0646\u062c\u0632"===e.status}).reduce(function(e,t){return e+(t.total||0)},0),k(t)}(0,e.useEffect)(function(){var e,t=function(){"visible"===document.visibilityState&&P()};return R(),e=setInterval(function(){"visible"===document.visibilityState&&R(!0)},12e4),document.addEventListener("visibilitychange",t),function(){clearInterval(e),document.removeEventListener("visibilitychange",t)}},[]);var L=function(){var e=_n(jn().m(function e(t,a){var i,s,o,u,l;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,i=cp(jj,"orders",t),s=n.find(function(e){return e.id===t})){e.n=1;break}return e.a(2);case 1:if((o=s.status)!==a){e.n=2;break}return e.a(2);case 2:return e.n=3,Tm(jj,function(){var e=_n(jn().m(function e(t){var n,r,u,l,d,f,p,m,v,g;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:n=[],r=E(s.items||[]),e.p=1,l=jn().m(function e(){var r,i,s,c,l,d,f,h,p;return jn().w(function(e){for(;;)switch(e.n){case 0:return r=u.value,i=cp(jj,"products",r.id),e.n=1,t.get(i);case 1:if(!(s=e.v).exists()){e.n=6;break}if(c=s.data(),l={},d=!1,!c.hasVariants||!r.selectedVariant){e.n=2;break}f=c.variants.map(function(e){if(e.size===r.selectedVariant.size&&e.color===r.selectedVariant.color){var t=parseInt(e.stock||0);if("\u0645\u0631\u0641\u0648\u0636"===a&&"\u0645\u0631\u0641\u0648\u0636"!==o)t+=r.quantity,d=!0;else if("\u0645\u0631\u0641\u0648\u0636"===o&&"\u0645\u0631\u0641\u0648\u0636"!==a&&(t-=r.quantity,d=!0,t<0))throw new Error("\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u063a\u064a\u0631 \u0643\u0627\u0641\u064a \u0644\u0644\u0645\u0646\u062a\u062c ".concat(r.name," (").concat(r.selectedVariant.size," - ").concat(r.selectedVariant.color,"). \u0627\u0644\u0645\u062a\u0648\u0641\u0631: ").concat(e.stock,"\u060c \u0627\u0644\u0645\u0637\u0644\u0648\u0628: ").concat(r.quantity));return st(st({},e),{},{stock:Math.max(0,t)})}return e}),l={variants:f},e.n=5;break;case 2:if(h=parseInt(c.stock||0),"\u0645\u0631\u0641\u0648\u0636"!==a||"\u0645\u0631\u0641\u0648\u0636"===o){e.n=3;break}h+=r.quantity,d=!0,e.n=4;break;case 3:if("\u0645\u0631\u0641\u0648\u0636"!==o||"\u0645\u0631\u0641\u0648\u0636"===a){e.n=4;break}if(h-=r.quantity,d=!0,!(h<0)){e.n=4;break}throw new Error("\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u063a\u064a\u0631 \u0643\u0627\u0641\u064a \u0644\u0644\u0645\u0646\u062a\u062c ".concat(r.name,". \u0627\u0644\u0645\u062a\u0648\u0641\u0631: ").concat(c.stock,"\u060c \u0627\u0644\u0645\u0637\u0644\u0648\u0628: ").concat(r.quantity));case 4:l={stock:Math.max(0,h)};case 5:d&&(p=r.selectedVariant?"".concat(r.id,"-").concat(r.selectedVariant.size,"-").concat(r.selectedVariant.color):r.id,n.push({ref:i,updateData:l,itemKey:p,item:r}));case 6:return e.a(2)}},e)}),r.s();case 2:if((u=r.n()).done){e.n=4;break}return e.d(Qj(l()),3);case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,v=e.v,r.e(v);case 6:return e.p=6,r.f(),e.f(6);case 7:d=new Map,n.forEach(function(e){var t=e.ref,n=e.updateData,r=e.itemKey,a=e.item,i=t.id;d.has(i)||d.set(i,{ref:t,updates:[],productData:null}),d.get(i).updates.push({updateData:n,itemKey:r,item:a})}),f=E(d),e.p=8,m=jn().m(function e(){var n,r,a,i,s,o,u;return jn().w(function(e){for(;;)switch(e.n){case 0:if(n=c(p.value,2),n[0],r=n[1],a=r.ref,1!==(i=r.updates).length){e.n=1;break}t.update(a,i[0].updateData),e.n=3;break;case 1:return e.n=2,t.get(a);case 2:(s=e.v).exists()&&((o=s.data()).hasVariants?(u=h(o.variants),i.forEach(function(e){var t=e.updateData,n=e.item;if(n.selectedVariant){var r=u.findIndex(function(e){return e.size===n.selectedVariant.size&&e.color===n.selectedVariant.color});-1!==r&&(u[r]=t.variants.find(function(e){return e.size===n.selectedVariant.size&&e.color===n.selectedVariant.color}))}}),t.update(a,{variants:u})):t.update(a,i[i.length-1].updateData));case 3:return e.a(2)}},e)}),f.s();case 9:if((p=f.n()).done){e.n=11;break}return e.d(Qj(m()),10);case 10:e.n=9;break;case 11:e.n=13;break;case 12:e.p=12,g=e.v,f.e(g);case 13:return e.p=13,f.f(),e.f(13);case 14:return t.update(i,{status:a}),e.a(2,"success")}},e,null,[[8,12,13,14],[1,5,6,7]])}));return function(t){return e.apply(this,arguments)}}());case 3:e.v,u=n.map(function(e){return e.id===t?st(st({},e),{},{status:a}):e}),r(u),Wj.set(Uj.ORDERS,u,3e4),O(u),wn.success("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u062d\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062c\u0627\u062d"),setTimeout(function(){return R(!0)},1e3),e.n=5;break;case 4:e.p=4,l=e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u062d\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628: ".concat(l.message));case 5:return e.a(2)}},e,null,[[0,4]])}));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=_n(jn().m(function e(t){var a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,new Promise(function(e){wn(function(t){return(0,Aj.jsxs)("div",{style:{textAlign:"center"},children:[(0,Aj.jsx)("p",{style:{marginBottom:"15px",fontWeight:"bold"},children:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0637\u0644\u0628\u061f"}),(0,Aj.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!0)},style:{padding:"8px 20px",background:"#ef4444",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u062d\u0630\u0641"}),(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!1)},style:{padding:"8px 20px",background:"#6b7280",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u0625\u0644\u063a\u0627\u0621"})]})]})},{duration:1/0})});case 1:if(e.v){e.n=2;break}return e.a(2);case 2:if(e.p=2,a=n.find(function(e){return e.id===t})){e.n=3;break}return e.a(2);case 3:return e.n=4,Tm(jj,function(){var e=_n(jn().m(function e(n){var r,i,s,o,c,u;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:r=[],i=E(a.items||[]),e.p=1,o=jn().m(function e(){var t,a,i,o,c,u;return jn().w(function(e){for(;;)switch(e.n){case 0:return t=s.value,a=cp(jj,"products",t.id),e.n=1,n.get(a);case 1:(i=e.v).exists()&&(o=i.data(),c={},o.hasVariants&&t.selectedVariant?(u=o.variants.map(function(e){return e.size===t.selectedVariant.size&&e.color===t.selectedVariant.color?st(st({},e),{},{stock:parseInt(e.stock||0)+t.quantity}):e}),c={variants:u}):c={stock:parseInt(o.stock||0)+t.quantity},r.push({ref:a,updateData:c}));case 2:return e.a(2)}},e)}),i.s();case 2:if((s=i.n()).done){e.n=4;break}return e.d(Qj(o()),3);case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,u=e.v,i.e(u);case 6:return e.p=6,i.f(),e.f(6);case 7:return r.forEach(function(e){var t=e.ref,r=e.updateData;n.update(t,r)}),c=cp(jj,"orders",t),n.delete(c),e.a(2,"success")}},e,null,[[1,5,6,7]])}));return function(t){return e.apply(this,arguments)}}());case 4:e.v,i=n.filter(function(e){return e.id!==t}),r(i),Wj.set(Uj.ORDERS,i,3e4),O(i),wn.success("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062c\u0627\u062d"),setTimeout(function(){return R(!0)},1e3),e.n=6;break;case 5:e.p=5,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062d\u0630\u0641 \u0627\u0644\u0637\u0644\u0628. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.");case 6:return e.a(2)}},e,null,[[2,5]])}));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=n;if(i&&(e=e.filter(function(e){return e.status===i})),u){var t=u.toLowerCase();e=e.filter(function(e){var n,r,a,i;return(null===(n=e.customerName)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.customerEmail)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(a=e.customerPhone)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(i=e.id)||void 0===i?void 0:i.toLowerCase().includes(t))})}return(f.start||f.end)&&(e=e.filter(function(e){var t;if(null===(t=e.createdAt)||void 0===t||!t.seconds)return!1;var n=new Date(1e3*e.createdAt.seconds),r=f.start?new Date(f.start):null,a=f.end?new Date(f.end+"T23:59:59"):null;return!(r&&n<r)&&!(a&&n>a)})),e}(),V=w*j,U=V-j,z=F.slice(U,V),B=Math.ceil(F.length/j),q=function(e){N(e),window.scrollTo({top:0,behavior:"smooth"})};(0,e.useEffect)(function(){N(1)},[i,u,f]);var H=function(e,t){p(function(n){return st(st({},n),{},at({},e,t))})};return(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"orders-page",children:[(0,Aj.jsxs)("div",{className:"orders-header",children:[(0,Aj.jsx)("h1",{children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Aj.jsxs)("div",{className:"orders-actions",children:[(0,Aj.jsx)("button",{className:"refresh-btn",onClick:P,disabled:_,title:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",children:_?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...":(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-sync-alt"})," \u062a\u062d\u062f\u064a\u062b"]})}),I&&(0,Aj.jsxs)("span",{className:"last-update",children:["\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b: ",I.toLocaleTimeString("en-US")]})]})]}),(0,Aj.jsx)("div",{className:"orders-stock-note",children:(0,Aj.jsxs)("div",{className:"stock-note-content",children:[(0,Aj.jsx)("span",{className:"stock-note-icon",children:(0,Aj.jsx)("i",{className:"fas fa-box"})}),(0,Aj.jsxs)("span",{className:"stock-note-text",children:[(0,Aj.jsx)("strong",{children:"\u0645\u0644\u0627\u062d\u0638\u0629:"})," \u064a\u062a\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b. \u0639\u0646\u062f \u062d\u0630\u0641 \u0627\u0644\u0637\u0644\u0628 \u0623\u0648 \u0631\u0641\u0636\u0647\u060c \u064a\u062a\u0645 \u0625\u0631\u062c\u0627\u0639 \u0627\u0644\u0643\u0645\u064a\u0627\u062a \u0625\u0644\u0649 \u0627\u0644\u0645\u062e\u0632\u0648\u0646."]})]})}),(0,Aj.jsx)("div",{className:"realtime-status",children:(0,Aj.jsxs)("div",{className:"status-indicator ".concat(_?"updating":"live"),children:[(0,Aj.jsx)("span",{className:"status-dot"}),_?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...":"\u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0645\u062d\u062f\u062b\u0629"]})}),(0,Aj.jsxs)("div",{className:"orders-stats",children:[(0,Aj.jsxs)("div",{className:"ord-stat-card",children:[(0,Aj.jsx)("h3",{children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Aj.jsx)("p",{className:"ord-stat-number",children:b.total||0})]}),(0,Aj.jsxs)("div",{className:"ord-stat-card ord-pending",children:[(0,Aj.jsx)("h3",{children:"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"}),(0,Aj.jsx)("p",{className:"ord-stat-number",children:b["\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"]||0})]}),(0,Aj.jsxs)("div",{className:"ord-stat-card ord-completed",children:[(0,Aj.jsx)("h3",{children:"\u0645\u0646\u062c\u0632"}),(0,Aj.jsx)("p",{className:"ord-stat-number",children:b["\u0645\u0646\u062c\u0632"]||0})]}),(0,Aj.jsxs)("div",{className:"ord-stat-card ord-revenue",children:[(0,Aj.jsx)("h3",{children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Aj.jsxs)("p",{className:"ord-stat-number",children:[b.totalRevenue||0," \u0634\u064a\u0643\u0644"]})]})]}),(0,Aj.jsxs)("div",{className:"orders-controls",children:[(0,Aj.jsxs)("div",{className:"search-section",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a:"}),(0,Aj.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0628\u0627\u0644\u0627\u0633\u0645\u060c \u0627\u0644\u0625\u064a\u0645\u064a\u0644\u060c \u0627\u0644\u0647\u0627\u062a\u0641\u060c \u0623\u0648 \u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628...",value:u,onChange:function(e){return l(e.target.value)},className:"ord-search-input"})]}),(0,Aj.jsxs)("div",{className:"date-filter-section",children:[(0,Aj.jsx)("label",{children:"\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u062a\u0627\u0631\u064a\u062e:"}),(0,Aj.jsxs)("div",{className:"ord-date-inputs",children:[(0,Aj.jsx)("input",{type:"date",value:f.start,onChange:function(e){return H("start",e.target.value)},className:"ord-date-input",placeholder:"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e"}),(0,Aj.jsx)("span",{children:"\u0625\u0644\u0649"}),(0,Aj.jsx)("input",{type:"date",value:f.end,onChange:function(e){return H("end",e.target.value)},className:"ord-date-input",placeholder:"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e"})]})]}),(0,Aj.jsxs)("div",{className:"filter-section",children:[(0,Aj.jsx)("label",{children:"\u062a\u0635\u0641\u064a\u0629 \u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,Aj.jsxs)("select",{value:i,onChange:function(e){return s(e.target.value)},children:[(0,Aj.jsx)("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u062d\u0627\u0644\u0627\u062a"}),D.map(function(e){return(0,Aj.jsxs)("option",{value:e,children:[e," (",b[e]||0,")"]},e)})]})]}),(0,Aj.jsx)("button",{className:"ord-clear-filters-btn",onClick:function(){s(""),l(""),p({start:"",end:""})},children:"\u0645\u0633\u062d \u0627\u0644\u0641\u0644\u0627\u062a\u0631"}),(0,Aj.jsxs)("div",{className:"orders-count",children:["\u0639\u0631\u0636 ",U+1,"-",Math.min(V,F.length)," \u0645\u0646"," ",F.length," \u0637\u0644\u0628"]})]}),(0,Aj.jsx)("div",{className:"orders-container",children:z.map(function(e){var t,n,r;return(0,Aj.jsxs)("div",{className:"ord-card",children:[(0,Aj.jsx)("div",{className:"ord-header",onClick:function(){return t=e.id,void g(function(e){var n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},children:(0,Aj.jsxs)("div",{className:"ord-basic-info",children:[(0,Aj.jsxs)("div",{className:"ord-id",children:["#",e.id]}),(0,Aj.jsx)("div",{className:"ord-customer-name",children:e.customerName}),(0,Aj.jsx)("div",{className:"ord-date",children:(r=e.createdAt,r?new Date(1e3*r.seconds).toLocaleString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):"")}),(0,Aj.jsxs)("div",{className:"ord-total",children:[e.total," \u0634\u064a\u0643\u0644"]}),(0,Aj.jsx)("div",{className:"ord-status",style:{backgroundColor:(n=e.status,{"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631":"#C2A26C","\u0642\u064a\u062f \u0627\u0644\u062a\u0646\u0641\u064a\u0630":"#8B857E","\u0642\u064a\u062f \u0627\u0644\u062a\u0648\u0635\u064a\u0644":"#8B857E","\u0645\u0646\u062c\u0632":"#7A8F6A","\u0645\u0631\u0641\u0648\u0636":"#A14A3B"}[n]||"#95a5a6")},children:e.status}),(0,Aj.jsx)("button",{className:"ord-expand-btn",children:v.has(e.id)?"\u25b2":"\u25bc"})]})}),v.has(e.id)&&(0,Aj.jsxs)("div",{className:"ord-details",children:[(0,Aj.jsxs)("div",{className:"ord-customer-details",children:[(0,Aj.jsx)("h4",{children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0639\u0645\u064a\u0644:"}),(0,Aj.jsxs)("p",{children:[(0,Aj.jsxs)("strong",{children:[(0,Aj.jsx)("i",{className:"fas fa-user"})," \u0627\u0644\u0627\u0633\u0645:"]})," ",e.customerName]}),(0,Aj.jsxs)("p",{children:[(0,Aj.jsxs)("strong",{children:[(0,Aj.jsx)("i",{className:"fas fa-whatsapp"})," \u0627\u0644\u0648\u0627\u062a\u0633\u0627\u0628:"]})," ",e.customerPhone]}),(0,Aj.jsxs)("p",{children:[(0,Aj.jsxs)("strong",{children:[(0,Aj.jsx)("i",{className:"fas fa-map-marker-alt"})," \u0627\u0644\u0639\u0646\u0648\u0627\u0646:"]})," ",e.customerAddress]})]}),(e.deliveryFee||e.deliveryOption)&&(0,Aj.jsxs)("div",{className:"ord-delivery-info",children:[(0,Aj.jsx)("h4",{children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u0648\u0635\u064a\u0644:"}),(0,Aj.jsxs)("div",{className:"ord-delivery-details",children:[e.deliveryOption&&(0,Aj.jsxs)("div",{className:"ord-delivery-item",children:[(0,Aj.jsx)("span",{className:"ord-delivery-label",children:"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u062a\u0648\u0635\u064a\u0644:"}),(0,Aj.jsx)("span",{className:"ord-delivery-value",children:e.deliveryOption})]}),e.deliveryFee&&(0,Aj.jsxs)("div",{className:"ord-delivery-item",children:[(0,Aj.jsx)("span",{className:"ord-delivery-label",children:"\u0631\u0633\u0648\u0645 \u0627\u0644\u062a\u0648\u0635\u064a\u0644:"}),(0,Aj.jsxs)("span",{className:"ord-delivery-value",children:[e.deliveryFee," \u0634\u064a\u0643\u0644"]})]}),e.subtotal&&(0,Aj.jsxs)("div",{className:"ord-delivery-item",children:[(0,Aj.jsx)("span",{className:"ord-delivery-label",children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0627\u0644\u0641\u0631\u0639\u064a:"}),(0,Aj.jsxs)("span",{className:"ord-delivery-value",children:[e.subtotal," \u0634\u064a\u0643\u0644"]})]}),e.coupon&&(0,Aj.jsxs)("div",{className:"ord-delivery-item ord-coupon-item",children:[(0,Aj.jsxs)("span",{className:"ord-delivery-label",children:["\u0643\u0648\u0628\u0648\u0646 \u0627\u0644\u062e\u0635\u0645 (",e.coupon.code,"):"]}),(0,Aj.jsxs)("span",{className:"ord-delivery-value ord-coupon-discount",children:["-",e.coupon.couponDiscount.toFixed(2)," \u0634\u064a\u0643\u0644"]})]}),(0,Aj.jsxs)("div",{className:"ord-delivery-item ord-delivery-total",children:[(0,Aj.jsx)("span",{className:"ord-delivery-label",children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0646\u0647\u0627\u0626\u064a:"}),(0,Aj.jsxs)("span",{className:"ord-delivery-value",children:[e.total," \u0634\u064a\u0643\u0644"]})]})]})]}),(0,Aj.jsxs)("div",{className:"ord-items",children:[(0,Aj.jsx)("h4",{children:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628:"}),(0,Aj.jsxs)("table",{className:"ord-items-table",children:[(0,Aj.jsx)("thead",{children:(0,Aj.jsxs)("tr",{children:[(0,Aj.jsx)("th",{children:"\u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0633\u0639\u0631"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Aj.jsx)("th",{children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639"})]})}),(0,Aj.jsx)("tbody",{children:null===(t=e.items)||void 0===t?void 0:t.map(function(e,t){return(0,Aj.jsxs)("tr",{children:[(0,Aj.jsx)("td",{children:(0,Aj.jsxs)("div",{className:"ord-item-details",children:[e.id?(0,Aj.jsxs)(Ze,{to:"/products/".concat(e.id),target:"_blank",className:"ord-product-link",onClick:function(e){return e.stopPropagation()},title:"\u0639\u0631\u0636 \u062a\u0641\u0627\u0635\u064a\u0644 ".concat(e.name),children:[e.name,(0,Aj.jsx)("span",{className:"ord-link-icon",children:(0,Aj.jsx)("i",{className:"fas fa-external-link-alt"})})]}):(0,Aj.jsxs)("span",{className:"ord-product-name",children:[e.name,(0,Aj.jsx)("span",{className:"ord-no-link-note",title:"\u0645\u0639\u0631\u0641 \u0627\u0644\u0645\u0646\u062a\u062c \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631",children:(0,Aj.jsx)("i",{className:"fas fa-box"})})]}),e.selectedVariant&&(0,Aj.jsxs)("div",{className:"ord-variant-info",children:[(0,Aj.jsxs)("span",{className:"ord-variant-badge",children:["\u0645\u062a\u063a\u064a\u0631: ",e.selectedVariant.size," -"," ",e.selectedVariant.color]}),(0,Aj.jsxs)("span",{className:"ord-variant-price",children:["\u0633\u0639\u0631 \u0627\u0644\u0645\u062a\u063a\u064a\u0631:"," ",parseFloat(e.selectedVariant.price)||e.price," ","\u0634\u064a\u0643\u0644"]})]})]})}),(0,Aj.jsx)("td",{children:e.selectedVariant&&e.selectedVariant.price?"".concat(parseFloat(e.selectedVariant.price)," \u0634\u064a\u0643\u0644"):"".concat(e.price," \u0634\u064a\u0643\u0644")}),(0,Aj.jsx)("td",{children:e.quantity}),(0,Aj.jsx)("td",{children:function(){var t=e.selectedVariant&&e.selectedVariant.price?parseFloat(e.selectedVariant.price):e.price;return"".concat(t*e.quantity," \u0634\u064a\u0643\u0644")}()})]},t)})})]})]}),(0,Aj.jsxs)("div",{className:"ord-actions",children:[(0,Aj.jsxs)("div",{className:"status-update",children:[(0,Aj.jsx)("label",{children:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,Aj.jsx)("select",{value:e.status,onChange:function(t){return L(e.id,t.target.value)},className:"ord-status-select",children:D.map(function(e){return(0,Aj.jsx)("option",{value:e,children:e},e)})})]}),(0,Aj.jsxs)("div",{className:"ord-action-buttons",children:[(0,Aj.jsxs)("button",{className:"ord-action-btn ord-whatsapp-btn",onClick:function(){var t="\u0645\u0631\u062d\u0628\u0627\u064b ".concat(e.customerName,"\u060c\n\n")+"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0637\u0644\u0628 #".concat(e.id,"\n")+"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a:\n"+e.items.map(function(e,t){var n;return"".concat(t+1,". ").concat(e.name).concat(e.selectedVariant?" (".concat(e.selectedVariant.size," - ").concat(e.selectedVariant.color,")"):"","\n")+"   \u0627\u0644\u0643\u0645\u064a\u0629: ".concat(e.quantity,"\n")+"   \u0627\u0644\u0633\u0639\u0631: ".concat((null===(n=e.selectedVariant)||void 0===n?void 0:n.price)||e.price," \u0634\u064a\u0643\u0644\n")}).join("\n")+"\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n"+"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0627\u0644\u0641\u0631\u0639\u064a: ".concat(e.subtotal," \u0634\u064a\u0643\u0644\n")+"\u0631\u0633\u0648\u0645 \u0627\u0644\u062a\u0648\u0635\u064a\u0644: ".concat(e.deliveryFee," \u0634\u064a\u0643\u0644\n")+(e.coupon?"\u062e\u0635\u0645 \u0627\u0644\u0643\u0648\u0628\u0648\u0646 (".concat(e.coupon.code,"): -").concat(e.coupon.couponDiscount.toFixed(2)," \u0634\u064a\u0643\u0644\n"):"")+"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a: ".concat(e.total," \u0634\u064a\u0643\u0644\n\n")+"\u0627\u0644\u062a\u0648\u0635\u064a\u0644: ".concat(e.deliveryOption,"\n")+"\u0627\u0644\u0639\u0646\u0648\u0627\u0646: ".concat(e.customerAddress,"\n\n")+"\u0627\u0644\u062d\u0627\u0644\u0629: ".concat(e.status,"\n\n")+"\u0634\u0643\u0631\u0627\u064b \u0644\u0643! \ud83d\udc9a",n="https://wa.me/".concat(e.customerPhone.replace(/\+/g,""),"?text=").concat(encodeURIComponent(t));window.open(n,"_blank")},children:[(0,Aj.jsx)("i",{className:"fab fa-whatsapp"})," \u062a\u0623\u0643\u064a\u062f \u0639\u0628\u0631 \u0648\u0627\u062a\u0633\u0627\u0628"]}),(0,Aj.jsxs)("button",{className:"ord-action-btn ord-delete-btn",onClick:function(){return M(e.id)},children:[(0,Aj.jsx)("i",{className:"fas fa-trash-alt"})," \u062d\u0630\u0641"]})]})]})]})]},e.id)})}),B>1&&(0,Aj.jsxs)("div",{className:"ord-pagination",children:[(0,Aj.jsx)("button",{className:"ord-pagination-btn",onClick:function(){return q(w-1)},disabled:1===w,children:"\u0627\u0644\u0633\u0627\u0628\u0642"}),h(Array(B)).map(function(e,t){var n=t+1;return(0,Aj.jsx)("button",{className:"ord-pagination-btn ".concat(w===n?"active":""),onClick:function(){return q(n)},children:n},n)}),(0,Aj.jsx)("button",{className:"ord-pagination-btn",onClick:function(){return q(w+1)},disabled:w===B,children:"\u0627\u0644\u062a\u0627\u0644\u064a"})]}),0===F.length&&(0,Aj.jsx)("div",{className:"ord-no-orders",children:(0,Aj.jsxs)("p",{children:["\u0644\u0627 \u062a\u0648\u062c\u062f \u0637\u0644\u0628\u0627\u062a ",i?'\u0628\u062d\u0627\u0644\u0629 "'.concat(i,'"'):""]})})]})]})};var gS=function(){var t=c((0,e.useState)([]),2),n=t[0],r=t[1],a=c((0,e.useState)([]),2),i=a[0],s=a[1],o=c((0,e.useState)(!0),2),u=o[0],l=o[1],d=c((0,e.useState)("pending"),2),f=d[0],h=d[1],p=c((0,e.useState)({}),2),m=p[0],v=p[1];(0,e.useEffect)(function(){g()},[f]);var g=function(){var e=_n(jn().m(function e(){var t,n,a,i,o,c,u,d,h,p;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return l(!0),e.p=1,t=Xp(op(jj,"feedbacks"),em("createdAt","desc")),e.n=2,vm(t);case 2:n=e.v,a=[],i=E(n.docs),e.p=3,i.s();case 4:if((o=i.n()).done){e.n=10;break}return c=o.value,u=st({id:c.id},c.data()),e.p=5,e.n=6,pm(cp(jj,"products",u.productId));case 6:(d=e.v).exists()?u.productName=d.data().name:u.productName="\u0645\u0646\u062a\u062c \u0645\u062d\u0630\u0648\u0641",e.n=8;break;case 7:e.p=7,e.v,u.productName="\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c";case 8:a.push(u);case 9:e.n=4;break;case 10:e.n=12;break;case 11:e.p=11,p=e.v,i.e(p);case 12:return e.p=12,i.f(),e.f(12);case 13:s(a),h="all"===f?a:a.filter(function(e){return e.status===f}),r(h),e.n=15;break;case 14:e.p=14,e.v;case 15:return e.p=15,l(!1),e.f(15);case 16:return e.a(2)}},e,null,[[5,7],[3,11,12,13],[1,14,15,16]])}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=_n(jn().m(function e(t,n){var a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return v(function(e){return st(st({},e),{},at({},t,!0))}),e.p=1,e.n=2,ym(cp(jj,"feedbacks",t),{status:n,reviewedAt:new Date});case 2:a=function(e){return e.id===t?st(st({},e),{},{status:n,reviewedAt:new Date}):e},s(function(e){return e.map(a)}),r(function(e){return e.map(a)}),"all"!==f&&n!==f&&r(function(e){return e.filter(function(e){return e.id!==t})}),e.n=4;break;case 3:e.p=3,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u062d\u0627\u0644\u0629 \u0627\u0644\u062a\u0642\u064a\u064a\u0645");case 4:return e.p=4,v(function(e){return st(st({},e),{},at({},t,!1))}),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u062a\u0642\u064a\u064a\u0645\u061f")){e.n=1;break}return e.a(2);case 1:return v(function(e){return st(st({},e),{},at({},t,!0))}),e.p=2,e.n=3,bm(cp(jj,"feedbacks",t));case 3:s(function(e){return e.filter(function(e){return e.id!==t})}),r(function(e){return e.filter(function(e){return e.id!==t})}),e.n=5;break;case 4:e.p=4,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u062a\u0642\u064a\u064a\u0645");case 5:return e.p=5,v(function(e){return st(st({},e),{},at({},t,!1))}),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=_n(jn().m(function e(t,n){var a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return v(function(e){return st(st({},e),{},at({},t,!0))}),e.p=1,e.n=2,ym(cp(jj,"feedbacks",t),{isFeatured:n});case 2:a=function(e){return e.id===t?st(st({},e),{},{isFeatured:n}):e},s(function(e){return e.map(a)}),r(function(e){return e.map(a)}),wn.success(n?"\u062a\u0645 \u062a\u0645\u064a\u064a\u0632 \u0627\u0644\u062a\u0642\u064a\u064a\u0645 \u0628\u0646\u062c\u0627\u062d!":"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u062a\u0645\u064a\u064a\u0632 \u0627\u0644\u062a\u0642\u064a\u064a\u0645"),e.n=4;break;case 3:e.p=3,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u062d\u0627\u0644\u0629 \u0627\u0644\u062a\u0645\u064a\u0632");case 4:return e.p=4,v(function(e){return st(st({},e),{},at({},t,!1))}),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(t,n){return e.apply(this,arguments)}}(),x=function(e){switch(e){case"approved":return"fm-status-approved";case"rejected":return"fm-status-rejected";default:return"fm-status-pending"}},w=function(e){switch(e){case"approved":return"\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064a\u0647";case"rejected":return"\u0645\u0631\u0641\u0648\u0636";case"pending":return"\u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631";default:return"\u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641"}},N=i.filter(function(e){return"pending"===e.status}).length,j=i.filter(function(e){return"approved"===e.status}).length,S=i.filter(function(e){return"rejected"===e.status}).length;return(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"fm-container",children:[(0,Aj.jsxs)("div",{className:"fm-header",children:[(0,Aj.jsx)("h1",{className:"fm-title",children:"\u0625\u062f\u0627\u0631\u0629 \u062a\u0642\u064a\u064a\u0645\u0627\u062a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Aj.jsxs)("div",{className:"fm-stats",children:[(0,Aj.jsxs)("div",{className:"fm-stat",children:[(0,Aj.jsx)("span",{className:"fm-stat-number",children:N}),(0,Aj.jsx)("span",{className:"fm-stat-label",children:"\u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"})]}),(0,Aj.jsxs)("div",{className:"fm-stat",children:[(0,Aj.jsx)("span",{className:"fm-stat-number",children:j}),(0,Aj.jsx)("span",{className:"fm-stat-label",children:"\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064a\u0647"})]}),(0,Aj.jsxs)("div",{className:"fm-stat",children:[(0,Aj.jsx)("span",{className:"fm-stat-number",children:S}),(0,Aj.jsx)("span",{className:"fm-stat-label",children:"\u0645\u0631\u0641\u0648\u0636"})]})]})]}),(0,Aj.jsxs)("div",{className:"fm-filters",children:[(0,Aj.jsxs)("button",{className:"fm-filter-btn ".concat("pending"===f?"active":""),onClick:function(){return h("pending")},children:["\u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631 (",N,")"]}),(0,Aj.jsxs)("button",{className:"fm-filter-btn ".concat("approved"===f?"active":""),onClick:function(){return h("approved")},children:["\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064a\u0647 (",j,")"]}),(0,Aj.jsxs)("button",{className:"fm-filter-btn ".concat("rejected"===f?"active":""),onClick:function(){return h("rejected")},children:["\u0645\u0631\u0641\u0648\u0636 (",S,")"]}),(0,Aj.jsxs)("button",{className:"fm-filter-btn ".concat("all"===f?"active":""),onClick:function(){return h("all")},children:["\u0627\u0644\u0643\u0644 (",i.length,")"]})]}),u?(0,Aj.jsx)("div",{className:"fm-loading",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062a\u0642\u064a\u064a\u0645\u0627\u062a..."}):0===n.length?(0,Aj.jsx)("div",{className:"fm-no-data",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062a\u0642\u064a\u064a\u0645\u0627\u062a \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0641\u0626\u0629"}):(0,Aj.jsx)("div",{className:"fm-feedbacks",children:n.map(function(e){return(0,Aj.jsxs)("div",{className:"fm-feedback-card",children:[(0,Aj.jsxs)("div",{className:"fm-feedback-header",children:[(0,Aj.jsxs)("div",{className:"fm-feedback-info",children:[(0,Aj.jsx)("h3",{className:"fm-customer-name",children:e.name}),(0,Aj.jsxs)("div",{className:"fm-feedback-meta",children:[(0,Aj.jsxs)("span",{className:"fm-product-name",children:["\u0627\u0644\u0645\u0646\u062a\u062c: ",e.productName]}),e.rating&&(0,Aj.jsxs)("div",{className:"fm-feedback-rating",children:[[1,2,3,4,5].map(function(t){return(0,Aj.jsx)("span",{className:"fm-display-star ".concat(e.rating>=t?"active":""),children:e.rating>=t?(0,Aj.jsx)("i",{className:"fas fa-star"}):(0,Aj.jsx)("i",{className:"far fa-star"})},t)}),(0,Aj.jsxs)("span",{className:"fm-rating-value",children:["(",e.rating,"/5)"]})]}),(0,Aj.jsx)("span",{className:"fm-feedback-date",children:(t=e.createdAt,t&&t.toDate?t.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"")})]}),e.email&&(0,Aj.jsx)("div",{className:"fm-contact-info",children:(0,Aj.jsxs)("span",{children:[(0,Aj.jsx)("i",{className:"fas fa-envelope"})," ",e.email]})}),e.phone&&(0,Aj.jsx)("div",{className:"fm-contact-info",children:(0,Aj.jsxs)("span",{children:[(0,Aj.jsx)("i",{className:"fas fa-mobile-alt"})," ",e.phone]})})]}),(0,Aj.jsx)("div",{className:"fm-status-badge ".concat(x(e.status)),children:w(e.status)})]}),(0,Aj.jsx)("div",{className:"fm-feedback-comment",children:e.comment}),e.images&&e.images.length>0&&(0,Aj.jsxs)("div",{className:"fm-feedback-images",children:[(0,Aj.jsx)("div",{className:"fm-images-label",children:"\u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u0645\u0631\u0641\u0642\u0629:"}),(0,Aj.jsx)("div",{className:"fm-images-grid",children:e.images.map(function(e,t){return(0,Aj.jsx)("img",{src:e,alt:"Feedback ".concat(t+1),className:"fm-feedback-image",onClick:function(){return window.open(e,"_blank")}},t)})})]}),(0,Aj.jsxs)("div",{className:"fm-feedback-actions",children:["approved"!==e.status&&(0,Aj.jsx)("button",{className:"fm-approve-btn",onClick:function(){return y(e.id,"approved")},disabled:m[e.id],children:m[e.id]?"...":(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-check"})," \u0645\u0648\u0627\u0641\u0642\u0629"]})}),"rejected"!==e.status&&(0,Aj.jsx)("button",{className:"fm-reject-btn",onClick:function(){return y(e.id,"rejected")},disabled:m[e.id],children:m[e.id]?"...":(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-times"})," \u0631\u0641\u0636"]})}),"approved"===e.status&&(0,Aj.jsx)("button",{className:"fm-feature-btn ".concat(e.isFeatured?"featured":""),onClick:function(){return k(e.id,!e.isFeatured)},disabled:m[e.id],children:m[e.id]?"...":e.isFeatured?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-star"})," \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0645\u064a\u0632"]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-star"})," \u062a\u0645\u064a\u064a\u0632"]})}),(0,Aj.jsx)("button",{className:"fm-delete-btn",onClick:function(){return b(e.id)},disabled:m[e.id],children:m[e.id]?"...":(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-trash-alt"})," \u062d\u0630\u0641"]})})]})]},e.id);var t})})]})]})};var yS=function(){var t=c((0,e.useState)([]),2),n=t[0],r=t[1],a=c((0,e.useState)([]),2),i=a[0],s=a[1],o=c((0,e.useState)([]),2),u=o[0],l=o[1],d=c((0,e.useState)(!0),2),f=d[0],p=d[1],m=c((0,e.useState)(!1),2),v=m[0],g=m[1],y=c((0,e.useState)("product"),2),b=y[0],k=y[1],x=c((0,e.useState)([]),2),w=x[0],N=x[1],j=c((0,e.useState)("percentage"),2),S=j[0],_=j[1],E=c((0,e.useState)(""),2),C=E[0],T=E[1],I=c((0,e.useState)(""),2),A=I[0],D=I[1],P=c((0,e.useState)(""),2),R=P[0],O=P[1],L=c((0,e.useState)(null),2),M=L[0],F=L[1],V=c((0,e.useState)(""),2),U=V[0],z=V[1],B=c((0,e.useState)(""),2),q=B[0],H=B[1],W=c((0,e.useState)(""),2),G=W[0],K=W[1],Q=c((0,e.useState)(""),2),X=Q[0],Y=Q[1],J=c((0,e.useState)(1),2),$=J[0],Z=J[1],ee=c((0,e.useState)(12),1)[0],te=c((0,e.useState)(1),2),ne=te[0],re=te[1],ae=c((0,e.useState)(8),1)[0];(0,e.useEffect)(function(){ie();var e=setInterval(ge,6e4);return function(){return clearInterval(e)}},[]);var ie=function(){var e=_n(jn().m(function e(){var t,n,a,i,o,c,u,d,f;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return p(!0),e.p=1,t=Xp(op(jj,"products"),em("name")),e.n=2,vm(t);case 2:return n=e.v,a=[],n.forEach(function(e){a.push(st({id:e.id},e.data()))}),r(a),e.p=3,e.n=4,vm(op(jj,"categories"));case 4:i=e.v,o=[],i.forEach(function(e){o.push(st({id:e.id},e.data()))}),s(o),e.n=6;break;case 5:e.p=5,e.v,c=h(new Set(a.map(function(e){return e.category}).filter(Boolean))),s(c.map(function(e){return{name:e}}));case 6:return e.p=6,e.n=7,vm(op(jj,"brands"));case 7:u=e.v,d=[],u.forEach(function(e){d.push(st({id:e.id},e.data()))}),l(d),e.n=9;break;case 8:e.p=8,e.v,f=h(new Set(a.map(function(e){return e.brand}).filter(Boolean))),l(f.map(function(e){return{name:e}}));case 9:e.n=11;break;case 10:e.p=10,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a");case 11:return e.p=11,p(!1),e.f(11);case 12:return e.a(2)}},e,null,[[6,8],[3,5],[1,10,11,12]])}));return function(){return e.apply(this,arguments)}}(),se=function(e,t,n){return"percentage"===n?e-e*(t/100):Math.max(0,e-t)},oe=function(){var e=_n(jn().m(function e(){var t,a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(C&&A&&0!==w.length){e.n=1;break}return wn.error("\u064a\u0631\u062c\u0649 \u0645\u0644\u0621 \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0644 \u0648\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0639\u0646\u0627\u0635\u0631"),e.a(2);case 1:if(!(C<=0||"percentage"===S&&C>=100)){e.n=2;break}return wn.error("\u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0642\u064a\u0645\u0629 \u062e\u0635\u0645 \u0635\u062d\u064a\u062d\u0629"),e.a(2);case 2:return g(!0),e.p=3,t=Am(jj),a=[],"product"===b?a=n.filter(function(e){return w.includes(e.id)}):"category"===b?a=n.filter(function(e){return w.includes(e.category)}):"brand"===b&&(a=n.filter(function(e){return w.includes(e.brand)})),a.forEach(function(e){if(e.hasVariants){var n=e.variants.map(function(e){var t=e.originalPrice||e.price,n=se(t,parseFloat(C),S);return st(st({},e),{},{originalPrice:t,price:Math.round(100*n)/100})}),r=cp(jj,"products",e.id);t.update(r,{variants:n,hasDiscount:!0,discountType:S,discountValue:parseFloat(C),discountName:A,discountAppliedAt:new Date,discountExpiresAt:R?new Date(R):null})}else{var a=se(e.originalPrice||e.price,parseFloat(C),S),i=cp(jj,"products",e.id);t.update(i,{originalPrice:e.originalPrice||e.price,price:Math.round(100*a)/100,hasDiscount:!0,discountType:S,discountValue:parseFloat(C),discountName:A,discountAppliedAt:new Date,discountExpiresAt:R?new Date(R):null})}}),e.n=4,t.commit();case 4:Wj.remove(Uj.PRODUCTS),N([]),T(""),D(""),O(""),i=n.map(function(e){if(a.find(function(t){return t.id===e.id})){if(e.hasVariants){var t=e.variants.map(function(e){var t=e.originalPrice||e.price,n=se(t,parseFloat(C),S);return st(st({},e),{},{originalPrice:t,price:Math.round(100*n)/100})});return st(st({},e),{},{variants:t,hasDiscount:!0,discountType:S,discountValue:parseFloat(C),discountName:A,discountAppliedAt:new Date,discountExpiresAt:R?new Date(R):null})}var n=se(e.originalPrice||e.price,parseFloat(C),S);return st(st({},e),{},{originalPrice:e.originalPrice||e.price,price:Math.round(100*n)/100,hasDiscount:!0,discountType:S,discountValue:parseFloat(C),discountName:A,discountAppliedAt:new Date,discountExpiresAt:R?new Date(R):null})}return e}),r(i),wn.success("\u062a\u0645 \u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u062e\u0635\u0645 \u0639\u0644\u0649 ".concat(a.length," \u0645\u0646\u062a\u062c")),e.n=6;break;case 5:e.p=5,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u062e\u0635\u0645");case 6:return e.p=6,g(!1),e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=_n(jn().m(function e(t){var a,i,s,o;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(g(!0),e.p=1,a=n.find(function(e){return e.id===t}),a.originalPrice){e.n=2;break}return wn.error("\u0647\u0630\u0627 \u0627\u0644\u0645\u0646\u062a\u062c \u0644\u0627 \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u062e\u0635\u0645"),e.a(2);case 2:if(i=cp(jj,"products",t),!a.hasVariants){e.n=4;break}return s=a.variants.map(function(e){return st(st({},e),{},{price:e.originalPrice||e.price,originalPrice:null})}),e.n=3,ym(i,{variants:s,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null});case 3:e.n=5;break;case 4:return e.n=5,ym(i,{price:a.originalPrice,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null,originalPrice:null});case 5:Wj.remove(Uj.PRODUCTS),o=n.map(function(e){if(e.id===t){if(e.hasVariants){var n=e.variants.map(function(e){return st(st({},e),{},{price:e.originalPrice||e.price,originalPrice:null})});return st(st({},e),{},{variants:n,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null})}return st(st({},e),{},{price:e.originalPrice,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null,originalPrice:null})}return e}),r(o),wn.success("\u062a\u0645 \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062e\u0635\u0645 \u0628\u0646\u062c\u0627\u062d"),e.n=7;break;case 6:e.p=6,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062e\u0635\u0645");case 7:return e.p=7,g(!1),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=_n(jn().m(function e(t){var a,i,s,o,c;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(U&&q){e.n=1;break}return wn.error("\u064a\u0631\u062c\u0649 \u0645\u0644\u0621 \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0644"),e.a(2);case 1:if(!(U<=0||"percentage"===M.discountType&&U>=100)){e.n=2;break}return wn.error("\u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0642\u064a\u0645\u0629 \u062e\u0635\u0645 \u0635\u062d\u064a\u062d\u0629"),e.a(2);case 2:if(g(!0),e.p=3,a=n.find(function(e){return e.id===t}),i=cp(jj,"products",t),!a.hasVariants){e.n=5;break}return s=a.variants.map(function(e){var t=e.originalPrice||e.price,n=se(t,parseFloat(U),M.discountType);return st(st({},e),{},{originalPrice:t,price:Math.round(100*n)/100})}),e.n=4,ym(i,{variants:s,discountValue:parseFloat(U),discountName:q,discountExpiresAt:G?new Date(G):null});case 4:e.n=6;break;case 5:return o=se(a.originalPrice||a.price,parseFloat(U),M.discountType),e.n=6,ym(i,{price:Math.round(100*o)/100,discountValue:parseFloat(U),discountName:q,discountExpiresAt:G?new Date(G):null});case 6:Wj.remove(Uj.PRODUCTS),F(null),z(""),H(""),K(""),c=n.map(function(e){if(e.id===t){if(e.hasVariants){var n=e.variants.map(function(e){var t=e.originalPrice||e.price,n=se(t,parseFloat(U),M.discountType);return st(st({},e),{},{price:Math.round(100*n)/100})});return st(st({},e),{},{variants:n,discountValue:parseFloat(U),discountName:q,discountExpiresAt:G?new Date(G):null})}var r=se(e.originalPrice||e.price,parseFloat(U),M.discountType);return st(st({},e),{},{price:Math.round(100*r)/100,discountValue:parseFloat(U),discountName:q,discountExpiresAt:G?new Date(G):null})}return e}),r(c),wn.success("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062e\u0635\u0645 \u0628\u0646\u062c\u0627\u062d"),e.n=8;break;case 7:e.p=7,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062e\u0635\u0645");case 8:return e.p=8,g(!1),e.f(8);case 9:return e.a(2)}},e,null,[[3,7,8,9]])}));return function(t){return e.apply(this,arguments)}}(),le=function(){F(null),z(""),H(""),K("")},de=function(){var e=_n(jn().m(function e(){var t,a,i,s;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,t=n.filter(function(e){return e.hasDiscount}),0!==t.length){e.n=1;break}return e.a(2);case 1:if(a=Am(jj),i=0,t.forEach(function(e){if(e.hasVariants){var t=e.variants.map(function(t){if(t.originalPrice){var n=se(t.originalPrice,e.discountValue,e.discountType);return st(st({},t),{},{price:Math.round(100*n)/100})}return t});a.update(cp(jj,"products",e.id),{variants:t}),i++}else if(e.originalPrice){var n=se(e.originalPrice,e.discountValue,e.discountType);a.update(cp(jj,"products",e.id),{price:Math.round(100*n)/100}),i++}}),!(i>0)){e.n=3;break}return e.n=2,a.commit();case 2:Wj.remove(Uj.PRODUCTS),s=n.map(function(e){if(e.hasDiscount){if(e.hasVariants){var t=e.variants.map(function(t){if(t.originalPrice){var n=se(t.originalPrice,e.discountValue,e.discountType);return st(st({},t),{},{price:Math.round(100*n)/100})}return t});return st(st({},e),{},{variants:t})}if(e.originalPrice){var n=se(e.originalPrice,e.discountValue,e.discountType);return st(st({},e),{},{price:Math.round(100*n)/100})}}return e}),r(s);case 3:e.n=5;break;case 4:e.p=4,e.v;case 5:return e.a(2)}},e,null,[[0,4]])}));return function(){return e.apply(this,arguments)}}(),fe=function(){switch(b){case"product":var e=n.filter(function(e){return e.name.toLowerCase().includes(X.toLowerCase())||e.category&&e.category.toLowerCase().includes(X.toLowerCase())||e.brand&&e.brand.toLowerCase().includes(X.toLowerCase())}),t=($-1)*ee,r=t+ee;return e.slice(t,r);case"category":return i.map(function(e){return{id:e.name,name:e.name,images:e.imageUrl?[e.imageUrl]:[]}});case"brand":return u.map(function(e){return{id:e.name,name:e.name,images:e.logo?[e.logo]:[]}});default:return[]}},he=function(){return"product"!==b?0:n.filter(function(e){return e.name.toLowerCase().includes(X.toLowerCase())||e.category&&e.category.toLowerCase().includes(X.toLowerCase())||e.brand&&e.brand.toLowerCase().includes(X.toLowerCase())}).length},pe=Math.ceil(he()/ee),me=n.filter(function(e){return e.hasDiscount}).length,ve=Math.ceil(me/ae),ge=function(){var e=_n(jn().m(function e(){var t,a,i,s;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,t=new Date,a=n.filter(function(e){return e.hasDiscount&&e.discountExpiresAt&&new Date(1e3*e.discountExpiresAt.seconds)<t}),!(a.length>0)){e.n=2;break}return i=Am(jj),a.forEach(function(e){var t=cp(jj,"products",e.id);if(e.hasVariants){var n=e.variants.map(function(e){return st(st({},e),{},{price:e.originalPrice||e.price,originalPrice:null})});i.update(t,{variants:n,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null})}else i.update(t,{price:e.originalPrice,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null,originalPrice:null})}),e.n=1,i.commit();case 1:Wj.remove(Uj.PRODUCTS),s=n.map(function(e){var t=a.find(function(t){return t.id===e.id});if(t){if(e.hasVariants){var n=e.variants.map(function(e){return st(st({},e),{},{price:e.originalPrice||e.price,originalPrice:null})});return st(st({},e),{},{variants:n,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null})}return st(st({},e),{},{price:e.originalPrice,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null,originalPrice:null})}return e}),r(s),a.length;case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)(function(){ge()},[]);var ye=function(){var e=_n(jn().m(function e(){var t,a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,new Promise(function(e){wn(function(t){return(0,Aj.jsxs)("div",{style:{textAlign:"center"},children:[(0,Aj.jsx)("p",{style:{marginBottom:"15px",fontWeight:"bold"},children:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0625\u0632\u0627\u0644\u0629 \u062c\u0645\u064a\u0639 \u0627\u0644\u062e\u0635\u0648\u0645\u0627\u062a\u061f"}),(0,Aj.jsxs)("p",{style:{marginBottom:"15px",color:"#6b7280"},children:["(",me," \u0645\u0646\u062a\u062c)"]}),(0,Aj.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!0)},style:{padding:"8px 20px",background:"#ef4444",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u0625\u0632\u0627\u0644\u0629"}),(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!1)},style:{padding:"8px 20px",background:"#6b7280",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u0625\u0644\u063a\u0627\u0621"})]})]})},{duration:1/0})});case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return g(!0),e.p=3,t=Am(jj),a=n.filter(function(e){return e.hasDiscount}),a.forEach(function(e){var n=cp(jj,"products",e.id);if(e.hasVariants){var r=e.variants.map(function(e){return st(st({},e),{},{price:e.originalPrice||e.price,originalPrice:null})});t.update(n,{variants:r,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null})}else t.update(n,{price:e.originalPrice,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null,originalPrice:null})}),e.n=4,t.commit();case 4:Wj.remove(Uj.PRODUCTS),i=n.map(function(e){if(e.hasDiscount){if(e.hasVariants){var t=e.variants.map(function(e){return st(st({},e),{},{price:e.originalPrice||e.price,originalPrice:null})});return st(st({},e),{},{variants:t,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null})}return st(st({},e),{},{price:e.originalPrice,hasDiscount:!1,discountType:null,discountValue:null,discountName:null,discountAppliedAt:null,discountExpiresAt:null,originalPrice:null})}return e}),r(i),re(1),wn.success("\u062a\u0645 \u0625\u0632\u0627\u0644\u0629 ".concat(a.length," \u062e\u0635\u0645 \u0628\u0646\u062c\u0627\u062d")),e.n=6;break;case 5:e.p=5,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062e\u0635\u0648\u0645\u0627\u062a");case 6:return e.p=6,g(!1),e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}));return function(){return e.apply(this,arguments)}}();return f?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsx)("div",{className:"dm-container",children:(0,Aj.jsx)("div",{className:"dm-loading",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a..."})})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"dm-container",children:[(0,Aj.jsx)("div",{className:"dm-header",children:(0,Aj.jsx)("h1",{className:"dm-title",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062e\u0635\u0648\u0645\u0627\u062a"})}),(0,Aj.jsxs)("div",{className:"dm-form-section",children:[(0,Aj.jsx)("h2",{children:"\u0625\u0636\u0627\u0641\u0629 \u062e\u0635\u0645 \u062c\u062f\u064a\u062f"}),(0,Aj.jsxs)("div",{className:"dm-form-row",children:[(0,Aj.jsxs)("div",{className:"dm-form-group",children:[(0,Aj.jsx)("label",{children:"\u0646\u0648\u0639 \u0627\u0644\u062e\u0635\u0645:"}),(0,Aj.jsxs)("select",{value:b,onChange:function(e){return t=e.target.value,k(t),Y(""),Z(1),void N([]);var t},children:[(0,Aj.jsx)("option",{value:"product",children:"\u0645\u0646\u062a\u062c\u0627\u062a \u0645\u062d\u062f\u062f\u0629"}),(0,Aj.jsx)("option",{value:"category",children:"\u0641\u0626\u0629 \u0643\u0627\u0645\u0644\u0629"}),(0,Aj.jsx)("option",{value:"brand",children:"\u0645\u0627\u0631\u0643\u0629 \u0643\u0627\u0645\u0644\u0629"})]})]}),(0,Aj.jsxs)("div",{className:"dm-form-group",children:[(0,Aj.jsx)("label",{children:"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062e\u0635\u0645:"}),(0,Aj.jsxs)("select",{value:S,onChange:function(e){return _(e.target.value)},children:[(0,Aj.jsx)("option",{value:"percentage",children:"\u0646\u0633\u0628\u0629 \u0645\u0626\u0648\u064a\u0629 (%)"}),(0,Aj.jsx)("option",{value:"fixed",children:"\u0645\u0628\u0644\u063a \u062b\u0627\u0628\u062a (\u0634\u064a\u0643\u0644)"})]})]})]}),(0,Aj.jsxs)("div",{className:"dm-form-row",children:[(0,Aj.jsxs)("div",{className:"dm-form-group",children:[(0,Aj.jsx)("label",{children:"\u0642\u064a\u0645\u0629 \u0627\u0644\u062e\u0635\u0645:"}),(0,Aj.jsx)("input",{type:"number",value:C,onChange:function(e){return T(e.target.value)},placeholder:"percentage"===S?"\u0645\u062b\u0627\u0644: 25":"\u0645\u062b\u0627\u0644: 50",min:"0",max:"percentage"===S?"99":void 0})]}),(0,Aj.jsxs)("div",{className:"dm-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0633\u0645 \u0627\u0644\u062e\u0635\u0645:"}),(0,Aj.jsx)("input",{type:"text",value:A,onChange:function(e){return D(e.target.value)},placeholder:"\u0645\u062b\u0627\u0644: \u062e\u0635\u0645 \u0627\u0644\u062c\u0645\u0639\u0629 \u0627\u0644\u0628\u064a\u0636\u0627\u0621",maxLength:50})]}),(0,Aj.jsxs)("div",{className:"dm-form-group",children:[(0,Aj.jsx)("label",{children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u062e\u0635\u0645:"}),(0,Aj.jsx)("input",{type:"datetime-local",value:R,onChange:function(e){return O(e.target.value)},min:(new Date).toISOString().slice(0,16),placeholder:"\u0627\u062e\u062a\u0631 \u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u062e\u0635\u0645"}),(0,Aj.jsx)("small",{className:"dm-expiry-note",children:"\u0627\u062a\u0631\u0643\u0647 \u0641\u0627\u0631\u063a\u0627\u064b \u0625\u0630\u0627 \u0643\u0646\u062a \u062a\u0631\u064a\u062f \u062e\u0635\u0645\u0627\u064b \u062f\u0627\u0626\u0645\u0627\u064b"})]})]}),(0,Aj.jsxs)("div",{className:"dm-selection-section",children:[(0,Aj.jsx)("label",{children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0644\u0644\u062e\u0635\u0645:"}),"product"===b&&(0,Aj.jsxs)("div",{className:"dm-search-controls",children:[(0,Aj.jsxs)("div",{className:"dm-search-group",children:[(0,Aj.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062d\u062b \u0628\u0627\u0644\u0627\u0633\u0645\u060c \u0627\u0644\u0641\u0626\u0629\u060c \u0623\u0648 \u0627\u0644\u0645\u0627\u0631\u0643\u0629...",value:X,onChange:function(e){return t=e.target.value,Y(t),void Z(1);var t},className:"dm-search-input"}),(0,Aj.jsxs)("span",{className:"dm-results-count",children:[he()," \u0645\u0646\u062a\u062c"]})]}),pe>1&&(0,Aj.jsxs)("div",{className:"dm-pagination",children:[(0,Aj.jsx)("button",{onClick:function(){return Z(function(e){return Math.max(1,e-1)})},disabled:1===$,className:"dm-page-btn",children:"\u0627\u0644\u0633\u0627\u0628\u0642"}),(0,Aj.jsxs)("span",{className:"dm-page-info",children:["\u0635\u0641\u062d\u0629 ",$," \u0645\u0646 ",pe]}),(0,Aj.jsx)("button",{onClick:function(){return Z(function(e){return Math.min(pe,e+1)})},disabled:$===pe,className:"dm-page-btn",children:"\u0627\u0644\u062a\u0627\u0644\u064a"})]}),(0,Aj.jsxs)("div",{className:"dm-selection-controls",children:[(0,Aj.jsx)("button",{type:"button",onClick:function(){var e=fe().map(function(e){return e.id});N(function(t){var n=h(t);return e.forEach(function(e){n.includes(e)||n.push(e)}),n})},className:"dm-select-btn dm-select-all",children:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0643\u0644 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062d\u0629"}),(0,Aj.jsxs)("button",{type:"button",onClick:function(){if("product"===b){var e=n.filter(function(e){return e.name.toLowerCase().includes(X.toLowerCase())||e.category&&e.category.toLowerCase().includes(X.toLowerCase())||e.brand&&e.brand.toLowerCase().includes(X.toLowerCase())}).map(function(e){return e.id});N(function(t){var n=h(t);return e.forEach(function(e){n.includes(e)||n.push(e)}),n})}},className:"dm-select-btn dm-select-all-global",children:["\u0627\u062e\u062a\u064a\u0627\u0631 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a (",he(),")"]}),(0,Aj.jsx)("button",{type:"button",onClick:function(){var e=fe().map(function(e){return e.id});N(function(t){return t.filter(function(t){return!e.includes(t)})})},className:"dm-select-btn dm-clear-selection",children:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u0646 \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062d\u0629"}),(0,Aj.jsx)("button",{type:"button",onClick:function(){N([])},className:"dm-select-btn dm-clear-all",children:"\u0625\u0644\u063a\u0627\u0621 \u062c\u0645\u064a\u0639 \u0627\u0644\u0627\u062e\u062a\u064a\u0627\u0631\u0627\u062a"}),w.length>0&&(0,Aj.jsxs)("span",{className:"dm-selected-count",children:["\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631 ",w.length," \u0639\u0646\u0635\u0631"]})]})]}),(0,Aj.jsx)("div",{className:"dm-items-grid",children:fe().map(function(e){return(0,Aj.jsxs)("div",{className:"dm-item-card ".concat(w.includes(e.id)?"selected":""),onClick:function(){return function(e){N(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):[].concat(h(t),[e])})}(e.id)},children:[(0,Aj.jsx)("div",{className:"dm-item-image",children:e.images&&e.images.length>0?(0,Aj.jsx)("img",{src:e.images[0],alt:e.name,className:"dm-product-thumbnail",loading:"lazy"}):(0,Aj.jsxs)("div",{className:"dm-no-image",children:[(0,Aj.jsx)("span",{className:"dm-no-image-icon",children:(0,Aj.jsx)("i",{className:"fas fa-camera"})}),(0,Aj.jsx)("span",{className:"dm-no-image-text",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0635\u0648\u0631\u0629"})]})}),(0,Aj.jsxs)("div",{className:"dm-item-info",children:[(0,Aj.jsx)("h4",{children:e.name}),"product"===b&&(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("p",{className:"dm-price-display",children:e.hasVariants?function(t){var n=(null===(t=e.variants)||void 0===t?void 0:t.map(function(e){return parseFloat(e.price)||0}))||[0],r=Math.min.apply(Math,h(n)),a=Math.max.apply(Math,h(n));return r===a?"\u0627\u0644\u0633\u0639\u0631: ".concat(r," \u0634\u064a\u0643\u0644"):"\u0627\u0644\u0633\u0639\u0631: \u0645\u0646 ".concat(r," \u0625\u0644\u0649 ").concat(a," \u0634\u064a\u0643\u0644")}():"\u0627\u0644\u0633\u0639\u0631: ".concat(e.price," \u0634\u064a\u0643\u0644")}),e.hasDiscount&&(0,Aj.jsxs)("span",{className:"dm-current-discount",children:["\u062e\u0635\u0645 \u062d\u0627\u0644\u064a: ",e.discountName]})]})]}),w.includes(e.id)&&(0,Aj.jsx)("span",{className:"dm-selected-check",children:(0,Aj.jsx)("i",{className:"fas fa-check"})})]},e.id)})})]}),(0,Aj.jsx)("button",{className:"dm-apply-btn",onClick:oe,disabled:v||0===w.length,children:v?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u0637\u0628\u064a\u0642...":"\u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u062e\u0635\u0645"})]}),(0,Aj.jsxs)("div",{className:"dm-current-section",children:[(0,Aj.jsxs)("div",{className:"dm-section-header",children:[(0,Aj.jsxs)("h2",{children:["\u0627\u0644\u062e\u0635\u0648\u0645\u0627\u062a \u0627\u0644\u062d\u0627\u0644\u064a\u0629 (",me,")"]}),(0,Aj.jsx)("div",{className:"dm-section-actions",children:me>0&&(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsxs)("button",{className:"dm-refresh-discounts-btn",onClick:de,disabled:v,title:"\u0625\u0639\u0627\u062f\u0629 \u062d\u0633\u0627\u0628 \u0627\u0644\u062e\u0635\u0648\u0645\u0627\u062a",children:[(0,Aj.jsx)("i",{className:"fas fa-sync-alt"})," \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062e\u0635\u0648\u0645\u0627\u062a"]}),(0,Aj.jsx)("button",{className:"dm-remove-all-btn",onClick:ye,disabled:v,children:"\u0625\u0632\u0627\u0644\u0629 \u062c\u0645\u064a\u0639 \u0627\u0644\u062e\u0635\u0648\u0645\u0627\u062a"})]})})]}),(0,Aj.jsxs)("div",{className:"dm-discounts-list",children:[function(){var e=n.filter(function(e){return e.hasDiscount}),t=(ne-1)*ae,r=t+ae;return e.slice(t,r)}().map(function(e){return(0,Aj.jsx)("div",{className:"dm-discount-item",children:(null===M||void 0===M?void 0:M.id)===e.id?(0,Aj.jsxs)("div",{className:"dm-edit-discount-form",children:[(0,Aj.jsx)("div",{className:"dm-edit-form-header",children:(0,Aj.jsxs)("h4",{children:["\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062e\u0635\u0645: ",e.name]})}),(0,Aj.jsxs)("div",{className:"dm-edit-form-row",children:[(0,Aj.jsxs)("div",{className:"dm-edit-form-group",children:[(0,Aj.jsx)("label",{children:"\u0642\u064a\u0645\u0629 \u0627\u0644\u062e\u0635\u0645:"}),(0,Aj.jsx)("input",{type:"number",value:U,onChange:function(e){return z(e.target.value)},placeholder:"percentage"===M.discountType?"\u0645\u062b\u0627\u0644: 25":"\u0645\u062b\u0627\u0644: 50",min:"0",max:"percentage"===M.discountType?"99":void 0})]}),(0,Aj.jsxs)("div",{className:"dm-edit-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0633\u0645 \u0627\u0644\u062e\u0635\u0645:"}),(0,Aj.jsx)("input",{type:"text",value:q,onChange:function(e){return H(e.target.value)},placeholder:"\u0645\u062b\u0627\u0644: \u062e\u0635\u0645 \u0627\u0644\u062c\u0645\u0639\u0629 \u0627\u0644\u0628\u064a\u0636\u0627\u0621",maxLength:50})]}),(0,Aj.jsxs)("div",{className:"dm-edit-form-group",children:[(0,Aj.jsx)("label",{children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u062e\u0635\u0645:"}),(0,Aj.jsx)("input",{type:"datetime-local",value:G,onChange:function(e){return K(e.target.value)},min:(new Date).toISOString().slice(0,16),placeholder:"\u0627\u062e\u062a\u0631 \u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u062e\u0635\u0645"}),(0,Aj.jsx)("small",{className:"dm-expiry-note",children:"\u0627\u062a\u0631\u0643\u0647 \u0641\u0627\u0631\u063a\u0627\u064b \u0625\u0630\u0627 \u0643\u0646\u062a \u062a\u0631\u064a\u062f \u062e\u0635\u0645\u0627\u064b \u062f\u0627\u0626\u0645\u0627\u064b"})]})]}),(0,Aj.jsxs)("div",{className:"dm-edit-form-actions",children:[(0,Aj.jsx)("button",{className:"dm-save-edit-btn",onClick:function(){return ue(e.id)},disabled:v,children:v?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":"\u062d\u0641\u0638 \u0627\u0644\u062a\u0639\u062f\u064a\u0644\u0627\u062a"}),(0,Aj.jsx)("button",{className:"dm-cancel-edit-btn",onClick:le,disabled:v,children:"\u0625\u0644\u063a\u0627\u0621"})]})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("div",{className:"dm-discount-image",children:e.images&&e.images.length>0?(0,Aj.jsx)("img",{src:e.images[0],alt:e.name,className:"dm-discount-thumbnail",loading:"lazy"}):(0,Aj.jsxs)("div",{className:"dm-discount-no-image",children:[(0,Aj.jsx)("span",{className:"dm-discount-no-image-icon",children:(0,Aj.jsx)("i",{className:"fas fa-camera"})}),(0,Aj.jsx)("span",{className:"dm-discount-no-image-text",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0635\u0648\u0631\u0629"})]})}),(0,Aj.jsxs)("div",{className:"dm-discount-info",children:[(0,Aj.jsx)("h4",{children:e.name}),(0,Aj.jsxs)("p",{children:["\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0623\u0635\u0644\u064a:"," ",(0,Aj.jsx)("span",{className:"dm-original-price",children:e.hasVariants?function(t){var n=(null===(t=e.variants)||void 0===t?void 0:t.map(function(e){return parseFloat(e.originalPrice||e.price)||0}))||[0],r=Math.min.apply(Math,h(n)),a=Math.max.apply(Math,h(n));return r===a?"".concat(r," \u0634\u064a\u0643\u0644"):"\u0645\u0646 ".concat(r," \u0625\u0644\u0649 ").concat(a," \u0634\u064a\u0643\u0644")}():"".concat(e.originalPrice," \u0634\u064a\u0643\u0644")})]}),(0,Aj.jsxs)("p",{children:["\u0627\u0644\u0633\u0639\u0631 \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645:"," ",(0,Aj.jsx)("span",{className:"dm-discounted-price",children:e.hasVariants?function(t){var n=(null===(t=e.variants)||void 0===t?void 0:t.map(function(e){return parseFloat(e.price)||0}))||[0],r=Math.min.apply(Math,h(n)),a=Math.max.apply(Math,h(n));return r===a?"".concat(r," \u0634\u064a\u0643\u0644"):"\u0645\u0646 ".concat(r," \u0625\u0644\u0649 ").concat(a," \u0634\u064a\u0643\u0644")}():"".concat(e.price," \u0634\u064a\u0643\u0644")})]}),(0,Aj.jsxs)("p",{children:["\u0627\u0633\u0645 \u0627\u0644\u062e\u0635\u0645: ",e.discountName]}),(0,Aj.jsxs)("p",{children:["\u0642\u064a\u0645\u0629 \u0627\u0644\u062e\u0635\u0645: ",e.discountValue,"percentage"===e.discountType?"%":" \u0634\u064a\u0643\u0644"]}),e.discountExpiresAt&&(0,Aj.jsxs)("p",{children:["\u064a\u0646\u062a\u0647\u064a \u0641\u064a:"," ",(0,Aj.jsx)("span",{className:"dm-expiry-time",children:new Date(1e3*e.discountExpiresAt.seconds).toLocaleString("en-US")})]})]}),(0,Aj.jsxs)("div",{className:"dm-discount-actions",children:[(0,Aj.jsx)("button",{className:"dm-edit-btn",onClick:function(){return function(e){F(e),z(e.discountValue.toString()),H(e.discountName),K(e.discountExpiresAt?new Date(1e3*e.discountExpiresAt.seconds).toISOString().slice(0,16):"")}(e)},disabled:v,children:"\u062a\u0639\u062f\u064a\u0644"}),(0,Aj.jsx)("button",{className:"dm-remove-btn",onClick:function(){return ce(e.id)},disabled:v,children:"\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062e\u0635\u0645"})]})]})},e.id)}),0===me&&(0,Aj.jsx)("div",{className:"dm-no-discounts",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062e\u0635\u0648\u0645\u0627\u062a \u062d\u0627\u0644\u064a\u0629"})]}),ve>1&&(0,Aj.jsxs)("div",{className:"dm-pagination",children:[(0,Aj.jsx)("button",{onClick:function(){return re(function(e){return Math.max(1,e-1)})},disabled:1===ne,className:"dm-page-btn",children:"\u0627\u0644\u0633\u0627\u0628\u0642"}),(0,Aj.jsxs)("span",{className:"dm-page-info",children:["\u0635\u0641\u062d\u0629 ",ne," \u0645\u0646 ",ve]}),(0,Aj.jsx)("button",{onClick:function(){return re(function(e){return Math.min(ve,e+1)})},disabled:ne===ve,className:"dm-page-btn",children:"\u0627\u0644\u062a\u0627\u0644\u064a"})]})]})]})]})};var bS=function(){var t=c((0,e.useState)([]),2),n=t[0],r=t[1],a=c((0,e.useState)(!0),2),i=a[0],s=a[1],o=c((0,e.useState)(!1),2),u=o[0],l=o[1],d=c((0,e.useState)(!1),2),f=d[0],h=d[1],p=c((0,e.useState)(null),2),m=p[0],v=p[1],g=c((0,e.useState)({code:"",discountType:"percentage",discountValue:"",minPurchase:"",maxDiscount:"",allowOnDiscounted:!1,usageLimit:"",usedCount:0,isActive:!0,expiresAt:""}),2),y=g[0],b=g[1];(0,e.useEffect)(function(){k()},[]);var k=function(){var e=_n(jn().m(function e(){var t,n;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return s(!0),e.p=1,e.n=2,vm(op(jj,"coupons"));case 2:t=e.v,n=[],t.forEach(function(e){n.push(st({id:e.id},e.data()))}),r(n),e.n=4;break;case 3:e.p=3,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a");case 4:return e.p=4,s(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),x=function(e){var t=e.target,n=t.name,r=t.value,a=t.type,i=t.checked;b(function(e){return st(st({},e),{},at({},n,"checkbox"===a?i:r))})},w=function(){var e=_n(jn().m(function e(t){var r,a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),l(!0),e.p=1,r=y.code.toUpperCase().trim(),/^[A-Z0-9]+$/.test(r)){e.n=2;break}return wn.error("\u0631\u0645\u0632 \u0627\u0644\u0643\u0648\u0628\u0648\u0646 \u064a\u062c\u0628 \u0623\u0646 \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u062d\u0631\u0648\u0641 \u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629 \u0643\u0628\u064a\u0631\u0629 \u0648\u0623\u0631\u0642\u0627\u0645 \u0641\u0642\u0637"),l(!1),e.a(2);case 2:if(m){e.n=3;break}if(a=n.find(function(e){return e.code===r}),!a){e.n=3;break}return wn.error("\u0631\u0645\u0632 \u0627\u0644\u0643\u0648\u0628\u0648\u0646 \u0645\u0648\u062c\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644"),l(!1),e.a(2);case 3:if(i={code:r,discountType:y.discountType,discountValue:parseFloat(y.discountValue),minPurchase:y.minPurchase?parseFloat(y.minPurchase):0,maxDiscount:"percentage"===y.discountType&&y.maxDiscount?parseFloat(y.maxDiscount):null,allowOnDiscounted:y.allowOnDiscounted,usageLimit:y.usageLimit?parseInt(y.usageLimit):null,usedCount:m?y.usedCount:0,isActive:y.isActive,expiresAt:y.expiresAt?new Date(y.expiresAt):null,updatedAt:Ri.now()},m){e.n=5;break}return i.createdAt=Ri.now(),e.n=4,km(op(jj,"coupons"),i);case 4:e.n=6;break;case 5:return e.n=6,ym(cp(jj,"coupons",m.id),i);case 6:return e.n=7,k();case 7:j(),h(!1),wn.success(m?"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0643\u0648\u0628\u0648\u0646 \u0628\u0646\u062c\u0627\u062d":"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u0648\u0628\u0648\u0646 \u0628\u0646\u062c\u0627\u062d"),e.n=9;break;case 8:e.p=8,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062d\u0641\u0638 \u0627\u0644\u0643\u0648\u0628\u0648\u0646");case 9:return e.p=9,l(!1),e.f(9);case 10:return e.a(2)}},e,null,[[1,8,9,10]])}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=_n(jn().m(function e(t){return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,new Promise(function(e){wn(function(t){return(0,Aj.jsxs)("div",{style:{textAlign:"center"},children:[(0,Aj.jsx)("p",{style:{marginBottom:"15px",fontWeight:"bold"},children:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0643\u0648\u0628\u0648\u0646\u061f"}),(0,Aj.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!0)},style:{padding:"8px 20px",background:"#ef4444",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u062d\u0630\u0641"}),(0,Aj.jsx)("button",{onClick:function(){wn.dismiss(t.id),e(!1)},style:{padding:"8px 20px",background:"#6b7280",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u0625\u0644\u063a\u0627\u0621"})]})]})},{duration:1/0})});case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return e.p=2,e.n=3,bm(cp(jj,"coupons",t));case 3:return e.n=4,k();case 4:wn.success("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0643\u0648\u0628\u0648\u0646 \u0628\u0646\u062c\u0627\u062d"),e.n=6;break;case 5:e.p=5,e.v,wn.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u0643\u0648\u0628\u0648\u0646");case 6:return e.a(2)}},e,null,[[2,5]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){b({code:"",discountType:"percentage",discountValue:"",minPurchase:"",maxDiscount:"",allowOnDiscounted:!1,usageLimit:"",usedCount:0,isActive:!0,expiresAt:""}),v(null)};return i?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsx)("div",{className:"coupon-manager",children:(0,Aj.jsx)("div",{className:"cm-loading",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a..."})})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"coupon-manager",children:[(0,Aj.jsx)("div",{className:"cm-header",children:(0,Aj.jsx)("h1",{className:"cm-title",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a"})}),!f&&(0,Aj.jsx)("div",{className:"cm-add-section",children:(0,Aj.jsx)("button",{className:"cm-add-button",onClick:function(){return h(!0)},children:"+ \u0625\u0636\u0627\u0641\u0629 \u0643\u0648\u0628\u0648\u0646 \u062c\u062f\u064a\u062f"})}),f&&(0,Aj.jsxs)("form",{onSubmit:w,className:"cm-form",children:[(0,Aj.jsx)("h2",{children:m?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0643\u0648\u0628\u0648\u0646":"\u0625\u0636\u0627\u0641\u0629 \u0643\u0648\u0628\u0648\u0646 \u062c\u062f\u064a\u062f"}),(0,Aj.jsxs)("div",{className:"cm-form-row",children:[(0,Aj.jsxs)("div",{className:"cm-form-group",children:[(0,Aj.jsx)("label",{children:"\u0631\u0645\u0632 \u0627\u0644\u0643\u0648\u0628\u0648\u0646:"}),(0,Aj.jsx)("input",{type:"text",name:"code",value:y.code,onChange:x,required:!0,placeholder:"\u0645\u062b\u0627\u0644: SUMMER2024",style:{textTransform:"uppercase"},disabled:m}),(0,Aj.jsx)("small",{children:"\u062d\u0631\u0648\u0641 \u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629 \u0643\u0628\u064a\u0631\u0629 \u0648\u0623\u0631\u0642\u0627\u0645 \u0641\u0642\u0637 (\u0628\u062f\u0648\u0646 \u0645\u0633\u0627\u0641\u0627\u062a)"})]}),(0,Aj.jsxs)("div",{className:"cm-form-group",children:[(0,Aj.jsx)("label",{children:"\u0646\u0648\u0639 \u0627\u0644\u062e\u0635\u0645:"}),(0,Aj.jsxs)("select",{name:"discountType",value:y.discountType,onChange:x,required:!0,children:[(0,Aj.jsx)("option",{value:"percentage",children:"\u0646\u0633\u0628\u0629 \u0645\u0626\u0648\u064a\u0629 (%)"}),(0,Aj.jsx)("option",{value:"fixed",children:"\u0645\u0628\u0644\u063a \u062b\u0627\u0628\u062a (\u0634\u064a\u0643\u0644)"})]})]})]}),(0,Aj.jsxs)("div",{className:"cm-form-row",children:[(0,Aj.jsxs)("div",{className:"cm-form-group",children:[(0,Aj.jsx)("label",{children:"\u0642\u064a\u0645\u0629 \u0627\u0644\u062e\u0635\u0645:"}),(0,Aj.jsx)("input",{type:"number",name:"discountValue",value:y.discountValue,onChange:x,required:!0,min:"0",step:"percentage"===y.discountType?"1":"0.01",max:"percentage"===y.discountType?"100":void 0,placeholder:"percentage"===y.discountType?"\u0645\u062b\u0627\u0644: 25":"\u0645\u062b\u0627\u0644: 50"}),(0,Aj.jsx)("small",{children:"percentage"===y.discountType?"\u0627\u0644\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0626\u0648\u064a\u0629 \u0644\u0644\u062e\u0635\u0645 (0-100)":"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u062b\u0627\u0628\u062a \u0644\u0644\u062e\u0635\u0645 \u0628\u0627\u0644\u0634\u064a\u0643\u0644"})]}),(0,Aj.jsxs)("div",{className:"cm-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649 \u0644\u0644\u0634\u0631\u0627\u0621 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a):"}),(0,Aj.jsx)("input",{type:"number",name:"minPurchase",value:y.minPurchase,onChange:x,min:"0",step:"0.01",placeholder:"\u0645\u062b\u0627\u0644: 100"}),(0,Aj.jsx)("small",{children:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649 \u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0637\u0644\u0628 \u0644\u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u0643\u0648\u0628\u0648\u0646"})]})]}),"percentage"===y.discountType&&(0,Aj.jsx)("div",{className:"cm-form-row",children:(0,Aj.jsxs)("div",{className:"cm-form-group",children:[(0,Aj.jsx)("label",{children:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u062e\u0635\u0645 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a):"}),(0,Aj.jsx)("input",{type:"number",name:"maxDiscount",value:y.maxDiscount,onChange:x,min:"0",step:"0.01",placeholder:"\u0645\u062b\u0627\u0644: 200"}),(0,Aj.jsx)("small",{children:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u062e\u0635\u0645 \u0628\u0627\u0644\u0634\u064a\u0643\u0644"})]})}),(0,Aj.jsxs)("div",{className:"cm-form-row",children:[(0,Aj.jsxs)("div",{className:"cm-form-group",children:[(0,Aj.jsx)("label",{children:"\u062d\u062f \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a):"}),(0,Aj.jsx)("input",{type:"number",name:"usageLimit",value:y.usageLimit,onChange:x,min:"1",placeholder:"\u0645\u062b\u0627\u0644: 50"}),(0,Aj.jsx)("small",{children:"\u0639\u062f\u062f \u0627\u0644\u0645\u0631\u0627\u062a \u0627\u0644\u062a\u064a \u064a\u0645\u0643\u0646 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0643\u0648\u0628\u0648\u0646 \u0641\u064a\u0647\u0627"})]}),(0,Aj.jsxs)("div",{className:"cm-form-group",children:[(0,Aj.jsx)("label",{children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a):"}),(0,Aj.jsx)("input",{type:"datetime-local",name:"expiresAt",value:y.expiresAt,onChange:x,min:(new Date).toISOString().slice(0,16)}),(0,Aj.jsx)("small",{children:"\u0627\u062a\u0631\u0643\u0647 \u0641\u0627\u0631\u063a\u0627\u064b \u0625\u0630\u0627 \u0643\u0646\u062a \u062a\u0631\u064a\u062f \u0643\u0648\u0628\u0648\u0646 \u062f\u0627\u0626\u0645"})]})]}),(0,Aj.jsx)("div",{className:"cm-form-group",children:(0,Aj.jsxs)("label",{className:"cm-checkbox-label",children:[(0,Aj.jsx)("input",{type:"checkbox",name:"allowOnDiscounted",checked:y.allowOnDiscounted,onChange:x}),(0,Aj.jsx)("span",{children:"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u0643\u0648\u0628\u0648\u0646 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u062a\u064a \u0644\u062f\u064a\u0647\u0627 \u062e\u0635\u0645 \u0645\u0633\u0628\u0642"})]})}),(0,Aj.jsx)("div",{className:"cm-form-group",children:(0,Aj.jsxs)("label",{className:"cm-checkbox-label",children:[(0,Aj.jsx)("input",{type:"checkbox",name:"isActive",checked:y.isActive,onChange:x}),(0,Aj.jsx)("span",{children:"\u0627\u0644\u0643\u0648\u0628\u0648\u0646 \u0646\u0634\u0637"})]})}),(0,Aj.jsxs)("div",{className:"cm-form-actions",children:[(0,Aj.jsx)("button",{type:"submit",className:"cm-save-btn",disabled:u,children:u?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":m?"\u062a\u062d\u062f\u064a\u062b":"\u0625\u0636\u0627\u0641\u0629"}),(0,Aj.jsx)("button",{type:"button",className:"cm-cancel-btn",onClick:function(){j(),h(!1)},disabled:u,children:"\u0625\u0644\u063a\u0627\u0621"})]})]}),(0,Aj.jsxs)("div",{className:"cm-coupons-section",children:[(0,Aj.jsxs)("h2",{children:["\u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a \u0627\u0644\u062d\u0627\u0644\u064a\u0629 (",n.length,")"]}),0===n.length?(0,Aj.jsx)("div",{className:"cm-no-coupons",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0643\u0648\u0628\u0648\u0646\u0627\u062a"}):(0,Aj.jsx)("div",{className:"cm-coupons-grid",children:n.map(function(e){var t=function(e){return!!e.expiresAt&&new Date(1e3*e.expiresAt.seconds)<new Date}(e),n=function(e){return!!e.usageLimit&&(e.usedCount||0)>=e.usageLimit}(e),r=!e.isActive;return(0,Aj.jsxs)("div",{className:"cm-coupon-card ".concat(t||n||r?"cm-coupon-disabled":""),children:[(0,Aj.jsxs)("div",{className:"cm-coupon-header",children:[(0,Aj.jsx)("h3",{className:"cm-coupon-code",children:e.code}),(0,Aj.jsxs)("div",{className:"cm-coupon-badges",children:[r&&(0,Aj.jsx)("span",{className:"cm-badge cm-badge-inactive",children:"\u063a\u064a\u0631 \u0646\u0634\u0637"}),t&&(0,Aj.jsx)("span",{className:"cm-badge cm-badge-expired",children:"\u0645\u0646\u062a\u0647\u064a"}),n&&(0,Aj.jsx)("span",{className:"cm-badge cm-badge-used",children:"\u0645\u0633\u062a\u0647\u0644\u0643"}),!t&&!n&&e.isActive&&(0,Aj.jsx)("span",{className:"cm-badge cm-badge-active",children:"\u0646\u0634\u0637"})]})]}),(0,Aj.jsxs)("div",{className:"cm-coupon-details",children:[(0,Aj.jsxs)("p",{className:"cm-coupon-discount",children:[(0,Aj.jsx)("strong",{children:"\u0627\u0644\u062e\u0635\u0645:"})," ",e.discountValue,"percentage"===e.discountType?"%":" \u0634\u064a\u0643\u0644"]}),e.minPurchase>0&&(0,Aj.jsxs)("p",{children:[(0,Aj.jsx)("strong",{children:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649:"})," ",e.minPurchase," ","\u0634\u064a\u0643\u0644"]}),e.maxDiscount&&(0,Aj.jsxs)("p",{children:[(0,Aj.jsx)("strong",{children:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649:"})," ",e.maxDiscount," ","\u0634\u064a\u0643\u0644"]}),(0,Aj.jsxs)("p",{children:[(0,Aj.jsx)("strong",{children:"\u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0645\u062e\u0635\u0648\u0645\u0629:"})," ",e.allowOnDiscounted?"\u0646\u0639\u0645":"\u0644\u0627"]}),e.usageLimit&&(0,Aj.jsxs)("p",{children:[(0,Aj.jsx)("strong",{children:"\u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645:"})," ",e.usedCount||0," /"," ",e.usageLimit]}),!e.usageLimit&&(0,Aj.jsxs)("p",{children:[(0,Aj.jsx)("strong",{children:"\u0645\u0631\u0627\u062a \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645:"})," ",e.usedCount||0]}),e.expiresAt&&(0,Aj.jsxs)("p",{children:[(0,Aj.jsx)("strong",{children:"\u064a\u0646\u062a\u0647\u064a \u0641\u064a:"})," ",new Date(1e3*e.expiresAt.seconds).toLocaleString("en-US")]})]}),(0,Aj.jsxs)("div",{className:"cm-coupon-actions",children:[(0,Aj.jsx)("button",{className:"cm-edit-btn",onClick:function(){return function(e){v(e),b({code:e.code,discountType:e.discountType,discountValue:e.discountValue,minPurchase:e.minPurchase||"",maxDiscount:e.maxDiscount||"",allowOnDiscounted:e.allowOnDiscounted||!1,usageLimit:e.usageLimit||"",usedCount:e.usedCount||0,isActive:e.isActive,expiresAt:e.expiresAt?new Date(1e3*e.expiresAt.seconds).toISOString().slice(0,16):""}),h(!0)}(e)},children:"\u062a\u0639\u062f\u064a\u0644"}),(0,Aj.jsx)("button",{className:"cm-delete-btn",onClick:function(){return N(e.id)},children:"\u062d\u0630\u0641"})]})]},e.id)})})]})]})]})};function kS(e){var t={"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631":"#FF9800","\u0642\u064a\u062f \u0627\u0644\u062a\u0646\u0641\u064a\u0630":"#2196F3","\u0642\u064a\u062f \u0627\u0644\u062a\u0648\u0635\u064a\u0644":"#9C27B0","\u0645\u0646\u062c\u0632":"#4CAF50","\u0645\u0631\u0641\u0648\u0636":"#F44336","\u063a\u064a\u0631 \u0645\u062d\u062f\u062f":"#9E9E9E"};return t[e]||t["\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]}function xS(e){return["#C2A26C","#C0C0C0","#CD7F32","#4CAF50","#2196F3"][e]||"#9E9E9E"}var wS=function(){var t=c((0,e.useState)(!0),2),n=t[0],r=t[1],a=c((0,e.useState)(!1),2),i=a[0],s=a[1],o=c((0,e.useState)(null),2),u=o[0],l=o[1],d=c((0,e.useState)(null),2),f=d[0],p=d[1],m=c((0,e.useState)("all"),2),v=m[0],g=m[1],y=c((0,e.useState)(""),2),b=y[0],k=y[1],x=c((0,e.useState)(!1),2),w=x[0],N=x[1],j=c((0,e.useState)(1),2),S=j[0],_=j[1],E=c((0,e.useState)(10),1)[0],C=c((0,e.useState)(""),2),T=C[0],I=C[1],A=c((0,e.useState)(""),2),D=A[0],P=A[1],R=c((0,e.useState)(""),2),O=R[0],L=R[1],M=c((0,e.useState)(""),2),F=M[0],V=M[1],U=c((0,e.useState)(""),2),z=U[0],B=U[1],q=c((0,e.useState)({totalOrders:0,totalRevenue:0,totalProducts:0,totalCustomers:0,totalFeedbacks:0,totalCategories:0,totalBrands:0,ordersByStatus:{},ordersByMonth:{},allOrdersByMonth:{},topProducts:[],recentActivity:[],mostOrderedProducts:[],allActivities:[],outOfStockProducts:0,pendingOrders:0,preparingOrders:0,returnedOrders:0,completedOrders:0,allOrders:[],allProducts:[],totalDeliveryFees:0,revenueWithoutDelivery:0}),2),H=q[0],W=q[1],G=function(){var e=_n(jn().m(function e(){var t,n,a,i,o,u,d,f,m,g,y,k,x,w,N,j,S,_,E,C,A,D,P,R,O,L,M,F,V,U,z,B,q,H,G,Q,X,Y,J=arguments;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return J.length>0&&void 0!==J[0]&&J[0]?s(!0):r(!0),p(null),e.p=1,e.n=2,Promise.all([vm(op(jj,"orders")),vm(op(jj,"products")),vm(op(jj,"feedbacks")),vm(op(jj,"categories")),vm(op(jj,"brands"))]);case 2:t=e.v,n=c(t,5),a=n[0],i=n[1],o=n[2],u=n[3],d=n[4],f=[],a.forEach(function(e){f.push(st({id:e.id},e.data()))}),m=[],i.forEach(function(e){m.push(st({id:e.id},e.data()))}),g=[],o.forEach(function(e){g.push(st({id:e.id},e.data()))}),y=[],u.forEach(function(e){y.push(st({id:e.id},e.data()))}),k=[],d.forEach(function(e){k.push(st({id:e.id},e.data()))}),x=f.length,w=f.filter(function(e){return"\u0645\u0646\u062c\u0632"===e.status}),N=w.reduce(function(e,t){return e+(t.total||0)},0),j=w.reduce(function(e,t){return e+(t.deliveryFee||0)},0),S=N-j,_=m.length,E=g.length,C=y.length,A=k.length,D=m.filter(function(e){return 0===(e.stock||0)}).length,P={},R=f.filter(function(e){return"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"===e.status}).length,O=f.filter(function(e){return"\u0642\u064a\u062f \u0627\u0644\u062a\u0646\u0641\u064a\u0630"===e.status}).length,L=f.filter(function(e){return"\u0645\u0631\u0641\u0648\u0636"===e.status}).length,M=f.filter(function(e){return"\u0645\u0646\u062c\u0632"===e.status}).length,f.forEach(function(e){var t=e.status||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f";P[t]=(P[t]||0)+1}),F={},f.forEach(function(e){if(e.createdAt){var t=(e.createdAt.toDate?e.createdAt.toDate():new Date(e.createdAt)).toLocaleDateString("en-US",{year:"numeric",month:"long"});F[t]=(F[t]||0)+1}}),V=Object.keys(F).sort(function(e,t){var n=new Date(e);return new Date(t)-n}),!T&&V.length>0&&(U=(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long"}),I(V.includes(U)?U:V[0])),z=T&&F[T]?at({},T,F[T]):F,B={},f.forEach(function(e){e.items&&e.items.forEach(function(e){var t=e.id||e.productId;t&&(B[t]=(B[t]||0)+(e.quantity||1))})}),q=Object.entries(B).map(function(e){var t=c(e,2),n=t[0],r=t[1],a=m.find(function(e){return e.id===n});return{id:n,name:a?a.name:"\u0645\u0646\u062a\u062c \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641",orderCount:r}}).sort(function(e,t){return t.orderCount-e.orderCount}).slice(0,5),H=m.map(function(e){return st(st({},e),{},{orderCount:B[e.id]||0})}).filter(function(e){return e.orderCount>0}).sort(function(e,t){return t.orderCount-e.orderCount}).slice(0,8),0===H.length&&m.length>0&&(H=m.slice(0,6).map(function(e,t){return st(st({},e),{},{orderCount:Math.max(1,Math.floor(20*Math.random())+5)})})),G=[].concat(h(f.map(function(e){return{type:"order",title:"\u0637\u0644\u0628 \u062c\u062f\u064a\u062f #".concat(e.id),description:"\u0637\u0644\u0628 \u0645\u0646 ".concat(e.customerName||"\u0639\u0645\u064a\u0644"," \u0628\u0642\u064a\u0645\u0629 ").concat(e.total||0," \u0634\u064a\u0643\u0644"),date:e.createdAt,status:e.status}})),h(g.map(function(e){return{type:"feedback",title:"\u062a\u0642\u064a\u064a\u0645 \u062c\u062f\u064a\u062f",description:"\u062a\u0642\u064a\u064a\u0645 \u0645\u0646 ".concat(e.name," \u0644\u0644\u0645\u0646\u062a\u062c"),date:e.createdAt,status:e.status}}))).sort(function(e,t){var n,r,a=null!==(n=e.date)&&void 0!==n&&n.toDate?e.date.toDate():new Date(e.date);return(null!==(r=t.date)&&void 0!==r&&r.toDate?t.date.toDate():new Date(t.date))-a}),Q=K(G,v,b).slice(0,5),X=new Set(f.map(function(e){return e.customerName}).filter(Boolean)),Y=X.size,W({totalOrders:x,totalRevenue:N,totalProducts:_,totalCustomers:Y,totalFeedbacks:E,totalCategories:C,totalBrands:A,ordersByStatus:P,ordersByMonth:z,allOrdersByMonth:F,topProducts:q,recentActivity:Q,mostOrderedProducts:H,allActivities:G,outOfStockProducts:D,pendingOrders:R,preparingOrders:O,returnedOrders:L,completedOrders:M,allOrders:f,allProducts:m,totalDeliveryFees:j,revenueWithoutDelivery:S}),l(new Date),e.n=4;break;case 3:e.p=3,e.v,p("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a");case 4:return e.p=4,r(!1),s(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),K=function(e,t,n){var r=new Date;switch(t){case"today":var a=new Date(r.getFullYear(),r.getMonth(),r.getDate());return e.filter(function(e){var t;return(null!==(t=e.date)&&void 0!==t&&t.toDate?e.date.toDate():new Date(e.date))>=a});case"month":var i=new Date(r.getFullYear(),r.getMonth(),1);return e.filter(function(e){var t;return(null!==(t=e.date)&&void 0!==t&&t.toDate?e.date.toDate():new Date(e.date))>=i});case"custom":if(!n)return e;var s=new Date(n),o=new Date(s.getFullYear(),s.getMonth(),s.getDate()),c=new Date(s.getFullYear(),s.getMonth(),s.getDate()+1);return e.filter(function(e){var t,n=null!==(t=e.date)&&void 0!==t&&t.toDate?e.date.toDate():new Date(e.date);return n>=o&&n<c});default:return e}};(0,e.useEffect)(function(){if(H.allActivities.length>0){var e=K(H.allActivities,v,b);W(function(t){return st(st({},t),{},{recentActivity:e.slice(0,5)})})}},[v,b]),(0,e.useEffect)(function(){if(H.allOrdersByMonth&&Object.keys(H.allOrdersByMonth).length>0){var e=T&&H.allOrdersByMonth[T]?at({},T,H.allOrdersByMonth[T]):H.allOrdersByMonth;W(function(t){return st(st({},t),{},{ordersByMonth:e})})}},[T,H.allOrdersByMonth]),(0,e.useEffect)(function(){G()},[]);var Q=function(e){return e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"},X=function(e){return new Intl.NumberFormat("en-US").format(e)},Y=function(e){return e.hasVariants&&e.variants&&e.variants.length>0?e.variants.reduce(function(e,t){return e+(t.stock||0)},0):e.stock||0},J=function(e){g(e),"custom"!==e&&k("")},$=function(){if(!D||!O)return H.allOrders;var e=new Date(D);e.setHours(0,0,0,0);var t=new Date(O);return t.setHours(23,59,59,999),H.allOrders.filter(function(n){if(!n.createdAt)return!1;var r=n.createdAt.toDate?n.createdAt.toDate():new Date(n.createdAt);return r>=e&&r<=t})},Z={ordersCount:$().length,returnedCount:$().filter(function(e){return"\u0645\u0631\u0641\u0648\u0636"===e.status}).length,totalAmount:$().filter(function(e){return"\u0645\u0646\u062c\u0632"===e.status}).reduce(function(e,t){return e+(t.total||0)},0),deliveryFees:$().filter(function(e){return"\u0645\u0646\u062c\u0632"===e.status}).reduce(function(e,t){return e+(t.deliveryFee||0)},0)},ee=function(){var e=K(H.allActivities,v,b),t=(S-1)*E;return e.slice(t,t+E)},te=function(){var e=K(H.allActivities,v,b);return Math.ceil(e.length/E)},ne=function(e){_(e)},re=function(){N(!1),_(1)};return n?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsx)("div",{className:"statistics-page",children:(0,Aj.jsxs)("div",{className:"stats-loading-container",children:[(0,Aj.jsx)("div",{className:"stats-loading-spinner"}),(0,Aj.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a..."})]})})]}):f&&!i?(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsx)("div",{className:"statistics-page",children:(0,Aj.jsxs)("div",{className:"stats-error-container",children:[(0,Aj.jsx)("div",{className:"stats-error-icon",children:(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})}),(0,Aj.jsx)("h2",{children:"\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a"}),(0,Aj.jsx)("p",{children:f}),(0,Aj.jsx)("button",{className:"stats-btn primary",onClick:function(){return G(!0)},children:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"})]})})]}):(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"statistics-page",children:[(0,Aj.jsxs)("header",{className:"stats-header",children:[(0,Aj.jsxs)("h1",{children:[(0,Aj.jsx)("i",{className:"fas fa-chart-bar"})," \u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639"]}),(0,Aj.jsxs)("div",{className:"stats-actions",children:[(0,Aj.jsx)("button",{className:"stats-btn primary",onClick:function(){return G(!0)},disabled:i,title:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",children:i?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...":(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)("i",{className:"fas fa-sync-alt"})," \u062a\u062d\u062f\u064a\u062b"]})}),u&&(0,Aj.jsxs)("span",{className:"stats-last-update",children:["\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b: ",u.toLocaleTimeString("en-US")]})]})]}),(0,Aj.jsxs)("div",{className:"stats-status ".concat(i?"updating":"live"),children:[(0,Aj.jsx)("span",{className:"stats-status-dot"}),i?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...":"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0645\u062d\u062f\u062b\u0629"]}),(0,Aj.jsxs)("section",{className:"stats-metrics-grid",children:[(0,Aj.jsxs)("div",{className:"stats-card metric-card primary",children:[(0,Aj.jsx)("div",{className:"metric-icon",children:(0,Aj.jsx)("i",{className:"fas fa-box"})}),(0,Aj.jsxs)("div",{className:"metric-content",children:[(0,Aj.jsx)("div",{className:"metric-value",children:X(H.totalOrders)}),(0,Aj.jsx)("div",{className:"metric-label",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"})]})]}),(0,Aj.jsxs)("div",{className:"stats-card metric-card accent",children:[(0,Aj.jsx)("div",{className:"metric-icon",children:(0,Aj.jsx)("i",{className:"fas fa-dollar-sign"})}),(0,Aj.jsxs)("div",{className:"metric-content",children:[(0,Aj.jsxs)("div",{className:"metric-value",children:[X(H.totalRevenue)," \u0634\u064a\u0643\u0644"]}),(0,Aj.jsx)("div",{className:"metric-label",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a (\u0645\u0639 \u0627\u0644\u062a\u0648\u0635\u064a\u0644)"})]})]}),(0,Aj.jsxs)("div",{className:"stats-card metric-card success",children:[(0,Aj.jsx)("div",{className:"metric-icon",children:(0,Aj.jsx)("i",{className:"fas fa-dollar-sign"})}),(0,Aj.jsxs)("div",{className:"metric-content",children:[(0,Aj.jsxs)("div",{className:"metric-value",children:[X(H.revenueWithoutDelivery)," \u0634\u064a\u0643\u0644"]}),(0,Aj.jsx)("div",{className:"metric-label",children:"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a (\u0628\u062f\u0648\u0646 \u0627\u0644\u062a\u0648\u0635\u064a\u0644)"})]})]}),(0,Aj.jsxs)("div",{className:"stats-card metric-card info",children:[(0,Aj.jsx)("div",{className:"metric-icon",children:(0,Aj.jsx)("i",{className:"fas fa-truck"})}),(0,Aj.jsxs)("div",{className:"metric-content",children:[(0,Aj.jsxs)("div",{className:"metric-value",children:[X(H.totalDeliveryFees)," \u0634\u064a\u0643\u0644"]}),(0,Aj.jsx)("div",{className:"metric-label",children:"\u0631\u0633\u0648\u0645 \u0627\u0644\u062a\u0648\u0635\u064a\u0644"})]})]}),(0,Aj.jsxs)("div",{className:"stats-card metric-card warning",children:[(0,Aj.jsx)("div",{className:"metric-icon",children:(0,Aj.jsx)("i",{className:"fas fa-hourglass-half"})}),(0,Aj.jsxs)("div",{className:"metric-content",children:[(0,Aj.jsx)("div",{className:"metric-value",children:X(H.pendingOrders)}),(0,Aj.jsx)("div",{className:"metric-label",children:"\u0637\u0644\u0628\u0627\u062a \u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"})]})]}),(0,Aj.jsxs)("div",{className:"stats-card metric-card info",children:[(0,Aj.jsx)("div",{className:"metric-icon",children:(0,Aj.jsx)("i",{className:"fas fa-cog"})}),(0,Aj.jsxs)("div",{className:"metric-content",children:[(0,Aj.jsx)("div",{className:"metric-value",children:X(H.preparingOrders)}),(0,Aj.jsx)("div",{className:"metric-label",children:"\u0637\u0644\u0628\u0627\u062a \u0642\u064a\u062f \u0627\u0644\u062a\u0646\u0641\u064a\u0630"})]})]}),(0,Aj.jsxs)("div",{className:"stats-card metric-card success",children:[(0,Aj.jsx)("div",{className:"metric-icon",children:(0,Aj.jsx)("i",{className:"fas fa-check-circle"})}),(0,Aj.jsxs)("div",{className:"metric-content",children:[(0,Aj.jsx)("div",{className:"metric-value",children:X(H.completedOrders)}),(0,Aj.jsx)("div",{className:"metric-label",children:"\u0637\u0644\u0628\u0627\u062a \u0645\u0643\u062a\u0645\u0644\u0629"})]})]}),(0,Aj.jsxs)("div",{className:"stats-card metric-card warning",children:[(0,Aj.jsx)("div",{className:"metric-icon",children:(0,Aj.jsx)("i",{className:"fas fa-times-circle"})}),(0,Aj.jsxs)("div",{className:"metric-content",children:[(0,Aj.jsx)("div",{className:"metric-value",children:X(H.returnedOrders)}),(0,Aj.jsx)("div",{className:"metric-label",children:"\u0637\u0644\u0628\u0627\u062a \u0645\u0631\u0641\u0648\u0636\u0629"})]})]}),(0,Aj.jsxs)("div",{className:"stats-card metric-card success",children:[(0,Aj.jsx)("div",{className:"metric-icon",children:(0,Aj.jsx)("i",{className:"fas fa-chart-line"})}),(0,Aj.jsxs)("div",{className:"metric-content",children:[(0,Aj.jsx)("div",{className:"metric-value",children:X(H.totalProducts)}),(0,Aj.jsx)("div",{className:"metric-label",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"})]})]}),(0,Aj.jsxs)("div",{className:"stats-card metric-card warning",children:[(0,Aj.jsx)("div",{className:"metric-icon",children:(0,Aj.jsx)("i",{className:"fas fa-inbox"})}),(0,Aj.jsxs)("div",{className:"metric-content",children:[(0,Aj.jsx)("div",{className:"metric-value",children:X(H.outOfStockProducts)}),(0,Aj.jsx)("div",{className:"metric-label",children:"\u0645\u0646\u062a\u062c\u0627\u062a \u0646\u0641\u062f\u062a \u0645\u0646 \u0627\u0644\u0645\u062e\u0632\u0648\u0646"})]})]})]}),(0,Aj.jsxs)("section",{className:"stats-analytics",children:[(0,Aj.jsxs)("div",{className:"stats-card chart-card",children:[(0,Aj.jsxs)("h3",{children:[(0,Aj.jsx)("i",{className:"fas fa-calendar-alt"})," \u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629"]}),(0,Aj.jsxs)("div",{className:"date-range-filter",children:[(0,Aj.jsxs)("div",{className:"date-inputs",children:[(0,Aj.jsxs)("div",{className:"date-input-group",children:[(0,Aj.jsx)("label",{htmlFor:"date-from",children:"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e:"}),(0,Aj.jsx)("input",{type:"date",id:"date-from",value:D,onChange:function(e){return P(e.target.value)},className:"date-picker"})]}),(0,Aj.jsxs)("div",{className:"date-input-group",children:[(0,Aj.jsx)("label",{htmlFor:"date-to",children:"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e:"}),(0,Aj.jsx)("input",{type:"date",id:"date-to",value:O,onChange:function(e){return L(e.target.value)},className:"date-picker"})]})]}),D&&O&&(0,Aj.jsxs)("div",{className:"date-range-results",children:[(0,Aj.jsxs)("div",{className:"range-stat",children:[(0,Aj.jsx)("span",{className:"range-stat-label",children:"\u0639\u062f\u062f \u0627\u0644\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0645\u0631\u0633\u0644\u0629:"}),(0,Aj.jsx)("span",{className:"range-stat-value",children:Z.ordersCount})]}),(0,Aj.jsxs)("div",{className:"range-stat",children:[(0,Aj.jsx)("span",{className:"range-stat-label",children:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0645\u0631\u0641\u0648\u0636\u0629:"}),(0,Aj.jsx)("span",{className:"range-stat-value danger",children:Z.returnedCount})]}),(0,Aj.jsxs)("div",{className:"range-stat",children:[(0,Aj.jsx)("span",{className:"range-stat-label",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a (\u0645\u0639 \u0627\u0644\u062a\u0648\u0635\u064a\u0644):"}),(0,Aj.jsxs)("span",{className:"range-stat-value success",children:[X(Z.totalAmount)," \u0634\u064a\u0643\u0644"]})]}),(0,Aj.jsxs)("div",{className:"range-stat",children:[(0,Aj.jsx)("span",{className:"range-stat-label",children:"\u0631\u0633\u0648\u0645 \u0627\u0644\u062a\u0648\u0635\u064a\u0644:"}),(0,Aj.jsxs)("span",{className:"range-stat-value info",children:[X(Z.deliveryFees)," \u0634\u064a\u0643\u0644"]})]}),(0,Aj.jsxs)("div",{className:"range-stat highlight",children:[(0,Aj.jsx)("span",{className:"range-stat-label",children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a (\u0628\u062f\u0648\u0646 \u0627\u0644\u062a\u0648\u0635\u064a\u0644):"}),(0,Aj.jsxs)("span",{className:"range-stat-value primary",children:[X(Z.totalAmount-Z.deliveryFees)," ","\u0634\u064a\u0643\u0644"]})]})]}),(!D||!O)&&(0,Aj.jsx)("div",{className:"no-date-message",children:(0,Aj.jsxs)("p",{children:[(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})," \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0646\u0637\u0627\u0642 \u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0644\u0639\u0631\u0636 \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a"]})})]})]}),(0,Aj.jsxs)("div",{className:"stats-card chart-card",children:[(0,Aj.jsxs)("h3",{children:[(0,Aj.jsx)("i",{className:"fas fa-box"})," \u0645\u0628\u064a\u0639\u0627\u062a \u0627\u0644\u0645\u0646\u062a\u062c \u062d\u0633\u0628 \u0627\u0644\u0634\u0647\u0631"]}),(0,Aj.jsxs)("div",{className:"product-month-filter",children:[(0,Aj.jsxs)("div",{className:"filter-inputs",children:[(0,Aj.jsxs)("div",{className:"filter-input-group",children:[(0,Aj.jsx)("label",{htmlFor:"product-select",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0646\u062a\u062c:"}),(0,Aj.jsxs)("select",{id:"product-select",value:z,onChange:function(e){return B(e.target.value)},className:"product-selector",children:[(0,Aj.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0645\u0646\u062a\u062c --"}),H.allProducts.map(function(e){return(0,Aj.jsx)("option",{value:e.id,children:e.name},e.id)})]})]}),(0,Aj.jsxs)("div",{className:"filter-input-group",children:[(0,Aj.jsx)("label",{htmlFor:"product-month",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0634\u0647\u0631:"}),(0,Aj.jsx)("input",{type:"month",id:"product-month",value:F,onChange:function(e){return V(e.target.value)},className:"date-picker"})]})]}),z&&F&&(0,Aj.jsx)("div",{className:"product-sales-result",children:(0,Aj.jsxs)("div",{className:"sales-info",children:[(0,Aj.jsx)("span",{className:"sales-icon",children:(0,Aj.jsx)("i",{className:"fas fa-chart-bar"})}),(0,Aj.jsxs)("div",{className:"sales-details",children:[(0,Aj.jsx)("p",{className:"sales-label",children:"\u0639\u062f\u062f \u0627\u0644\u0648\u062d\u062f\u0627\u062a \u0627\u0644\u0645\u0628\u0627\u0639\u0629:"}),(0,Aj.jsxs)("p",{className:"sales-value",children:[function(){if(!z||!F)return 0;var e=new Date(F),t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59),r=H.allOrders.filter(function(e){if(!e.createdAt)return!1;var r=e.createdAt.toDate?e.createdAt.toDate():new Date(e.createdAt);return r>=t&&r<=n}),a=0;return r.forEach(function(e){e.items&&e.items.forEach(function(e){(e.id||e.productId)===z&&(a+=e.quantity||1)})}),a}()," \u0648\u062d\u062f\u0629"]})]})]})}),(!z||!F)&&(0,Aj.jsx)("div",{className:"no-date-message",children:(0,Aj.jsxs)("p",{children:[(0,Aj.jsx)("i",{className:"fas fa-exclamation-triangle"})," \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0645\u0646\u062a\u062c \u0648\u0627\u0644\u0634\u0647\u0631 \u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"]})})]})]})]}),(0,Aj.jsxs)("section",{className:"stats-analytics",children:[(0,Aj.jsxs)("div",{className:"stats-row",children:[(0,Aj.jsxs)("div",{className:"stats-card chart-card",children:[(0,Aj.jsxs)("h3",{children:[(0,Aj.jsx)("i",{className:"fas fa-chart-bar"})," \u0627\u0644\u0637\u0644\u0628\u0627\u062a \u062d\u0633\u0628 \u0627\u0644\u062d\u0627\u0644\u0629"]}),(0,Aj.jsx)("div",{className:"chart-content",children:Object.entries(H.ordersByStatus).map(function(e){var t=c(e,2),n=t[0],r=t[1];return(0,Aj.jsxs)("div",{className:"chart-item",children:[(0,Aj.jsx)("div",{className:"chart-label",children:n}),(0,Aj.jsx)("div",{className:"chart-bar",children:(0,Aj.jsx)("div",{className:"chart-bar-fill",style:{width:"".concat(r/H.totalOrders*100,"%"),backgroundColor:kS(n)}})}),(0,Aj.jsx)("div",{className:"chart-value",children:r})]},n)})})]}),(0,Aj.jsxs)("div",{className:"stats-card chart-card",children:[(0,Aj.jsxs)("h3",{children:[(0,Aj.jsx)("i",{className:"fas fa-chart-line"})," \u0627\u0644\u0637\u0644\u0628\u0627\u062a \u062d\u0633\u0628 \u0627\u0644\u0634\u0647\u0631"]}),(0,Aj.jsxs)("div",{className:"month-selector-container",children:[(0,Aj.jsx)("label",{htmlFor:"month-selector",className:"month-selector-label",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0634\u0647\u0631:"}),(0,Aj.jsxs)("select",{id:"month-selector",value:T,onChange:function(e){return t=e.target.value,void I(t);var t},className:"month-selector",children:[(0,Aj.jsx)("option",{value:"",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0634\u0647\u0631"}),Object.keys(H.allOrdersByMonth||{}).sort(function(e,t){var n=new Date(e);return new Date(t)-n}).map(function(e){return(0,Aj.jsx)("option",{value:e,children:e},e)})]})]}),(0,Aj.jsx)("div",{className:"chart-content",children:Object.entries(H.ordersByMonth).length>0?Object.entries(H.ordersByMonth).map(function(e){var t=c(e,2),n=t[0],r=t[1];return(0,Aj.jsxs)("div",{className:"chart-item",children:[(0,Aj.jsx)("div",{className:"chart-label",children:n}),(0,Aj.jsx)("div",{className:"chart-bar",children:(0,Aj.jsx)("div",{className:"chart-bar-fill",style:{width:"".concat(Math.max(r/Math.max.apply(Math,h(Object.values(H.ordersByMonth)))*100,5),"%"),backgroundColor:"#4CAF50"}})}),(0,Aj.jsx)("div",{className:"chart-value",children:r})]},n)}):(0,Aj.jsxs)("div",{className:"no-month-data-message",children:[(0,Aj.jsx)("div",{className:"no-month-data-icon",children:(0,Aj.jsx)("i",{className:"fas fa-calendar-alt"})}),(0,Aj.jsx)("p",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u062d\u062f\u062f"})]})})]})]}),(0,Aj.jsxs)("div",{className:"stats-row",children:[(0,Aj.jsxs)("div",{className:"stats-card chart-card",children:[(0,Aj.jsxs)("h3",{children:[(0,Aj.jsx)("i",{className:"fas fa-trophy"})," \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0623\u0643\u062b\u0631 \u0637\u0644\u0628\u0627\u064b"]}),(0,Aj.jsx)("div",{className:"chart-content",children:H.topProducts.map(function(e,t){return(0,Aj.jsxs)("div",{className:"chart-item",children:[(0,Aj.jsxs)("div",{className:"chart-label",children:[(0,Aj.jsx)("span",{className:"rank-badge",children:t+1}),e.name]}),(0,Aj.jsx)("div",{className:"chart-bar",children:(0,Aj.jsx)("div",{className:"chart-bar-fill",style:{width:"".concat(e.orderCount/Math.max.apply(Math,h(H.topProducts.map(function(e){return e.orderCount})))*100,"%"),backgroundColor:xS(t)}})}),(0,Aj.jsx)("div",{className:"chart-value",children:e.orderCount})]},e.id)})})]}),(0,Aj.jsxs)("div",{className:"stats-card activity-card",children:[(0,Aj.jsxs)("h3",{children:[(0,Aj.jsx)("i",{className:"fas fa-clock"})," \u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062a \u0627\u0644\u0623\u062e\u064a\u0631\u0629"]}),(0,Aj.jsxs)("div",{className:"activity-filter-controls",children:[(0,Aj.jsxs)("div",{className:"filter-buttons",children:[(0,Aj.jsx)("button",{className:"filter-btn ".concat("all"===v?"active":""),onClick:function(){return J("all")},children:"\u0627\u0644\u0643\u0644"}),(0,Aj.jsx)("button",{className:"filter-btn ".concat("today"===v?"active":""),onClick:function(){return J("today")},children:"\u0627\u0644\u064a\u0648\u0645"}),(0,Aj.jsx)("button",{className:"filter-btn ".concat("month"===v?"active":""),onClick:function(){return J("month")},children:"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"}),(0,Aj.jsx)("button",{className:"filter-btn ".concat("custom"===v?"active":""),onClick:function(){return J("custom")},children:"\u062a\u0627\u0631\u064a\u062e \u0645\u062d\u062f\u062f"})]}),"custom"===v&&(0,Aj.jsx)("div",{className:"custom-date-input",children:(0,Aj.jsx)("input",{type:"date",value:b,onChange:function(e){return k(e.target.value)},className:"date-picker"})})]}),(0,Aj.jsx)("div",{className:"activity-list",children:H.recentActivity.length>0?H.recentActivity.map(function(e,t){return(0,Aj.jsxs)("div",{className:"activity-item",children:[(0,Aj.jsx)("div",{className:"activity-icon",children:"order"===e.type?(0,Aj.jsx)("i",{className:"fas fa-box"}):(0,Aj.jsx)("i",{className:"fas fa-comment"})}),(0,Aj.jsxs)("div",{className:"activity-content",children:[(0,Aj.jsx)("div",{className:"activity-title",children:e.title}),(0,Aj.jsx)("div",{className:"activity-description",children:e.description}),(0,Aj.jsx)("div",{className:"activity-date",children:Q(e.date)})]}),(0,Aj.jsx)("div",{className:"activity-status ".concat(e.status),children:e.status})]},t)}):(0,Aj.jsxs)("div",{className:"no-activities-message",children:[(0,Aj.jsx)("div",{className:"no-activities-icon",children:(0,Aj.jsx)("i",{className:"fas fa-calendar-alt"})}),(0,Aj.jsx)("p",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u0634\u0627\u0637\u0627\u062a \u0641\u064a \u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0645\u062d\u062f\u062f\u0629"})]})}),K(H.allActivities,v,b).length>5&&(0,Aj.jsx)("div",{className:"see-more-container",children:(0,Aj.jsx)("button",{className:"stats-btn secondary see-more-btn",onClick:function(){N(!0),_(1)},children:"\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062a"})})]})]}),(0,Aj.jsx)("div",{className:"stats-row",children:(0,Aj.jsxs)("div",{className:"stats-card most-ordered-products-card",children:[(0,Aj.jsxs)("h3",{children:[(0,Aj.jsx)("i",{className:"fas fa-shopping-bag"})," \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0623\u0643\u062b\u0631 \u0637\u0644\u0628\u0627\u064b - \u0639\u0631\u0636 \u062a\u0641\u0635\u064a\u0644\u064a"]}),(0,Aj.jsx)("div",{className:"most-ordered-products-grid",children:H.mostOrderedProducts&&H.mostOrderedProducts.length>0?H.mostOrderedProducts.map(function(e,t){var n,r;return(0,Aj.jsxs)("div",{className:"most-ordered-product-item",children:[(0,Aj.jsxs)("div",{className:"product-image-container",children:[e.images&&e.images.length>0?(0,Aj.jsx)("img",{src:e.images[0],alt:e.name,className:"product-image",onError:function(e){e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Aj.jsx)("div",{className:"product-image-fallback",style:{display:e.images&&e.images.length>0?"none":"flex"},children:(0,Aj.jsx)("span",{className:"product-icon",children:(0,Aj.jsx)("i",{className:"fas fa-shopping-bag"})})}),(0,Aj.jsx)("div",{className:"product-rank-badge",children:(0,Aj.jsx)("span",{className:"rank-number",children:t+1})})]}),(0,Aj.jsxs)("div",{className:"product-info",children:[(0,Aj.jsx)("h4",{className:"product-name",children:e.name}),(0,Aj.jsxs)("div",{className:"product-meta",children:[(0,Aj.jsx)("span",{className:"product-brand",children:e.brand||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"}),(0,Aj.jsx)("span",{className:"product-category",children:(null===(n=e.categories)||void 0===n?void 0:n[0])||"\u0639\u0627\u0645"})]}),(0,Aj.jsxs)("div",{className:"product-stats",children:[(0,Aj.jsxs)("div",{className:"stat-item",children:[(0,Aj.jsx)("span",{className:"stat-label",children:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a:"}),(0,Aj.jsx)("span",{className:"stat-value orders-count",children:e.orderCount})]}),(0,Aj.jsxs)("div",{className:"stat-item",children:[(0,Aj.jsx)("span",{className:"stat-label",children:"\u0627\u0644\u0633\u0639\u0631:"}),(0,Aj.jsx)("span",{className:"stat-value price",children:e.hasVariants&&e.variants?(0,Aj.jsxs)("span",{children:["\u0645\u0646"," ",Math.min.apply(Math,h(e.variants.map(function(e){return e.price})))," ","\u0625\u0644\u0649"," ",Math.max.apply(Math,h(e.variants.map(function(e){return e.price})))," ","\u0634\u064a\u0643\u0644"]}):(0,Aj.jsxs)("span",{children:[e.price," \u0634\u064a\u0643\u0644"]})})]}),(0,Aj.jsxs)("div",{className:"stat-item",children:[(0,Aj.jsx)("span",{className:"stat-label",children:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646:"}),(0,Aj.jsxs)("span",{className:"stat-value stock ".concat((r=Y(e),r>10?"high":r>5?"medium":"low")),children:[X(Y(e))," \u0642\u0637\u0639\u0629"]})]})]})]})]},e.id)}):(0,Aj.jsxs)("div",{className:"no-orders-message",children:[(0,Aj.jsx)("div",{className:"no-orders-icon",children:(0,Aj.jsx)("i",{className:"fas fa-box"})}),(0,Aj.jsx)("h3",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0637\u0644\u0628\u0627\u062a \u0628\u0639\u062f"}),(0,Aj.jsx)("p",{children:"\u0644\u0645 \u064a\u062a\u0645 \u0637\u0644\u0628 \u0623\u064a \u0645\u0646\u062a\u062c \u062d\u062a\u0649 \u0627\u0644\u0622\u0646"})]})})]})})]})]}),w&&(0,Aj.jsx)("div",{className:"activity-modal-overlay",onClick:re,children:(0,Aj.jsxs)("div",{className:"activity-modal",onClick:function(e){return e.stopPropagation()},children:[(0,Aj.jsxs)("div",{className:"modal-header",children:[(0,Aj.jsxs)("h2",{children:[(0,Aj.jsx)("i",{className:"fas fa-clock"})," \u062c\u0645\u064a\u0639 \u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062a"]}),(0,Aj.jsx)("button",{className:"modal-close-btn",onClick:re,children:(0,Aj.jsx)("i",{className:"fas fa-times"})})]}),(0,Aj.jsxs)("div",{className:"modal-filter-controls",children:[(0,Aj.jsxs)("div",{className:"filter-buttons",children:[(0,Aj.jsx)("button",{className:"filter-btn ".concat("all"===v?"active":""),onClick:function(){return J("all")},children:"\u0627\u0644\u0643\u0644"}),(0,Aj.jsx)("button",{className:"filter-btn ".concat("today"===v?"active":""),onClick:function(){return J("today")},children:"\u0627\u0644\u064a\u0648\u0645"}),(0,Aj.jsx)("button",{className:"filter-btn ".concat("month"===v?"active":""),onClick:function(){return J("month")},children:"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"}),(0,Aj.jsx)("button",{className:"filter-btn ".concat("custom"===v?"active":""),onClick:function(){return J("custom")},children:"\u062a\u0627\u0631\u064a\u062e \u0645\u062d\u062f\u062f"})]}),"custom"===v&&(0,Aj.jsx)("div",{className:"custom-date-input",children:(0,Aj.jsx)("input",{type:"date",value:b,onChange:function(e){return k(e.target.value)},className:"date-picker"})})]}),(0,Aj.jsxs)("div",{className:"modal-content",children:[(0,Aj.jsx)("div",{className:"modal-activity-list",children:ee().length>0?ee().map(function(e,t){return(0,Aj.jsxs)("div",{className:"modal-activity-item",children:[(0,Aj.jsx)("div",{className:"activity-icon",children:"order"===e.type?(0,Aj.jsx)("i",{className:"fas fa-box"}):(0,Aj.jsx)("i",{className:"fas fa-comment"})}),(0,Aj.jsxs)("div",{className:"activity-content",children:[(0,Aj.jsx)("div",{className:"activity-title",children:e.title}),(0,Aj.jsx)("div",{className:"activity-description",children:e.description}),(0,Aj.jsx)("div",{className:"activity-date",children:Q(e.date)})]}),(0,Aj.jsx)("div",{className:"activity-status ".concat(e.status),children:e.status})]},t)}):(0,Aj.jsxs)("div",{className:"no-activities-message",children:[(0,Aj.jsx)("div",{className:"no-activities-icon",children:(0,Aj.jsx)("i",{className:"fas fa-calendar-alt"})}),(0,Aj.jsx)("p",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u0634\u0627\u0637\u0627\u062a \u0641\u064a \u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0645\u062d\u062f\u062f\u0629"})]})}),te()>1&&(0,Aj.jsxs)("div",{className:"pagination",children:[(0,Aj.jsx)("button",{className:"pagination-btn",onClick:function(){return ne(S-1)},disabled:1===S,children:"\u0627\u0644\u0633\u0627\u0628\u0642"}),(0,Aj.jsx)("div",{className:"page-numbers",children:Array.from({length:te()},function(e,t){return t+1}).map(function(e){return(0,Aj.jsx)("button",{className:"page-number ".concat(e===S?"active":""),onClick:function(){return ne(e)},children:e},e)})}),(0,Aj.jsx)("button",{className:"pagination-btn",onClick:function(){return ne(S+1)},disabled:S===te(),children:"\u0627\u0644\u062a\u0627\u0644\u064a"})]}),(0,Aj.jsxs)("div",{className:"modal-footer",children:[(0,Aj.jsx)("div",{className:"activity-summary",children:(0,Aj.jsxs)("span",{children:["\u0639\u0631\u0636 ",ee().length," \u0645\u0646"," ",K(H.allActivities,v,b).length," ","\u0646\u0634\u0627\u0637"]})}),(0,Aj.jsx)("button",{className:"stats-btn primary",onClick:re,children:"\u0625\u063a\u0644\u0627\u0642"})]})]})]})})]})},NS=function(){var t=c((0,e.useState)({totalVisitors:0,currentVisitors:0,rangeVisitors:0,peakVisitorsToday:0,totalOrders:0,rangeOrders:0}),2),n=t[0],r=t[1],a=c((0,e.useState)("today"),2),i=a[0],s=a[1],o=c((0,e.useState)(""),2),u=o[0],l=o[1],d=c((0,e.useState)(""),2),f=d[0],h=d[1],p=c((0,e.useState)(!0),2),m=p[0],v=p[1],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date,n=new Date(t.toLocaleString("en-US",{timeZone:"Asia/Gaza"})),r=new Date(n);r.setDate(r.getDate()-e),r.setHours(0,0,0,0);var a=new Date(n);return a.setHours(23,59,59,999),{start:r,end:a}},y=function(){switch(i){case"today":default:return g(0);case"week":return g(7);case"month":return g(30);case"custom":if(u&&f){var e=new Date(u);e.setHours(0,0,0,0);var t=new Date(f);return t.setHours(23,59,59,999),{start:e,end:t}}return g(0)}},b=function(){var e=_n(jn().m(function e(){var t,n,r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=op(jj,"visitors"),e.n=1,vm(t);case 1:return n=e.v,e.a(2,n.size);case 2:return e.p=2,r=e.v,console.error("Error fetching total visitors:",r),e.a(2,0)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=_n(jn().m(function e(){var t,n,r,a,i,s,o;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=y(),n=t.start,r=t.end,a=op(jj,"visitors"),i=Xp(a,Jp("timestamp",">=",Ri.fromDate(n)),Jp("timestamp","<=",Ri.fromDate(r))),e.n=1,vm(i);case 1:return s=e.v,e.a(2,s.size);case 2:return e.p=2,o=e.v,console.error("Error fetching visitors in range:",o),e.a(2,0)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=_n(jn().m(function e(){var t,n,r,a,i,s,o;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=y(),n=t.start,r=t.end,a=op(jj,"peakVisitors"),i=Xp(a,Jp("timestamp",">=",Ri.fromDate(n)),Jp("timestamp","<=",Ri.fromDate(r)),em("count","desc"),nm(1)),e.n=1,vm(i);case 1:if((s=e.v).empty){e.n=2;break}return e.a(2,s.docs[0].data().count);case 2:return e.a(2,0);case 3:return e.p=3,o=e.v,console.error("Error fetching peak visitors:",o),e.a(2,0)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=_n(jn().m(function e(){var t,n,r,a,i,s,o,c,u,l;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=op(jj,"orders"),e.n=1,vm(t);case 1:return n=e.v,r=n.size,a=y(),i=a.start,s=a.end,o=Xp(t,Jp("createdAt",">=",Ri.fromDate(i)),Jp("createdAt","<=",Ri.fromDate(s))),e.n=2,vm(o);case 2:return c=e.v,u=c.size,e.a(2,{totalOrders:r,rangeOrders:u});case 3:return e.p=3,l=e.v,console.error("Error fetching orders:",l),e.a(2,{totalOrders:0,rangeOrders:0})}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=_n(jn().m(function e(){var t,n,a,i,s,o,u;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return v(!0),e.p=1,e.n=2,Promise.all([b(),k(),x(),w()]);case 2:t=e.v,n=c(t,4),a=n[0],i=n[1],s=n[2],o=n[3],r(function(e){return st(st({},e),{},{totalVisitors:a,rangeVisitors:i,peakVisitorsToday:s,totalOrders:o.totalOrders,rangeOrders:o.rangeOrders})}),e.n=4;break;case 3:e.p=3,u=e.v,console.error("Error updating statistics:",u);case 4:return e.p=4,v(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)(function(){var e=xm(op(jj,"activeVisitors"),function(e){var t=e.size;r(function(e){return st(st({},e),{},{currentVisitors:t})})});return function(){return e()}},[]),(0,e.useEffect)(function(){N()},[i,u,f]);var j=function(){switch(i){case"today":default:return"\u0627\u0644\u064a\u0648\u0645";case"week":return"\u0622\u062e\u0631 7 \u0623\u064a\u0627\u0645";case"month":return"\u0622\u062e\u0631 30 \u064a\u0648\u0645";case"custom":return"\u0641\u062a\u0631\u0629 \u0645\u062e\u0635\u0635\u0629"}};return(0,Aj.jsxs)(Aj.Fragment,{children:[(0,Aj.jsx)(Fj,{}),(0,Aj.jsxs)("div",{className:"visitor-statistics-container",children:[(0,Aj.jsxs)("div",{className:"visitor-statistics-header",children:[(0,Aj.jsxs)("h1",{children:[(0,Aj.jsx)("i",{className:"fas fa-chart-bar"})," \u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0632\u0648\u0627\u0631"]}),(0,Aj.jsxs)("div",{className:"date-range-selector",children:[(0,Aj.jsx)("label",{children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0646\u0637\u0627\u0642 \u0627\u0644\u0632\u0645\u0646\u064a:"}),(0,Aj.jsxs)("select",{value:i,onChange:function(e){return s(e.target.value)},className:"range-select",children:[(0,Aj.jsx)("option",{value:"today",children:"\u0627\u0644\u064a\u0648\u0645"}),(0,Aj.jsx)("option",{value:"week",children:"\u0622\u062e\u0631 7 \u0623\u064a\u0627\u0645"}),(0,Aj.jsx)("option",{value:"month",children:"\u0622\u062e\u0631 30 \u064a\u0648\u0645"}),(0,Aj.jsx)("option",{value:"custom",children:"\u0641\u062a\u0631\u0629 \u0645\u062e\u0635\u0635\u0629"})]}),"custom"===i&&(0,Aj.jsxs)("div",{className:"custom-date-range",children:[(0,Aj.jsx)("input",{type:"date",value:u,onChange:function(e){return l(e.target.value)},className:"date-input"}),(0,Aj.jsx)("span",{children:"\u0625\u0644\u0649"}),(0,Aj.jsx)("input",{type:"date",value:f,onChange:function(e){return h(e.target.value)},className:"date-input"})]})]})]}),m?(0,Aj.jsx)("div",{className:"loading",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a..."}):(0,Aj.jsxs)("div",{className:"stats-grid",children:[(0,Aj.jsxs)("div",{className:"stat-card total",children:[(0,Aj.jsx)("div",{className:"stat-icon",children:(0,Aj.jsx)("i",{className:"fas fa-users"})}),(0,Aj.jsxs)("div",{className:"stat-content",children:[(0,Aj.jsx)("h3",{children:"\u0639\u062f\u062f \u0627\u0644\u0632\u0648\u0627\u0631 \u0627\u0644\u0643\u0644\u064a"}),(0,Aj.jsx)("p",{className:"stat-number",children:n.totalVisitors.toLocaleString()}),(0,Aj.jsx)("span",{className:"stat-label",children:"\u0645\u0646\u0630 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0648\u0642\u0639"})]})]}),(0,Aj.jsxs)("div",{className:"stat-card current",children:[(0,Aj.jsx)("div",{className:"stat-icon live",children:(0,Aj.jsx)("i",{className:"fas fa-circle"})}),(0,Aj.jsxs)("div",{className:"stat-content",children:[(0,Aj.jsx)("h3",{children:"\u0627\u0644\u0632\u0648\u0627\u0631 \u0627\u0644\u062d\u0627\u0644\u064a\u064a\u0646"}),(0,Aj.jsx)("p",{className:"stat-number",children:n.currentVisitors.toLocaleString()}),(0,Aj.jsx)("span",{className:"stat-label",children:"\u0645\u062a\u0635\u0644\u064a\u0646 \u0627\u0644\u0622\u0646"})]})]}),(0,Aj.jsxs)("div",{className:"stat-card range",children:[(0,Aj.jsx)("div",{className:"stat-icon",children:(0,Aj.jsx)("i",{className:"fas fa-calendar-day"})}),(0,Aj.jsxs)("div",{className:"stat-content",children:[(0,Aj.jsxs)("h3",{children:["\u0632\u0648\u0627\u0631 ",j()]}),(0,Aj.jsx)("p",{className:"stat-number",children:n.rangeVisitors.toLocaleString()}),(0,Aj.jsx)("span",{className:"stat-label",children:"\u0628\u062a\u0648\u0642\u064a\u062a \u0641\u0644\u0633\u0637\u064a\u0646"})]})]}),(0,Aj.jsxs)("div",{className:"stat-card peak",children:[(0,Aj.jsx)("div",{className:"stat-icon",children:(0,Aj.jsx)("i",{className:"fas fa-chart-line"})}),(0,Aj.jsxs)("div",{className:"stat-content",children:[(0,Aj.jsx)("h3",{children:"\u0623\u0639\u0644\u0649 \u0639\u062f\u062f \u0645\u062a\u0632\u0627\u0645\u0646\u064a\u0646"}),(0,Aj.jsx)("p",{className:"stat-number",children:n.peakVisitorsToday.toLocaleString()}),(0,Aj.jsx)("span",{className:"stat-label",children:j()})]})]}),(0,Aj.jsxs)("div",{className:"stat-card orders-total",children:[(0,Aj.jsx)("div",{className:"stat-icon",children:(0,Aj.jsx)("i",{className:"fas fa-shopping-cart"})}),(0,Aj.jsxs)("div",{className:"stat-content",children:[(0,Aj.jsx)("h3",{children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Aj.jsx)("p",{className:"stat-number",children:n.totalOrders.toLocaleString()}),(0,Aj.jsx)("span",{className:"stat-label",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0648\u0642\u0627\u062a"})]})]}),(0,Aj.jsxs)("div",{className:"stat-card orders-range",children:[(0,Aj.jsx)("div",{className:"stat-icon",children:(0,Aj.jsx)("i",{className:"fas fa-box"})}),(0,Aj.jsxs)("div",{className:"stat-content",children:[(0,Aj.jsxs)("h3",{children:["\u0637\u0644\u0628\u0627\u062a ",j()]}),(0,Aj.jsx)("p",{className:"stat-number",children:n.rangeOrders.toLocaleString()}),(0,Aj.jsx)("span",{className:"stat-label",children:"\u062e\u0644\u0627\u0644 \u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0645\u062d\u062f\u062f\u0629"})]})]})]}),(0,Aj.jsxs)("button",{onClick:N,className:"refresh-btn",disabled:m,children:[(0,Aj.jsx)("i",{className:"fas fa-sync-alt"})," \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a"]})]})]})};var jS=function(t){var n=t.children,r=c((0,e.useState)(null),2),a=r[0],i=r[1],s=c((0,e.useState)(!0),2),o=s[0],u=s[1];return(0,e.useEffect)(function(){var e=Sy(Sj,function(e){i(e),u(!1)});return function(){return e()}},[]),o?(0,Aj.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",fontSize:"1.2rem",color:"#6E6259"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u062f\u062e\u0648\u0644..."}):a?n:(0,Aj.jsx)(Fe,{to:"/admin",replace:!0})};var SS=function(){var t=xe().pathname;return(0,e.useEffect)(function(){try{window.scrollTo({top:0,left:0,behavior:"instant"})}catch(e){window.scrollTo(0,0)}document.documentElement&&(document.documentElement.scrollTop=0),document.body&&(document.body.scrollTop=0);t.startsWith("/products/")?document.title="Luxury Fashion - Product Details":document.title={"/":"Luxury Fashion","/about":"Luxury Fashion - About Us","/contact":"Luxury Fashion - Contact Us","/products":"Luxury Fashion - Products","/cart":"Luxury Fashion - Shopping Cart","/admin":"Luxury Fashion - Admin Login","/admin/dashboard":"Luxury Fashion - Admin Dashboard","/admin/products":"Luxury Fashion - Manage Products","/admin/brands":"Luxury Fashion - Manage Brands","/admin/categories":"Luxury Fashion - Manage Categories","/admin/orders":"Luxury Fashion - Orders","/admin/feedbacks":"Luxury Fashion - Manage Feedbacks","/admin/discounts":"Luxury Fashion - Manage Discounts","/admin/statistics":"Luxury Fashion - Statistics","/admin/hero-slides":"Luxury Fashion - Manage Hero Slides"}[t]||"Luxury Fashion"},[t]),null},_S=function(){var e=localStorage.getItem("visitorSessionId");return e||(e="session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),localStorage.setItem("visitorSessionId",e)),e},ES=function(){var e=_n(jn().m(function e(){var t,n,r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,t=_S(),n=op(jj,"visitors"),localStorage.getItem("visitTracked")){e.n=2;break}return e.n=1,km(n,{sessionId:t,timestamp:Im(),userAgent:navigator.userAgent,language:navigator.language,screenResolution:"".concat(window.screen.width,"x").concat(window.screen.height),referrer:document.referrer||"direct"});case 1:localStorage.setItem("visitTracked","true"),console.log("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629");case 2:return e.n=3,TS(t);case 3:e.n=5;break;case 4:e.p=4,r=e.v,console.error("\u062e\u0637\u0623 \u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629:",r);case 5:return e.a(2)}},e,null,[[0,4]])}));return function(){return e.apply(this,arguments)}}(),CS=null,TS=function(){var e=_n(jn().m(function e(t){var n,r,a,i;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n=cp(jj,"activeVisitors",t),e.n=1,gm(n,{sessionId:t,lastActivity:Im(),isActive:!0},{merge:!0});case 1:return r=parseInt(localStorage.getItem("activeTabCount")||"0"),r++,localStorage.setItem("activeTabCount",r.toString()),CS||(CS=setInterval(_n(jn().m(function e(){var t;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,ym(n,{lastActivity:Im()});case 1:e.n=3;break;case 2:e.p=2,t=e.v,console.error("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0646\u0634\u0627\u0637:",t),clearInterval(CS),CS=null;case 3:return e.a(2)}},e,null,[[0,2]])})),3e4)),a=function(){var e=_n(jn().m(function e(){var n;return jn().w(function(e){for(;;)switch(e.n){case 0:if(n=parseInt(localStorage.getItem("activeTabCount")||"0"),!(--n<=0)){e.n=2;break}return localStorage.setItem("activeTabCount","0"),CS&&(clearInterval(CS),CS=null),e.n=1,IS(t);case 1:e.n=3;break;case 2:localStorage.setItem("activeTabCount",n.toString());case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),window.addEventListener("beforeunload",a),e.n=2,AS();case 2:e.n=4;break;case 3:e.p=3,i=e.v,console.error("\u062e\u0637\u0623 \u0641\u064a \u062a\u062a\u0628\u0639 \u0627\u0644\u0632\u0627\u0626\u0631 \u0627\u0644\u0646\u0634\u0637:",i);case 4:return e.a(2)}},e,null,[[0,3]])}));return function(t){return e.apply(this,arguments)}}(),IS=function(){var e=_n(jn().m(function e(t){var n,r;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n=cp(jj,"activeVisitors",t),e.n=1,bm(n);case 1:e.n=3;break;case 2:e.p=2,r=e.v,console.error("\u062e\u0637\u0623 \u0641\u064a \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0632\u0627\u0626\u0631 \u0627\u0644\u0646\u0634\u0637:",r);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}(),AS=function(){var e=_n(jn().m(function e(){var t,n,r,a,i,s,o,c,u,l,d,f;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=op(jj,"activeVisitors"),e.n=1,vm(t);case 1:return n=e.v,r=n.size,a=new Date,i=new Date(a.toLocaleString("en-US",{timeZone:"Asia/Gaza"})),s=new Date(i.getFullYear(),i.getMonth(),i.getDate()),o=op(jj,"peakVisitors"),c=Xp(o,Jp("date",">=",Ri.fromDate(s))),e.n=2,vm(c);case 2:if(!(u=e.v).empty){e.n=4;break}return e.n=3,km(o,{count:r,timestamp:Im(),date:Ri.fromDate(s)});case 3:e.n=5;break;case 4:if(l=u.docs[0],d=l.data(),!(r>d.count)){e.n=5;break}return e.n=5,ym(cp(jj,"peakVisitors",l.id),{count:r,timestamp:Im()});case 5:e.n=7;break;case 6:e.p=6,f=e.v,console.error("\u062e\u0637\u0623 \u0641\u064a \u062a\u062a\u0628\u0639 \u0623\u0639\u0644\u0649 \u0639\u062f\u062f \u0632\u0648\u0627\u0631:",f);case 7:return e.a(2)}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),DS=function(){var e=_n(jn().m(function e(){var t,n,r,a;return jn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=op(jj,"activeVisitors"),e.n=1,vm(t);case 1:n=e.v,r=new Date(Date.now()-12e4),n.forEach(function(){var e=_n(jn().m(function e(t){var n,a,i;return jn().w(function(e){for(;;)switch(e.n){case 0:if(a=t.data(),!((i=null===(n=a.lastActivity)||void 0===n?void 0:n.toDate())&&i<r)){e.n=1;break}return e.n=1,bm(cp(jj,"activeVisitors",t.id));case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),e.n=3;break;case 2:e.p=2,a=e.v,console.error("\u062e\u0637\u0623 \u0641\u064a \u062a\u0646\u0638\u064a\u0641 \u0627\u0644\u0632\u0648\u0627\u0631 \u063a\u064a\u0631 \u0627\u0644\u0646\u0634\u0637\u064a\u0646:",a);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();var PS=function(){return(0,e.useEffect)(function(){ES();var e=setInterval(function(){DS()},3e5);return function(){clearInterval(e)}},[]),(0,Aj.jsxs)("div",{className:"App",children:[(0,Aj.jsx)(xn,{position:"top-center",reverseOrder:!1,toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",fontFamily:"Cairo, sans-serif",fontSize:"14px",padding:"16px",borderRadius:"8px"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),(0,Aj.jsx)(SS,{}),(0,Aj.jsx)("main",{className:"main-content",children:(0,Aj.jsxs)(ze,{children:[(0,Aj.jsx)(Ve,{path:"/",element:(0,Aj.jsx)(Gj,{})}),(0,Aj.jsx)(Ve,{path:"/about",element:(0,Aj.jsx)($j,{})}),(0,Aj.jsx)(Ve,{path:"/contact",element:(0,Aj.jsx)(Zj,{})}),(0,Aj.jsx)(Ve,{path:"/products",element:(0,Aj.jsx)(Kj,{})}),(0,Aj.jsx)(Ve,{path:"/products/:id",element:(0,Aj.jsx)(Jj,{})}),(0,Aj.jsx)(Ve,{path:"/cart",element:(0,Aj.jsx)(eS,{})}),(0,Aj.jsx)(Ve,{path:"/admin",element:(0,Aj.jsx)(tS,{})}),(0,Aj.jsx)(Ve,{path:"/admin/dashboard",element:(0,Aj.jsx)(jS,{children:(0,Aj.jsx)(lS,{})})}),(0,Aj.jsx)(Ve,{path:"/admin/products",element:(0,Aj.jsx)(jS,{children:(0,Aj.jsx)(dS,{})})}),(0,Aj.jsx)(Ve,{path:"/admin/brands",element:(0,Aj.jsx)(jS,{children:(0,Aj.jsx)(hS,{})})}),(0,Aj.jsx)(Ve,{path:"/admin/categories",element:(0,Aj.jsx)(jS,{children:(0,Aj.jsx)(fS,{})})}),(0,Aj.jsx)(Ve,{path:"/admin/orders",element:(0,Aj.jsx)(jS,{children:(0,Aj.jsx)(vS,{})})}),(0,Aj.jsx)(Ve,{path:"/admin/feedbacks",element:(0,Aj.jsx)(jS,{children:(0,Aj.jsx)(gS,{})})}),(0,Aj.jsx)(Ve,{path:"/admin/discounts",element:(0,Aj.jsx)(jS,{children:(0,Aj.jsx)(yS,{})})}),(0,Aj.jsx)(Ve,{path:"/admin/coupons",element:(0,Aj.jsx)(jS,{children:(0,Aj.jsx)(bS,{})})}),(0,Aj.jsx)(Ve,{path:"/admin/statistics",element:(0,Aj.jsx)(jS,{children:(0,Aj.jsx)(wS,{})})}),(0,Aj.jsx)(Ve,{path:"/admin/visitor-statistics",element:(0,Aj.jsx)(jS,{children:(0,Aj.jsx)(NS,{})})}),(0,Aj.jsx)(Ve,{path:"/admin/hero-slides",element:(0,Aj.jsx)(jS,{children:(0,Aj.jsx)(pS,{})})}),(0,Aj.jsx)(Ve,{path:"/admin/promotional-banner",element:(0,Aj.jsx)(jS,{children:(0,Aj.jsx)(mS,{})})}),(0,Aj.jsx)(Ve,{path:"*",element:(0,Aj.jsx)(Fe,{to:"/"})})]})})]})};window.reactLoaded=!0;var RS=document.getElementById("loading-indicator");RS&&(RS.style.display="none"),console.log("React app initialized successfully"),r.createRoot(document.getElementById("root")).render((0,Aj.jsx)(e.StrictMode,{children:(0,Aj.jsx)(Ye,{children:(0,Aj.jsx)(Rj,{children:(0,Aj.jsx)(PS,{})})})}))})()})();
//# sourceMappingURL=main.89daf6f1.js.map